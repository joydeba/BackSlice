https://api.github.com/repos/NixOS/nixpkgs,121151,libdeltachat-init::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ~I could not try KDeltaChat because the interface was unusable for me. Might be that I need to run KDE to test it.~::@link2xt Is it a problem that this gives version 1.52.0, which has not been released on PyPI?::Isn't this done automatically?::It's ok to always package the latest tagged version, there are no ""bad"" versions of libdeltachat. Version 1.52 is not stable, it's one of the ""release candidate"" versions. We simply increase the second number whenever it looks like the version may be ready for release. Actual PyPI release will probably be done at the same time as android/ios/desktop releases.::True, `.dev` is superfulous.::And will that actual release receive a new version? How can I tell release candidates and actual releases apart?::Actually it's not needed at all. I don't know why I put it there.::1.52 is an actual core release, we just don't use all core releases for PyPI/Android/iOS/Desktop releases. There will likely be 1.53 or 1.54 for the next application release which should happen *very soon*™. We don't have resources to maintain multiple branches and backport fixes, but all releases are stable and good enough for use thanks to lots of automated rust/python tests. It's ok to always package the latest tagged core in NixOS.::```suggestion maintainers = with maintainers; [ dotlambda ]; # darwin fails with: # error: failed to add native library /private/tmp/nix-build-libdeltachat-1.52.0.drv-0/source/target/release/build/libsqlite3-sys-e85b24d5407a705c/out/libsqlite3.a: file too small to be an archive broken = stdenv.isDarwin; ``` feel free to short the error message.::@SuperSandro2000 Can you try again?::@SuperSandro2000 Do you know where this is documented?::I didn't build it myself. Ofborg did it for me. My builder is currently very flaky and I don't know why so lets wait a bit for ofborg.::I ended up setting `platforms = platforms.linux`. If someone wants to use it on macOS, feel free to contribute a patch.::IIRC, as part of the multiple outputs work, it essentially do a `lib.getDev` on anything in buildInputs.::just curious as to why `rustPlatform.buildRustPackage` wasn't used since, it looks like you're running most of the logic. And maybe just comment as to why `buildRustPackage` isn't suitable if there is a good reason :)::Cause I'm using CMake. Using `buildRustPackage` leads to an empty output though I guess I could do `make` and `make install` in `postBuild` and `installPhase`. I don't see any advantage of that though.::@jonringer Do you know of an easier way?::Ah, I missed that. No, the way that you did it makes sense then :) ::",5d8f586b3321dabc8e55ae0c24c04ede2cd7c8eb::51aa52a0aa372ad92454d6bba89143c91e35f414::8a6ad02d46930cfb70a57d552fc207290018ebd6::
https://api.github.com/repos/NixOS/nixpkgs,121070,backport-croc9::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"Backporting the version bump due to a severe security issue, that caused a protocol change, effectively disabling the old version for common use cases. (cherry picked from commit 0a6f41e438e1d3d9caf25baa2d1b205cc06c8196) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change - CVE-2021-31603 - request for backport https://github.com/NixOS/nixpkgs/pull/120172#issuecomment-826131188 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",489458a43cbfc8d876952538c08149193c0d1566::
https://api.github.com/repos/NixOS/nixpkgs,120930,update/palemoon-29.2.0/21.05::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"###### Motivation for this change New version release today, includes security-relevant fixes. (Needs backport) > - Security issues addressed: CVE-2021-29946 DiD and CVE-2021-23994 DiD . > - Unified XUL Platform Mozilla Security Patch Summary: 2 DiD, 14 not applicable Removed some unused dependencies (`[ bzip2 hunspell file libjpeg wget ]`. I'm sure there's more still - maybe `which`, although it'll print alot of `which: command not found` messages during configuration), `nixpkgs-fmt`ed it & did some more cleaning up of the expression. I removed SDK-related paths and the stdenv override from top-packages, so this partly addresses #117369. The compiler version restrictions from https://developer.palemoon.org/build/linux/ still apply but forcing the compiler like this gave me problems with GL driver loading so I'll just try to keep an eye on the stdenv's GCC version instead. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::`nixpkgs-fmt` suggested it here? I prefer the old way.::Remember to use the new fancy `hash = sri-format` in the future.::Why this commentary at the top?::My nix & associated tools don't generate those new fancy `sha256-` hashes, so I don't know how. :man_shrugging: ::It's from the stdenv override in all-packages.nix that I had to remove to fix WebGL on my machine, I moved it here because I didn't want to lose the link completely. The compiler guideline there is still relevant for the official branding we use. > GCC versions 4.9, 5.x, 7.x, 8.x, 9.x or 10.x > >   - GCC 6.x is not _at all_ recommended and has been known to produce unstable binaries. It has been reported that Debian-based GCC 6.x seems to produce stable enough binaries. Your mileage will vary, of course. >   - GCC 9.x and 10.x are still considered experimental at this time, however, they have thus far produced stable binaries. I can add more context to the comment if you want. I had also planned to `assert` if a supported stdenv is used so a future GCC bump in stdenv wouldn't pull palemoon into an unsupported setup. Or does that seem too ""overkill"" to you?::![grafik](https://user-images.githubusercontent.com/23431373/116540029-ea7f7500-a8e9-11eb-96da-c57f97a911e4.png) ::Added an explanation for now.::It is just me being pedantic and overly cautious, don't worry. I am using nix 2.4pre20210326_dd77f71`, and it can be generated with a command like: ``` nix hash to-sri sha256:<insert the hash here> ```::Hum... The explanation is fine for now. Setting GCC8 in all-packages.nix is a better way to handle this, and the assert would be useful only to block GCC6 and older versions, not the newer ones. After all, the tendency is that they use newer compilers, therefore banning newer compilers makes little sense.::Are they used for something interesting, like creating plugins or something like?::I really don't know. Our Firefox package has done the same thing for the last 7 years, so I assume it doesn't matter? https://github.com/NixOS/nixpkgs/commit/5c5f11560329f41573c862b2146f6f7bc5e19d1b#diff-4f162c39db036b9d3f8839850efcaad3ca502055d04f759ea76555607aa151e0R92-R94::> Setting GCC8 in all-packages.nix is a better way to handle this I agree, but that is what broke GL loading for me in the first place so I consider that not-viable. > and the assert would be useful only to block GCC6 and older versions, not the newer ones. After all, the tendency is that they use newer compilers, therefore banning newer compilers makes little sense. Their tendency is actually to build releases on a CentOS 7 system with GCC 7.x (or maybe 8.x in the future) until June 30th 2024, [last thing I remember](https://forum.palemoon.org/viewtopic.php?f=37&t=23031&start=20#p175838). I do see your point though.:: Two letters in a lone line? This is a bit strange to me. Maybe I will talk about it to the nixpkgs-fmt developers.::Firefox deprecated/invalidated xulrunner, whereas Palemoon was explicitly created/forked because of that Firefox decision (among many others). If those deleted files are used as a SDK/API for palemoon plugins, creating a `palemoon-sdk` package would be better.::I see your points now. There is a coupling among OpenGL, Palemoon and GCC. ::Oh… We should prolly just ask on the forum then. Why an extra package instead of a `dev`/`lib` output?::I looked into this again. In its unpatched state the icon isn't missing on my system now, but Pantheon's dock gets confused by the WM_CLASS value. I dumped some test results on the forum, let's see if it gets fixed / any response: https://forum.palemoon.org/viewtopic.php?f=37&t=26746:: > Why an extra package instead of a `dev`/`lib` output? This is what I meant by ""extra package"". Sorry by my confusion. ::> Oh… We should prolly just ask on the forum then. https://forum.palemoon.org/viewtopic.php?f=37&t=26796&p=214676#p214675 Upstream says we're installing it incorrectly, we should use `mach package` and extract the resulting archive where we need it instead of `mach install`ing everything. It makes a difference, they assured me. I'll push a WIP PR in abit where we should try to fix that.::Spoke too soon, the devs are disagreeing with each other now… I'll wait until they've decided on something. :sweat: :: > One thing I don't understand is why we are helping a hostile distro that has been mutually decided to not be official. They were still very upset about that event? Hey, we still not merged that piece of code in years, and after one of our developers registered to their forum in order to take useful advice about packaging and legal issues, and they still treat us as hostiles? They are very temperamental indeed!::> Well I just woke up so mah brain may be fetching obsolete data. If so, sorry about that. Let's leave the past in the past. Negative things stays in your head longer than positive ones. They apologised and that's that, I wouldn't take it personal. ¯\\\_(ツ)\_/¯ They decided that `install` is preferred & deleting the SDK cruft to match what `package` would produce is fine.::Less bad! Then, everything is OK after all.::",668264d220377c74638dc3d14a67119837c773f0::
https://api.github.com/repos/NixOS/nixpkgs,120864,20.09/strace::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Backports strace updates up to #120769 > Added a 9.needs: port to stable label because new kernel minors get backported to stable and each strace release (including this one) adds support for e.g. newly added syscalls, so a new strace may be useful there as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). (cherry picked from commit 3f01bf51e78efc59d445bf792d29b2dd535c2acf)::",5b719e6c205305ecc22d18e6c9098443c5b38e0c::21b4d19649d99cf856dae1f2f3fa2194c508d2f1::0e9eebf3edb854af53dab001307576106d27c726::c8eea87d83d437987f601171dd70087267cd995e::c83e0c902a910a848eadf266d46233de5e08ebd1::f7f02117c407e4be77901dfd7a3db9ae87c3afde::
https://api.github.com/repos/NixOS/nixpkgs,120769,strace-bump::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"###### Motivation for this change ChangeLog: https://github.com/strace/strace/releases/tag/v5.12 Added a `9.needs: port to stable` label because new kernel minors get backported to stable and each strace release (including this one) adds support for e.g. newly added syscalls, so a new `strace` may be useful there as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",86f1c0fb77191f36b0f0e36762ae018037fb1ae2::
https://api.github.com/repos/NixOS/nixpkgs,120669,fix/signedjson::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change It doesn't build right now (on 8931b66733af0c4048f8fda19c63651017cd7d54). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s): `matrix-synapse` - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion nativeBuildInputs = [ setuptools-scm ]; propagatedBuildInputs = [ canonicaljson unpaddedbase64 pynacl typing-extensions  importlib-metadata ]; ``` shouldn't be needed at runtime::`typing-extensions` would not be needed for Python 3.7 and above. `++ lib.optionals (pythonOlder ""3.7"") [ typing-extensions ]:` `importlib.metadata` was [introduced](https://docs.python.org/3/library/importlib.metadata.html) with Python 3.8 `  ++ lib.optionals (pythonOlder ""3.8"") [ importlib-metadata ];` ::Apparently `typing-extensions` is needed: ``` ERROR: Could not find a version that satisfies the requirement typing-extensions>=3.5 (from signedjson) ERROR: No matching distribution found for typing-extensions>=3.5 builder for '/nix/store/aj8lsyi88f9xw2wnmslvh1gmf92c9qbw-python3.9-signedjson-1.1.1.drv' failed with exit code 1 ``` ``` ERROR: Could not find a version that satisfies the requirement importlib-metadata (from signedjson) ERROR: No matching distribution found for importlib-metadata builder for '/nix/store/mhy3va7r5yig7a7rn8bl3i2jbvngibcm-python3.8-signedjson-1.1.1.drv' failed with exit code 1 ``` I can't test python 3.10, because canonicaljson fails. ``` builder for '/nix/store/5j2liar6pj5nb0s8iy4i7bq4g5cy0478-python3.10-canonicaljson-1.4.0.drv' failed with exit code 1 ```:: #120737::yea, backport packages in python are misused, and sometimes subject to change. For example, `importlib-metadata` now exports behavior in 3.10, so it's now relevant to python3.8 and python3.9 again. https://pypi.org/project/importlib-metadata/::@jonringer So… do I need to do something here? I don't really know much about python things, but `matrix-synapse` doesn't build because of this.::at this point, I would just follow what upstream does, if it's broken (which is probably the case with `typing-extensions`) then it's on upstream.::Ok. So I'll leave `typing-extensions` as is. As for `importlib-metadata`, I pulled in [this patch](https://github.com/matrix-org/python-signedjson/commit/c40c83f844fee3c1c7b0c5d1508f87052334b4e5) and made it conditional to < 3.8, as @fabaff suggested.::",2c4310feb3231bb03cdc5533968663ad3f92b6d3::
https://api.github.com/repos/NixOS/nixpkgs,120554,backport-steam::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: steam::,"###### Motivation for this change backport #120545 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",be417944d670832f1501a6e07138d744281f7b75::37012ffe350cb60c9e7849acf4ae316dc79ef5ba::e938f1752cff812603ca78405763fbc65e56e931::
https://api.github.com/repos/NixOS/nixpkgs,120543,ris-libupnp-CVE-2020-13848-r20.09::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change This is **not** a fix for CVE-2021-29462 as handled for `master` in #120060. This is a fix for its predecessor https://nvd.nist.gov/vuln/detail/CVE-2020-13848 which allows a network attacker to cause a crash via a null pointer dereference. Patch sourced from debian's `1.6.19+git20160116-1.2+deb9u1` (no, not available via any web link that I can find). I **haven't** attempted to address CVE-2021-29462 because: - Bumping to the fixed 1.14.6 breaks reverse dependencies `amule` and `gmrender-resurrect` as it appears to introduce API changes. - Though backporting the patch may be fairly easy, the fix doesn't come with a test and it doesn't appear tremendously easy to test the code in question (it's hard to find downstream packages that actually use its `miniserver` functionality). - Being vulnerable to CVE-2021-29462 ""merely"" means that a upnp server run by pupnp doesn't have a proactive mitigation against being used as the target of a dns rebinding attack on other systems on the network. Arguably for such an attack to be possible there would need to be weaknesses present in other components used on the network. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",85b5413f172a342c220d4d828d6e1a35be210c29::
https://api.github.com/repos/NixOS/nixpkgs,120520,jellyfin-remove-10.5::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: clean-up::8.has: module (update)::9.needs: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change This version contains a [vulnerability], and isn't maintained. The original reason to have two jellyfin versions was to allow end-users to backup the database before the layout was upgraded, but these backups should be done periodically. Original decision was on #93654, and in retrospect was a mistake, sorry about that. This PR will be backported if there is no concerns from other maintainers, cc @nyanloutre, @purcell This is a follow-up on the discussion that started on #120344. [vulnerability]: <https://nvd.nist.gov/vuln/detail/CVE-2021-21402> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Please add an alias to aliases.nix.::Good catch, thanks!::",2ad8aa72ae32d1890a94fbb3c26cc51b2661b88b::
https://api.github.com/repos/NixOS/nixpkgs,120198,feature/20-09-llvm-12-gcc-toolchain::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"In master commit 071030840252273acf05c9902458d4db5bdd71ab this was removed from all LLVM versions, but we don't this commit on 20.09, so when LLVM 12 was backported, there was no `--gcc-toolchain` in `llvmPackages_12.stdenv`. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c106113e1f622afcc4bebb5a10f7f2d661c5fc30::
https://api.github.com/repos/NixOS/nixpkgs,120038,zoom-backport::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"(cherry picked from commit 50a7cb2cfbcce473bdda321c0c4fbc6cef0a4946) backport of https://github.com/NixOS/nixpkgs/pull/120032#event-4623564449 <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d6c2346b2bf34775be27b10f0351c7e4d6b3938c::
https://api.github.com/repos/NixOS/nixpkgs,119789,upd-asterisk::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Security fixes. Please backport. Fixes #116855, #116856, #116857, #116858 I don't currently run asterisk, so I've only tested the build. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4e5c539c271859a229d6ac2162c9b04c1b8fce78::025dfc708e7e9624bfc883183279ed2ebe576de0::
https://api.github.com/repos/NixOS/nixpkgs,119773,ostree-backport::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"(cherry picked from commit a350ad306aa8ee0a9d4fc28c533cad4e4c5493f5) ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/119661 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e70c639c4e84fb59742a640586c682bde6de8c9f::
https://api.github.com/repos/NixOS/nixpkgs,119757,release-20.09-backport-mimemagic::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: ruby::,"###### Motivation for this change The fixes done to make mimemagic continue to work with Nix should be backported to the current stable version since there is currently no version of mimemagic available that can be built without these fixes. Original commits/discussion in https://github.com/NixOS/nixpkgs/pull/117702 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5b191cfe0a0e0dc6dd7009abcb6e8f22c060bad6::c4ea17ee27f48c032ae4265a507e8da6d860027f::f57ce8cbda1bd4d78220fa821cc39f955f4170f9::
https://api.github.com/repos/NixOS/nixpkgs,119717,libunwind-7.1.0::staging,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change This makes cross compilation work again when `stdenv.hostPlatform.useLLVM` is true and `llvmPackages` points to `llvmPackages_7`. There were the following problems: * `libcxxabi` wouldn't evaluate for `useLLVM == true` since in that case `libunwind` would be passed as an argument. This PR makes `libunwind` an optional dependency of `libcxxabi` again and packages `libunwind` of llvm 7 as well. * `lldClang` passed `--unwindlib` to `clang`, but this option was introduced for clang 9. This PR backports this change for clang 7 similarly to how it was done for clang 8. `tests.cross.llvm.hello.musl64` now works again! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",be4eb91b3c53d985255216a7bc924ced88699135::486e12ad685be4c0dc5e3033bc1c69f0146b0a99::55a476b00bac9c5e3d2164b1e9c62f67df3b4a63::49ff6509a2cf45b271cadfc4025e6bea5efd7ee2::
https://api.github.com/repos/NixOS/nixpkgs,119397,postfix-3.5.10::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change http://www.postfix.org/announcements/postfix-3.5.10.html ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). The last updates were not backported, but I think we should.::",e495cfac73cc225f1128d748e8fac8382479281b::
https://api.github.com/repos/NixOS/nixpkgs,119326,llvm-backport::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change This will be required soon when backporting Chromium M90 (will be released later today). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c3c44be1af8965200a078452922ba1e0cdd96438::c400d12302cb2d1550f621d7a1a18fd5a077692e::5e183875f776598024521a81b4fe8ce03708aa40::1b3915bc88ecf9b7a3f27886e58d76f5027edbc3::45f771a8f1de5a3d289915d26df9c47c64812a45::
https://api.github.com/repos/NixOS/nixpkgs,119127,bump-gitea::master,0,merged,1.severity: security::10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ChangeLog: https://github.com/go-gitea/gitea/releases/tag/v1.14.0 According to the changelog this also has some new security fixes, so we should discuss whether we want to backport it to 20.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f17950c5b7f69bff02dee9e33bb234a6a3297384::
https://api.github.com/repos/NixOS/nixpkgs,118845,add-place-cursor-at-to-release-20.09::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::8.has: package (new)::,"###### Motivation for this change In current `master` it was just picked from `haskellPackages` in top-level packages (see #118598). But in `release-20.09` this package wasn’t picked from Hackage yet (see failed attempt to backport #118626). So this MR just directly pins the version from the source repo. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::import from derivation is not possible in nixpkgs, you need to check in the file generated by cabal2nix in nixpkgs as well.::@sternenseemann It’s now fixed. Please check.::",fa68ac74f2a57b0510c3f466693e91fb99312cbc::
https://api.github.com/repos/NixOS/nixpkgs,118793,backport-django-2.2.20::staging-20.09,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::11.by: package-maintainer::6.topic: python::,"###### Motivation for this change This is a backport of #118670 (for the django-2 part). Fixes: CVE-2021-28658 (cherry picked from commit cf4a573ef17b812513f35801682adb28433df4fc) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c1ce7b66e7aceccda32816abadcd802389379acd::
https://api.github.com/repos/NixOS/nixpkgs,118717,nixos-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Zoom fails to start with the message: ""Update required: Your app version needs to be 5.6.1 (13632.0328) or higher to sign in. Please update to continue."" This PR backports 5.6.13632.0328 from the master branch. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d962006889ae884c740fa939d767572adcbef7ee::5596fb9bcde7a352b411b2ef0fdf5ae67b541734::
https://api.github.com/repos/NixOS/nixpkgs,118588,pytest-randomly-3.6.0::staging,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::11.by: package-maintainer::6.topic: python::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change <https://github.com/pytest-dev/pytest-randomly/releases/tag/3.6.0> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion backports-entry-points-selectable = callPackage ../development/python-modules/backports-entry-points-selectable { }; ``` pythonPackages should to follow the PEP that converts _ to -.::```suggestion pname = ""backports.entry_points_selectable"" ```::```suggestion propagatedBuildInputs = lib.optionals (pythonOlder ""3.8"") [ importlib-metadata ]; ```::The upstream package is named `backports.entry-points-selectable` which is legal on PyPi, but we can't represent in nix attribute names (except using quoted attribute names) which is why I converted it to an underscore. `backports-entry-points-selectable` would be a different package on PyPi.::Thx.::> backports-entry-points-selectable would be a different package on PyPi. really?! I am not sure how to properly to it then without breaking PEP503. https://github.com/NixOS/nixpkgs/blob/master/doc/languages-frameworks/python.section.md#contributing-guidelines @jonringer how would you do it?::Well the contributing guideline clearly states that it should be converted, so I will, I guess. Seems like some other backports* packages need adjusting as well then.::We can fix them as soon as we have aliases.::Renamed the package, not sure if it is the wisest policy observing PEP503 for upstream packages that don't, but eh. ::```suggestion ]; pythonImportsCheck = [ ""backports.entry_points_selectable"" ]; meta = with lib; { ``` I think the package is missing setuptools. See https://github.com/jaraco/backports.entry_points_selectable/blob/main/backports/__init__.py::```suggestion propagatedBuildInputs = [ setuptools ] ++ lib.optionals (pythonOlder ""3.8"") [ importlib-metadata ]; ```::```suggestion , importlib-metadata , setuptools ```::pkgutil is a standard library?::Also this has an enabled test suite.::> pkgutil is a standard library? not in nixos. > Also this has an enabled test suite. Adding a pythonImportsCheck doesn't hurt and could show a missing setuptools.::``` nix-shell -p python3 --run ""python -c 'import pkgutil'"" ``` succeeds, so seems to be a standard library. Seems like the only thing we may need to propagate is pytest. ::> Seems like the only thing we may need to propagate is pytest. pytest shouldn't be propagated because it makes it harder to change the used pytest version in a downstream package.::",596e5eed55cbb4c368a89253976eef2e324aa725::563366d673d2537396de708e003d407383997141::
https://api.github.com/repos/NixOS/nixpkgs,118457,ris-openldap-2.4.58-r20.09::staging-20.09,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 1001-2500::10.rebuild-linux: 501+::,"###### Motivation for this change https://nvd.nist.gov/vuln/detail/CVE-2021-27212 Very few other changes in this update, so just backported the bump from #116766 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c33650807407497fa523ce73b9ee4e5ea795292a::
https://api.github.com/repos/NixOS/nixpkgs,118390,gogs-backport::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change #111552 broke my server configuration, because it marked gogs as insecure instead of just backporting #102061. AFAICT the only breaking change in #102061 is that the staticRootPath option was removed from the nixos module, so I'm not sure why the PR wasn't backported. Running a known to be insecure web-facing server is not a realistic option.  Even if you rely on staticRootPath, the package is thus still effectively broken.  And if you don't use that option, then the backport shouldn't break anything. cc @dotlambda ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7c9e3af1d43fca5c1fcd65889dfea928fbee296a::83c9a97bc70d2d52168fd116e253414f27066289::
https://api.github.com/repos/NixOS/nixpkgs,118346,ajeet/nushell::release-20.09,0,closed,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Nushell is still at a very early point in its development, and has added tonnes of new features -- most notably, support for shell scripting (functions and variables). Since the older version is lacking a lot of critical features, it would be nice to backport this update onto Nix stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6477aaf36a2f43fa9df69e603f6ce21850ac756f::30f82c642dbe5c76974934f4779f9e748d03eb5f::c517d28cd149b0aa97f86af4ac864b0c56f5e152::5ee62c2c4ff9b3b824e47b335ad1741b3b8f0c88::39c06dc875cb8e417bd6273c0ac1296f2d909323::62c9d935c09dd39e13438c8bf8050e89cbcd65d9::79ce385c8e3f06c4af69ad9532435922977fd953::b38a0bdd5733e88bc2941be8cd721471778add15::614bb994f032bbe4f69fb0bfa86798a8219c2c4a::be0a8a5da467a6603592b1fd9287dd0a61339f37::e17e47661d312425c8b2c66e6dcaf91f510beab1::3bb2d9c98a4d9e1c1ff89da4a58f9070bc09b40f::
https://api.github.com/repos/NixOS/nixpkgs,118343,ris-curl-CVE-2021-22876-CVE-2021-22890::staging,0,merged,1.severity: security::10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::8.has: port to stable::,"###### Motivation for this change https://nvd.nist.gov/vuln/detail/CVE-2021-22876 https://nvd.nist.gov/vuln/detail/CVE-2021-22890 Hand-backported patches from upstream fixes to fill the gap until we can get #118128 working nicely. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::C can't group commands behind an if? 😂 Well it can and upstream should have used it here.::Note the re-assignment of `uc`. This is basically ""fail early if any of these commands returns zero"" but allows the return value to be consumed later.::",6808269554a26c3da791e931dd93e873d0bafa64::
https://api.github.com/repos/NixOS/nixpkgs,118320,release-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"Closes #115976 Backport of #116369 ###### Motivation for this change The fixes for webroot creation + permissions need to be backported to hopefully resolve the issues reported in #115976. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d1ab8a24e5ccfcc387123f72ba2c7e133558537c::3e42bfa71269919459499b12b616595f8458b367::
https://api.github.com/repos/NixOS/nixpkgs,118269,feat/fuse/add-darwin::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: darwin::6.topic: python::8.has: documentation::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Add more FUSE packages on Darwin. ##### FUSE packages [formerly maintained by Homebrew](https://grep.app/search?q=%22requires%20fuse%22&filter[repo][0]=Homebrew/homebrew-core), ordered by [popularity](https://formulae.brew.sh/analytics/install-on-request/365d/) - [x] ntfs-3g: Merged in #117132 - [x] sshfs: PR in #117217 - [ ] ex4fuse - [x] ifuse: insufficient testing, need an idevice (perhaps unreliable with newer versions of iOS?) - [x] s3fs: Merged in #116958 - [ ] ext2fuse - [x] bindfs: Merged in #116958 - [x] gitfs - [x] gcsfuse: Already builds on nixpkgs - [x] encfs - [x] dislocker: Some patching needed, upstream PR in Aorimn/dislocker#246 - [ ] goofys - [x] gocryptfs: Already builds on nixpkgs - [ ] simple-mtpfs - [ ] xmount - [ ] tup - [x] curlftpfs - [x] cryfs: Some patching needed, upstream PR in cryfs/cryfs#378 - [ ] fuse-zip - [x] archivemount - [x] btfs - [x] squashfuse - [x] securefs - [x] avfs - [ ] s3ql: Only supports libfuse 3.x - [x] afuse - [x] s3backer - [x] mp3fs - [x] wdfs - [ ] rofs-filtered ##### Others - [x] acd-cli: Insufficient testing, need an online account - [x] afflib - [ ] libnbd: Currently not compatible with Darwin - [ ] seafile-shared - [ ] catfs - [ ] erofs: Depends on libuuid (util-linux), [which actually builds](https://github.com/Homebrew/homebrew-core/blob/2b5155470ccc9bcb7813104476b6dbcad85799ab/Formula/util-linux.rb) on Darwin. Working on a PR. - [ ] rewritefs - [ ] cromfs - [ ] hpe-ltfs: Also depends on libuuid - [x] 9pfs - [x] aefs: needs patching, PR opened in edolstra/aefs#1 - [ ] afpfs-ng: depends on the `attr` package, which doesn't build with the current macOS SDK version on Nixpkgs - [x] android-file-transfer: was also missing wrapQtApps - [ ] apfs-fuse - [ ] blobfuse: depends on libuuid - [x] boxfs: insufficient testing, need online account - [ ] chunkfs: not portable - [ ] ciopfs: depends on the `attr` package - [x] darling-dmg - [ ] disorderfs: depends on the `attr` package - [ ] djmount - [x] exfat - [ ] fuse-7z-ng - [ ] fuseiso: not portable - [x] httpfs2 - [x] hubicfuse - [x] jmtpfs: insufficient testing, need Android device - [ ] lizardfs: currently marked as broken - [ ] mergerfs: depends on the `attr` package - [x] moosefs: insufficient testing, need non-trivial configuration - [ ] rar2fs - [x] romdirfs: insufficient testing, need PlayStation2 images - [ ] smbnetfs: need to fix samba first - [x] svnfs - [x] tmsu: removed libfuse dependency because it relies on go-fuse instead - [ ] vmfs-tools: depends on libuuid - [ ] wiimms-iso-tools: need gcc4, which is broken on darwin - [ ] xtreemfs: depends on the `attr` package - [ ] zkfuse - [ ] cryptometer - [ ] lkl - [ ] veracrypt - [ ] ocamlfuse - [ ] google-drivce-ocalfuse - [ ] orifs: currently marked as broken ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::`setuptools` is required at runtime regardless of the platform.::Doesn't depend on FUSE, but upstream supports Darwin nonetheless.::The `fuse` package in Darwin is a build time stub for [macFUSE](https://osxfuse.github.io/). More details in #116958.::I'm speculating that Nix is reading `/usr/local/lib/pkgconfig/fuse.pc` at configure time, but luckily(?) fails to read the headers in `/usr/local/include`. Patching `configure.ac` not to add `/usr/local/lib/pkgconfig` to `PKG_CONFIG_PATH` is easy, so not a big deal IMO.::Was missing `wrapQtAppsHook`.::`AC_CHECK_DECLS` doesn't work with clang.::```suggestion stdenv.mkDerivation rec { pname = ""wdfs-fuse""; version = ""1.4.2"" src = fetchurl { url = ""http://noedler.de/projekte/wdfs/wdfs-${version}.tar.gz""; ```::```suggestion nativeBuildInputs = [ autoreconfHook ]; buildInputs = [ subversion fuse apr perl ]; ```::```suggestion configureFlags = lib.optionals stdenv.isDarwin [ ""CFLAGS=-DFUSE_USE_VERSION=25"" ]; ```::Can we fetch a patch instead?::```suggestion buildFlags = lib.optional stdenv.isDarwin [ ""CPPFLAGS=-UHAVE_STRUCT_STAT_ST_BIRTHTIME"" ]; ```::Can we apply this unconditionally? ::Can we fetch the patch instead?::Can we fetch the patch instead?::```suggestion ++ lib.optionals stdenv.isDarwin [ libiconv ]; ```::Can we fetch the patch instead?::Can we fetch the patch instead?::Can we fetch the patch instead?::```suggestion patchPhase = lib.optionalString !stdenv.isDarwin '' ```::```suggestion ++ lib.optionals stdenv.isDarwin [ libiconv ]; ```::```suggestion ``` buildPythonApplication already sets this::The patch from the linked PR only applies against the `develop` branch, so it had to be backported for the current release.::I haven't created an upstream PR for this because it only solves a Nixpkgs packaging issue and won't benefit upstream.::I get a syntax error without the parens: ``` error: syntax error, unexpected '!', expecting ';', at /Users/midchildan/Documents/src/repos/github.com/NixOS/nixpkgs/pkgs/development/python-modules/fusepy/default.nix:24:35 ```::Yes. It is required.::Can you add a comment with that info?::Can we apply the patch unconditional? ::Can we apply the patch unconditional? ::I would prefer a patch instead of a silently failing sed.::Fixed.::Fixed.::Added.::Fixed.::```suggestion postPatch = lib.optionalString stdenv.isDarwin '' ``` if it's specific to darwin::Fixed.::",701288f79acb329e9aed5cc2eb6d92d5da0ccef2::fdc5e719889bb176cbd61f2a3f8d5ae1eb2319bc::92cde6f032de748deb1c4be58f9658f0a49d889a::a7540bb90adb40b7961e9dbcbf2fc74e784edf71::31a3099d4b4b6dabc8e3ee614b219138a1f72cab::21f9e5aac26d1255f06469740ab96423c26614b6::f21bfdd75b7d59b409df0550024526c2d464e00c::94914230b33a1d4266bb2c72cdf0b205aac00b88::7a9dd6f3c37ff74e0b58da7dab6a890698c48e6d::ef3a48a77f193b4a6f0cb274a0533517e527dfb6::67db526c02b25af7b9ada65dc86586159b78ab26::cbc730d14422f36239a5af07f9ad6425eb698730::d1bb69207b454f902e98a3efac4f056e957b6f2b::3c28a11bf6cf9b5baf21dd1b36697c84550e4821::0c81ece950c00323df5f12a4e5f6c175b01616ae::f8f5ae544b478f321ec6524ebd8daed67f5d7c6b::fe7b5496aa2ec34a16f02f06b34aaaa039a853e3::3c9116aa23d413896c9cc020b170a9556399e456::42cff73feb7047dba689108a581e5c627e4f1d4c::c3614f71a2e3c384f04ce1cf4367b809f619447e::e4186b5e83d565e2188418a59aef9f878e684faa::1c32fa7660fef2ab3787c573b016035197903b90::fb60c27d9304d5800dd4824ce39a573bd54e41f6::30102e0af5540c6b9b557ea12e73e82e2ec40e9b::ee18ceae8a7c38fc17eba5bd10f1ed9d07d6c7c1::467898029ec2c2ad969c042f13e1219c3451d0fa::651f214fb1d73bc64d41fe3dc1b106e1275eecd7::38f75792018c848e0210601893479b007109ff8d::6d3a66b6ef5853274b3098071bf5e15bad11305d::dff6460d276dc4cbad94764dd68edc0b17b161e6::f85acdfaa195f67fd4cefe2b41cbd837dd2767f1::6382f577bbb287fbc7cd24c650968c7984d9d859::8e71a4574f2121200a6aa5294bf3b54277630931::97edf282ea17cc56531f82991ec0414fea2e92b7::15204342ee1dd38cacecf4918e9e8ae90db92228::cdc642f008fc06eeb6d51561a120c21330924819::80651c123ee99f36f478e4248024a0e53ac7ada7::
https://api.github.com/repos/NixOS/nixpkgs,118260,feature/tor-browser-bin-override-backport::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"(cherry picked from commit 8dadf3873fc653115f1f5273dc1312bedfbe8cd4) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change backport #117867 ::",ce588209d0ebef741b892d81858ebaba6c8a5b1e::
https://api.github.com/repos/NixOS/nixpkgs,117974,wire-desktop-bump::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Version bump. I can backport if necessary. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1336a074c4424344391ddbbd038a9a1fb805bca2::74d057c815b3fe0d8b22127dabaedf1e54ee93e2::
https://api.github.com/repos/NixOS/nixpkgs,117719,envisage::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change https://github.com/NixOS/nixpkgs/pull/117696#issuecomment-808424432 https://github.com/NixOS/nixpkgs/pull/117696#discussion_r602415984 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Without this change I got ``` python3.9-apptools> ____ ERROR collecting apptools/preferences/tests/test_scoped_preferences.py ____ python3.9-apptools> ImportError while importing test module '/build/apptools-5.1.0/apptools/preferences/tests/test_scoped_preferences.py'. python3.9-apptools> Hint: make sure your test modules/packages have valid Python names. python3.9-apptools> Traceback: python3.9-apptools> /nix/store/7hz3pcgi8pm3n6bn2fk2w32kd4nvf8g6-python3-3.9.2/lib/python3.9/importlib/__init__.py:127: in import_module python3.9-apptools> return _bootstrap._gcd_import(name[level:], package, level) python3.9-apptools> apptools/preferences/tests/test_scoped_preferences.py:19: in <module> python3.9-apptools> from importlib_resources import files python3.9-apptools> E   ModuleNotFoundError: No module named 'importlib_resources' ```::importlib_resources is the backport of importlib.resources. If importlib.resources fails to import you should try to import the backport importlib_resources.::That makes sense, but I don't really want to patch the apptools source to do that...::Patching here would be the clean solution. Maybe there is already an upstream pr we can fetch? If not I think adding a comment with an upstream issue would be ideal.::https://github.com/enthought/apptools/pull/284::",cfd96284abf6ea3fabf4c25bda82dd25a4019507::24109ffdb6372d5d3547cc2048532189ff178de1::
https://api.github.com/repos/NixOS/nixpkgs,117405,gitea1136::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::8.has: port to stable::,"###### Motivation for this change - minor version bump incl. security fixes, see https://github.com/go-gitea/gitea/releases/tag/v1.13.6 - re-formatted derivation with `nixpkgs-fmt` for a consistent style needs a backport to stable <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",6459ab51c8b9d0a23d72ccbe18c3874cf9eb6d6f::b43933666f449038ba05d3582fc54644d62050fc::
https://api.github.com/repos/NixOS/nixpkgs,117303,20.09/bird::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change https://bird.network.cz/pipermail/bird-users/2021-March/015281.html (cherry picked from commit 55be1128e9a5f3c1ca0def56b505204368fce84e) backports #117152 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e424a68e58b82343755c9c16dfc48fb176990898::
https://api.github.com/repos/NixOS/nixpkgs,117123,cypari-update::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: python::,"###### Motivation for this change Some Sage-related package updates that didn't make it into #114881. For future PRs, the following still needs to be done (after Sage 9.3, probably): - The `eclib` update requires Sage patches that change the public API (https://trac.sagemath.org/ticket/31443), so I think we should just wait until Sage 9.3 to upgrade it. - The `pari` update is still not ready upstream (https://trac.sagemath.org/ticket/30801). - `gap` needs to be updated to 4.11.1. Closes #103810. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::I think it would be better to use `fetchpatch` to fetch the backport (https://github.com/gap-system/gap/commit/f0a8f49ff8dad0a5fa77253d45457c6f40f96778). That way it would be very explicit which upstream commit the patch corresponds to. This is not a blocker for the merge, just something I wanted to mention.::I appreciate the suggestion! I tried doing this originally, but there was a previous upstream change at the exact same line (adding the `static` keyword to the method definition) so the patch didn't apply.::Ah, you are right. I missed the `static` keyword. Good work :)::",15fd117e71bfd809e3cd413abd4198874460d4b2::594eda3b7d406b1d01bdd4d2d31bd8ec26240bda::90772d66667e00d5c0b259be4d2830d594679fff::812ffed96b4b69a1443e89b39cf3907a1ec1b5b5::
https://api.github.com/repos/NixOS/nixpkgs,117019,mark-snes9x-gtk-as-unfree-redistributable::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Snes9x was never free software, and the current license seems to be incorrect. It may make sense to backport this, I don't know what are policies about doing so. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Can you also update the homepage to include https?::```suggestion # see https://github.com/snes9xgit/snes9x/blob/master/LICENSE for exact details license = licenses.unfreeRedistributable; ```::",7b3c5c5ac87c15a97f366990aaf358e21117a725::29ca7e63f81734e5157e884477d4ddd4961d52ee::
https://api.github.com/repos/NixOS/nixpkgs,116568,20.09/python/aiohttp/CVE-2021-21330::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Update to 3.6.3 and backport patch series for CVE-2021-21330. https://github.com/NixOS/nixpkgs/pull/114556#issuecomment-800662761 Fixes CVE-2021-21330 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1b521fd4fc18f2e9c3f75eb7283cac613fe58250::c27ce8cf72294b4f81c7b9292114630b033a69ef::f83f17b4ceebf892284a594e73c0557124973947::
https://api.github.com/repos/NixOS/nixpkgs,116496,fix-tensorflow-bin_2-master::master,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 101-500::6.topic: python::,"This package was broken on mac with some wildcarding issues. Some more constraints in the tensorflow wheel needed to be relaxed. This is my first PR, so I apologize if I am missing anything. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change The package was broken, and the source builds don't work on Mac see e.g.: https://discourse.nixos.org/t/tensorflow-on-20-09-mac/11931/2. I plan to backport this to 20.09. Resolves #116364. Closes #108614 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions (nixos/nix docker image) - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). I did import tensorflow in python and try some simple operations. ::Note the lack of ""_"" here.::```suggestion disabledTests = lib.optionals stdenv.isDarwin [ ""test_run_local_server"" ]; ```::do you mind adding a comment as to why darwin is skipped for tests?::Also please modify the comment above to contain a useful information.::I added this to the google-auth-oauthlib commit.::Thanks. I improved the comment.::```suggestion , lib ```::```suggestion { stdenv ```::Did you try ``__darwinAllowLocalNetworking = true;``?::Did you try ``__darwinAllowLocalNetworking = true;``?::Did you try ``__darwinAllowLocalNetworking = true;``?::you asked this above. I have not heard of this option. If you would like me to use it,  can you please provide a more specific usage example? Does it go into this derivation? It seems like special casing darwin builds as I did here is common in nixpkgs.::https://github.com/NixOS/nixpkgs/pull/116496#discussion_r609399356::I just tried it, and it did not work: ``` tests/test_auth.py:98: in test_digest_next_nonce_nc with tests.server_request(handler, request_count=5) as uri: grenew_nonce = [<function http_reflect_with_auth.<locals>.renew_nonce at 0x112095700>] handler    = <function http_reflect_with_auth.<locals>.http_reflect_with_auth_handler at 0x1120955e0> http       = <httplib2.Http object at 0x112000be0> password   = ""l%N +\x15[a3yFCk'f}eW}H+y&Z\x02]\x7fx8f\x14\x14%zA~CI$(an\x04Cz71\x178VDh;\x10R\x18QK\x185SH]"" /nix/store/xf3244kbn36z04yw98mpgvvsgdcbz438-python3-3.8.8/lib/python3.8/contextlib.py:113: in __enter__ return next(self.gen) self       = <contextlib._GeneratorContextManager object at 0x11208b760> tests/__init__.py:325: in server_socket server.bind((bind_hostname, 0)) E   socket.gaierror: [Errno 8] nodename nor servname provided, or not known ```::`__darwinAllowLocalNetworking = true;`  works so I removed the manually disabled commits.::`__darwinAllowLocalNetworking = true;` works so I removed the manually disabled commits.::",c2cb457ebf80734a7e46ead1d0204e53b358338f::db242e168182ce6ddb79aafc06a8b68961ae6b60::1e48ad0403f20f73c67dccb782aff69c532d3d50::5542995561a2c9bcf467f2d55915e1078b286d2b::
https://api.github.com/repos/NixOS/nixpkgs,116363,20.09/imagemagick-6.9.12-3::staging-20.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::11.by: package-maintainer::,"###### Motivation for this change Essentially backport of #116330 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",de114cfdccc59c6547f82176d4cefb958288a015::19d9aa073b0cb8275b3da02c18e3c12e9f75df67::9e99bced1d903d65967d852a21b9e00735d8bbd1::2c1513f9c767d17cb034f7ae550b04d2c0894d98::
https://api.github.com/repos/NixOS/nixpkgs,115818,opensource/nixpkgs/vimPlugins/fzf-pure::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: vim::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change The fzfWrapper is providing the fzf Vim plugin, but it's not providing the fzf binary which is required by the plugin. So the plugin fails to load fzf as seen below: ``` $ nix-shell -I nixpkgs=. --pure -p 'with import <nixpkgs> {}; neovim.override { configure.packages.fzf.start = with vimPlugins; [fzf-vim]; }' --run 'nvim +Files' fzf executable not found. Download binary? (y/n) ``` The above issue no longer happens with this change. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @daplay This fix should be backported to 20.09 because it's currently broken.::",470394101dd0e12038b31062318d593b0b0df571::
https://api.github.com/repos/NixOS/nixpkgs,115370,release-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"This drops the FB_ORCA_AGENT bump patch because it is included in the release. (cherry picked from commit f9d44f6fc5ef788aafe7ae8d1f9ff2bc52e25d8e) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Backport of #115285. The patch didn't apply cleanly so I had to resolve conflicts. I'm not clear on what the policy is on how much cherry-picked commits can be changed for backports if at all? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",90f200b8b8fa5829d8fc26622f6e880fc6c1ae67::
https://api.github.com/repos/NixOS/nixpkgs,115352,update/palemoon-29.1.0/21.05::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change http://www.palemoon.org/releasenotes.shtml > This is a development, bugfix and security update. > […] > · Added required interaction with file/folder open dialog boxes on html file input elements on some operating systems to avoid malicious content tricking users into uploading sensitive files unintentionally (related to CVE-2021-23956). > · Added a font sanity check to avoid triggering a potential vulnerability on unpatched Windows operating systems (related to CVE-2021-24093). > · Security issues addressed: CVE-2021-23974, CVE-2021-23973 and several memory safety hazards that don't have CVE numbers. > · Unified XUL Platform Mozilla Security Patch Summary: 4 fixed, 2 DiD, 19 not applicable. Needs backport to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",2ef5683cd999e1499fedc70c7aa58514c5ae18e8::
https://api.github.com/repos/NixOS/nixpkgs,115180,wire-desktop-bump::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Version bump. I also included a change to my maintainer email. I expect a new release for macOS as well soon which I will add to this PR if it's not merged by then. I usually backport these version bumps but have receive mixed messages about doing that. Please let me know if/when I can backport this. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4e11ad645b98e266c19b1cb8005f6d6d2d7a421c::dd4b13bcf3ce503930c1124a8b8295830171ca56::5d6f159ee6027c658d136f89b52cd4700d75dd8a::
https://api.github.com/repos/NixOS/nixpkgs,115142,nextcloud21-20.09::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::8.has: package (new)::,"###### Motivation for this change Partial backport of #113958. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion The latest Nextcloud release is v21 which can be installed by setting ```::Maybe the warning about updating to v21 from v19 should be added here?::Good catch!::",6dbe2b62dfb8f08c523cd6184aebd81d84af4b05::003a265ad6177d4b092e23c80ccf4755c62ef1ea::43fca40ea34b564efcfb04fe1bef4c302efb6909::d92e4a80d36d40460fc8d3595c50f24c93d7beda::da0234e2c602aeec0b308d5beaa38362eb2e68d5::
https://api.github.com/repos/NixOS/nixpkgs,115012,upd/openssh::staging,0,merged,1.severity: security::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::9.needs: port to stable::,"Also split out the variants of the package because I'm sick of waiting for random patches to be updated before I can update my unpatched openssh. Also make pname correspond to the attribute name. <details> <summary>Changelog</summary> Security ======== * ssh-agent(1): fixed a double-free memory corruption that was introduced in OpenSSH 8.2 . We treat all such memory faults as potentially exploitable. This bug could be reached by an attacker with access to the agent socket. On modern operating systems where the OS can provide information about the user identity connected to a socket, OpenSSH ssh-agent and sshd limit agent socket access only to the originating user and root. Additional mitigation may be afforded by the system's malloc(3)/free(3) implementation, if it detects double-free conditions. The most likely scenario for exploitation is a user forwarding an agent either to an account shared with a malicious user or to a host with an attacker holding root access. * Portable sshd(8): Prevent excessively long username going to PAM. This is a mitigation for a buffer overflow in Solaris' PAM username handling (CVE-2020-14871), and is only enabled for Sun-derived PAM implementations.  This is not a problem in sshd itself, it only prevents sshd from being used as a vector to attack Solaris' PAM. It does not prevent the bug in PAM from being exploited via some other PAM application. GHPR#212 Potentially-incompatible changes ================================ This release includes a number of changes that may affect existing configurations: * ssh(1), sshd(8): this release changes the first-preference signature algorithm from ECDSA to ED25519. * ssh(1), sshd(8): set the TOS/DSCP specified in the configuration for interactive use prior to TCP connect. The connection phase of the SSH session is time-sensitive and often explicitly interactive. The ultimate interactive/bulk TOS/DSCP will be set after authentication completes. * ssh(1), sshd(8): remove the pre-standardization cipher rijndael-cbc@lysator.liu.se. It is an alias for aes256-cbc before it was standardized in RFC4253 (2006), has been deprecated and disabled by default since OpenSSH 7.2 (2016) and was only briefly documented in ssh.1 in 2001. * ssh(1), sshd(8): update/replace the experimental post-quantum hybrid key exchange method based on Streamlined NTRU Prime coupled with X25519. The previous sntrup4591761x25519-sha512@tinyssh.org method is replaced with sntrup761x25519-sha512@openssh.com. Per its designers, the sntrup4591761 algorithm was superseded almost two years ago by sntrup761. (note this both the updated method and the one that it replaced are disabled by default) * ssh(1): disable CheckHostIP by default. It provides insignificant benefits while making key rotation significantly more difficult, especially for hosts behind IP-based load-balancers. Changes since OpenSSH 8.4 ========================= New features ------------ * ssh(1): this release enables UpdateHostkeys by default subject to some conservative preconditions: - The key was matched in the UserKnownHostsFile (and not in the GlobalKnownHostsFile). - The same key does not exist under another name. - A certificate host key is not in use. - known_hosts contains no matching wildcard hostname pattern. - VerifyHostKeyDNS is not enabled. - The default UserKnownHostsFile is in use. We expect some of these conditions will be modified or relaxed in future. * ssh(1), sshd(8): add a new LogVerbose configuration directive for that allows forcing maximum debug logging by file/function/line pattern-lists. * ssh(1): when prompting the user to accept a new hostkey, display any other host names/addresses already associated with the key. * ssh(1): allow UserKnownHostsFile=none to indicate that no known_hosts file should be used to identify host keys. * ssh(1): add a ssh_config KnownHostsCommand option that allows the client to obtain known_hosts data from a command in addition to the usual files. * ssh(1): add a ssh_config PermitRemoteOpen option that allows the client to restrict the destination when RemoteForward is used with SOCKS. * ssh(1): for FIDO keys, if a signature operation fails with a ""incorrect PIN"" reason and no PIN was initially requested from the user, then request a PIN and retry the operation. This supports some biometric devices that fall back to requiring PIN when reading of the biometric failed, and devices that require PINs for all hosted credentials. * sshd(8): implement client address-based rate-limiting via new sshd_config(5) PerSourceMaxStartups and PerSourceNetBlockSize directives that provide more fine-grained control on a per-origin address basis than the global MaxStartups limit. Bugfixes -------- * ssh(1): Prefix keyboard interactive prompts with ""(user@host)"" to make it easier to determine which connection they are associated with in cases like scp -3, ProxyJump, etc. bz#3224 * sshd(8): fix sshd_config SetEnv directives located inside Match blocks. GHPR#201 * ssh(1): when requesting a FIDO token touch on stderr, inform the user once the touch has been recorded. * ssh(1): prevent integer overflow when ridiculously large ConnectTimeout values are specified, capping the effective value (for most platforms) at 24 days. bz#3229 * ssh(1): consider the ECDSA key subtype when ordering host key algorithms in the client. * ssh(1), sshd(8): rename the PubkeyAcceptedKeyTypes keyword to PubkeyAcceptedAlgorithms. The previous name incorrectly suggested that it control allowed key algorithms, when this option actually specifies the signature algorithms that are accepted. The previous name remains available as an alias. bz#3253 * ssh(1), sshd(8): similarly, rename HostbasedKeyTypes (ssh) and HostbasedAcceptedKeyTypes (sshd) to HostbasedAcceptedAlgorithms. * sftp-server(8): add missing lsetstat@openssh.com documentation and advertisement in the server's SSH2_FXP_VERSION hello packet. * ssh(1), sshd(8): more strictly enforce KEX state-machine by banning packet types once they are received. Fixes memleak caused by duplicate SSH2_MSG_KEX_DH_GEX_REQUEST (oss-fuzz #30078). * sftp(1): allow the full range of UIDs/GIDs for chown/chgrp on 32bit platforms instead of being limited by LONG_MAX. bz#3206 * Minor man page fixes (capitalization, commas, etc.) bz#3223 * sftp(1): when doing an sftp recursive upload or download of a read-only directory, ensure that the directory is created with write and execute permissions in the interim so that the transfer can actually complete, then set the directory permission as the final step. bz#3222 * ssh-keygen(1): document the -Z, check the validity of its argument earlier and provide a better error message if it's not correct. bz#2879 * ssh(1): ignore comments at the end of config lines in ssh_config, similar to what we already do for sshd_config. bz#2320 * sshd_config(5): mention that DisableForwarding is valid in a sshd_config Match block. bz3239 * sftp(1): fix incorrect sorting of ""ls -ltr"" under some circumstances. bz3248. * ssh(1), sshd(8): fix potential integer truncation of (unlikely) timeout values. bz#3250 * ssh(1): make hostbased authentication send the signature algorithm in its SSH2_MSG_USERAUTH_REQUEST packets instead of the key type. This make HostbasedAcceptedAlgorithms do what it is supposed to - filter on signature algorithm and not key type. Portability ----------- * sshd(8): add a number of platform-specific syscalls to the Linux seccomp-bpf sandbox. bz#3232 bz#3260 * sshd(8): remove debug message from sigchld handler that could cause deadlock on some platforms. bz#3259 * Sync contrib/ssh-copy-id with upstream. * unittests: add a hostname function for systems that don't have it. Some systems don't have a hostname command (it's not required by POSIX). The do have uname -n (which is), but not all of those have it report the FQDN.</details> <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) → openssh - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion patches = [ ./locale_archive.patch # See discussion in https://github.com/NixOS/nixpkgs/pull/16966 ./dont_create_privsep_path.patch ] ++ extraPatches; ```::```suggestion license = licenses.bsd2; ```::```suggestion (if stdenv.isLinux then ""--with-pam"" else ""--without-pam"") ``` Now all ``pam = if stdenv.isLinux then pam else null;`` can be removed.::```suggestion ++ optional withKerberos kerberos.dev ```::```suggestion ```::I object. It makes building no-pam version on linux harder.::I think the typical recommendation in that case is to add a `withPam ? stdenv.isLinux` arg - a bit clearer than a maybe-null.::Well, I think maybe-null is actually clearer (no interdependencies between input arguments), but that is secondary.::Could you also check if the .dev is not needed? I think build inputs use the .dev output by default.::Oof my system has garbage-collected the build and its dependencies :/ I might get around to do that in the next days, though::``? null`` is not cleaner because it hides if the input is actually null all the time.::I can probably build this in under an hour.::The package kerberos should never be null.::Well I might try to build the package without kerberos (and not seeing the `withKerberos` parameter) by just doing `openssh.override { kerberos = null; }`::Shouldn't we put `$out/bin/ssh-keysign` here eventually?::I don't see any reason why we shouldn't, however I initially wanted to keep this PR as small as possible (just updating the package) without introducing any more changes. This was not possible however because of the gssapi and hpn variants (and the review I got) so that's why the PR is so big. Would you be okay with keeping it as-is (it worked for years now) and revisiting that in a later commit? Not changing that would also make it a lot easier to backport this security-critical change because it mostly just updates the package and doesn't change any other behaviour.::I checked the [man page](https://linux.die.net/man/8/ssh-keysign) and we can not do that: > Since they are readable only by root, ssh-keysign must be set-uid root if host-based authentication is used. So on NixOS we have to go through the wrappes and not through `$out` directly::",c99c4998fd92f284b1c2ff542878e06ea15d3d3d::2b1011d4a3797d7e0f6f29afa1786d3cf2464019::a1aa6bd250e202d17e051e1ff7b20fa07f8552ea::
https://api.github.com/repos/NixOS/nixpkgs,114979,chromium-pipewire-0.3::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"This should hopefully make it work more reliable and support additional features like window sharing. See [0] for more details. [0]: https://jgrulich.cz/2020/12/18/webrtc-chromium-updates-in-2020/ <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::If we do not have any other use for pipewire_0_2 it should go.::From a quick git-grep it looks like Mutter still requires it: ``` pkgs/desktops/gnome-3/core/mutter/3.34/default.nix:, pipewire_0_2 pkgs/desktops/gnome-3/core/mutter/3.34/default.nix:    pipewire_0_2 # TODO: backport pipewire 0.3 support ```::cc @jtojnar is this still the case?::Yup, the old version of Mutter used by Pantheon uses 0.2. The current version used by GNOME uses 0.3, obviously.::",36e5fe006a5fae3d8a8a528340520aaf0be4658c::
https://api.github.com/repos/NixOS/nixpkgs,114546,graphtage-0.2.5::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change A utility to diff tree-like files such as JSON and XML ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Older Python 3 releases are also [not supported](https://github.com/trailofbits/graphtage/blob/master/setup.py#L37). ```suggestion disabled = pythonOlder ""3.6""; ```:: ```suggestion checkInputs = [ pytestCheckHook ]; pythonImportsCheck = [ ""graphtage"" ]; ``` Just as additional safeguard.::This is really needed? `typing-extensions` is backporting features to 3.5 but upstream don't support 3.5 any more. If not then do `substituteInPlace` to remove it from `setup.py`.::I believe, it's required, yes. If I strip it from `setup.py`, testing fails using 3.9::Thanks, done!::Added.::most likely an upstream issue.::This comment can be removed.::Missing pythonImportsCheck.::",18f31222956726a0181886c6cf4d6ed329cb916a::082f18c8bde96a945f0b435d183b8e1c11141dc3::
https://api.github.com/repos/NixOS/nixpkgs,114530,ivan/python37-aarch64-darwin::staging,0,merged,10.rebuild-darwin: 2501-5000::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::6.topic: darwin::6.topic: python::,"###### Motivation for this change The issue manifests itself as the following on `aarch64-darwin` (#105026 is coming): ``` >>> import ctypes Traceback (most recent call last): File ""<stdin>"", line 1, in <module> File ""/nix/store/i8cq0xrjirz1rcp65wzcyhj6ypzlw9il-python3-3.7.10/lib/python3.7/ctypes/__init__.py"", line 551, in <module> _reset_cache() File ""/nix/store/i8cq0xrjirz1rcp65wzcyhj6ypzlw9il-python3-3.7.10/lib/python3.7/ctypes/__init__.py"", line 273, in _reset_cache CFUNCTYPE(c_int)(lambda: None) MemoryError ``` The commit we backport is included in Python 3.8, and it reverts the change that was introduced all the way back in Python 2.7. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS (aarch64) - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b00c7c2d1d905eb63c81a0917f1a94b763a7843b::
https://api.github.com/repos/NixOS/nixpkgs,114473,bump-diskcache::staging-next,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Update to latest upstream release 5.2.1 Commit log: https://github.com/grantjenks/python-diskcache/commits/v5.2.1 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion , libcxx ```::Thanks, updated.::1.2.3 was released yesterday::This patch can then be dropped, since the fix was backported to 1.2.x. https://github.com/pandas-dev/pandas/commit/b14ffd8e17cabf445fb7709d6518639e9791a1bf::Adding xdist without enabling it (e.g. `-n auto`) in pytestFlagsArray won't do much.::```suggestion ""--skip-network"" ""-n auto"" # or any other sensible value that works ```::Should not that rather be `""-n"" ""auto""`?::Several times I've had failing tests with pandas due to xdist so I suggest setting `-n0`, thereby disabling concurrent tests.::> Should not that rather be `""-n"" ""auto""`? What is the difference?::> Several times I've had failing tests with pandas due to xdist so I suggest setting -n0, thereby disabling concurrent tests. Then we can remove xdist entirely. > What is the difference? Quoting by bash and how the program splits its args.::@fabaff As this is blocking staging-next, can you prioritize updating this?::Patch removed::Following @FRidh's input here.::Sure::Version looks wrong. So does the commit message. Thanks github for not letting me comment on unchanged lines.::Yes, it does.::Commit message still wrong::Thanks, I know. Title was also wrong.::> What is the difference? -n0 disables parallel execution, auto adds a process for each core. > Then we can remove xdist entirely. Unfortunately not. A fixture that is provided by pytest-xdist is used. ::",b1aee36c38547c607b17861d710d4407b20a180b::7274dc66d1a31076bd21a8f4dd0204b33b351f3d::
https://api.github.com/repos/NixOS/nixpkgs,114458,backport-ghc-8.10.4::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: haskell::8.has: package (new)::,"(cherry picked from commit b0a16b29e2fe983433222afbc607f0573e8dceb2) Signed-off-by: Domen Kožar <domen@dev.si> ::I thinks this could be removed from all ghc.::Those packages should always be defined and overwriting with null is not ideal.::This PR is a backport. Such changes are out of scope, if someone would like to clean up GHC expressions, they are welcome to do so in a separate PR :)::",8a0ee311d8fa5df827b52130d28d690cceac3011::
https://api.github.com/repos/NixOS/nixpkgs,114457,master::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change git-credential-gopass was split from gopass and now needs it's own little package. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion homepage = ""https://github.com/gopasspw/git-credential-gopass""; ``` the website doesn't show anything about this particular program. I think the github page should suffice for now.::I think this should be under `gitAndTools`. ::if you could do this in a separate commit that would be great. we usually do this because reverts or backports are better that way (and a bit nicer history).::just the call or should I also move the .nix file? I put it there because it only makes sense for people using gopass anyway or did you mean to just add an alias in addition?::Very reasonable::@benneti Actually, nvm we killed it about a month ago https://github.com/NixOS/nixpkgs/pull/109396::done::done::```suggestion nativeBuildInputs = [ makeWrapper ]; ```::```suggestion ```::platforms is set by buildGoModule and shouldn't be set here.::should I do a new PR for this?::If you wish, but no one can *make you* if that makes sense.::That's clear.::",864e0e39bb5caf784416009f1fada99955de0ac3::ebb32220d0531c52dc3a524f4faa4fbd78d62a49::9ff230162f489aa8cdf7e5622b3f1a65f0574467::2700fd73aa495dad63a489f115b5f0f8eab66a8c::
https://api.github.com/repos/NixOS/nixpkgs,114391,re2c-cve-2018-21232::staging,0,merged,1.severity: security::10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change It backports patches from 2.0 series to fix CVE-2018-21232. Fixes https://github.com/NixOS/nixpkgs/issues/88391 References: https://www.openwall.com/lists/oss-security/2020/04/27/2 https://github.com/skvadrik/re2c/issues/219 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5854bf0834009c12f238f569500c0132f74b2abf::
https://api.github.com/repos/NixOS/nixpkgs,114385,go-tz-support-colon::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: golang::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change It backports https://github.com/golang/go/commit/58fe2cd4022c77946ce4b598cf3e30ccc8367143 from Go 1.16 to older series as a prerequisite of https://github.com/NixOS/nixpkgs/pull/113555. Result of `nixpkgs-review` run on x86_64-linux [1](https://github.com/Mic92/nixpkgs-review) <details> <summary>1 package failed to build:</summary> <ul> <li>garble</li> </ul> </details> <details> <summary>17 packages built:</summary> <ul> <li>coyim</li> <li>credhub-cli</li> <li>galene</li> <li>go_1_14</li> <li>go_1_15</li> <li>grafana-loki</li> <li>gvisor</li> <li>ibus-engines.bamboo</li> <li>lefthook</li> <li>nncp</li> <li>nomad</li> <li>nomad_0_12</li> <li>oauth2_proxy</li> <li>prometheus</li> <li>step-ca</li> <li>trillian</li> <li>v2ray</li> </ul> </details> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1ef48a7203a9def92cf508497b3eed2237ae369a::
https://api.github.com/repos/NixOS/nixpkgs,114342,20.09/wee-slack::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change The old API used in versions before 2.6.0 stopped working on 2020-02-24, so we require this backport to still be able to use slack from weechat. #114258 (cherry picked from commit c3ea33e72be5ce42b42cfd129e1b63caa33a9504) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",dad250c4bd2bfe2567be9f077820f922b2694827::
https://api.github.com/repos/NixOS/nixpkgs,114292,binutils-2.31-secpack::staging-20.09,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change It backports patches for the following CVEs to binutils-2.31.1: - CVE-2018-20623 - CVE-2018-20651 - CVE-2018-20671 - CVE-2020-35493 - CVE-2020-35494 - CVE-2020-35495 - CVE-2020-35496 - CVE-2020-35497 Fixes https://github.com/NixOS/nixpkgs/issues/109147 See also https://github.com/NixOS/nixpkgs/issues/68556 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",533e6ca7ccd3bf4ecbb39ea0664a36fa27b866bf::
https://api.github.com/repos/NixOS/nixpkgs,114177,nomad_0_11-insecure::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change closes https://github.com/NixOS/nixpkgs/issues/113476 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::We have 0.12.10 in master. Should backport this version?::Already backported in #112683.::",88c30968edb598cf7cb10f03e8d64c3cbcf3eea5::c80370b5acad354a958c9e08c7170f80f2c98ae1::
https://api.github.com/repos/NixOS/nixpkgs,114093,fix-cve-2016-8605::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change It backports [245608911698adb3472803856019bdd5670b6614](https://git.savannah.gnu.org/cgit/guile.git/commit/?id=245608911698adb3472803856019bdd5670b6614) from `guile.git`'s `stable-2.0` branch to Guile 1.8 series. Fixes https://github.com/NixOS/nixpkgs/issues/73648 Result of `nixpkgs-review` run on x86_64-linux [1](https://github.com/Mic92/nixpkgs-review) <details> <summary>2 packages failed to build:</summary> <ul> <li>spring</li> <li>springLobby</li> </ul> </details> <details> <summary>38 packages built:</summary> <ul> <li>adapta-gtk-theme</li> <li>asciidocFull (asciidoc-full)</li> <li>asciidoc-full-with-plugins</li> <li>ballAndPaddle</li> <li>btrbk</li> <li>ccache</li> <li>ccacheStdenv</li> <li>ccacheWrapper</li> <li>chrome-gnome-shell</li> <li>clevis</li> <li>denemo</li> <li>disorderfs</li> <li>drgeo</li> <li>frescobaldi</li> <li>gnome3.gnome-session</li> <li>gnome3.gnome-shell</li> <li>gnome3.gnome-terminal</li> <li>gnome3.gnome-tweak-tool</li> <li>gnome3.pomodoro</li> <li>gnomeExtensions.easyScreenCast</li> <li>gnomeExtensions.gsconnect</li> <li>gnomeExtensions.night-theme-switcher</li> <li>gnufdisk</li> <li>guileLint (guile-lint)</li> <li>guile_1_8</li> <li>herbstluftwm</li> <li>lilypond</li> <li>lilypond-unstable</li> <li>lilypond-with-fonts</li> <li>luksmeta</li> <li>mcron</li> <li>pantheon.elementary-session-settings</li> <li>rep</li> <li>slibGuile</li> <li>solfege</li> <li>tang</li> <li>texmacs</li> <li>udiskie</li> </ul> </details> Note that it fails to build `spring` and `springLobby` regardless of this change. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion patches = [ ./cpp-4.5.patch ./CVE-2016-8605.patch ]; ```::Done. Thank you for your review!::",8d213e1ff98b582b5f796dcb31d4818e7c2f529e::
https://api.github.com/repos/NixOS/nixpkgs,113812,bkp/grafana-loki::release-20.09,0,closed,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Fix evaluation of systems depending on this. I'm really not sure if we want to backport this, as it's a new major release. Some other options are reverting 38eaa62 or potentially setting `doCheck = false` or some other way to make this build with go 1.14 that isn't a strict backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a81320033549e648accafc236b537ee19332e886::
https://api.github.com/repos/NixOS/nixpkgs,113809,bkp/syncthing::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change https://github.com/NixOS/nixpkgs/pull/113054#issuecomment-782727136 Not sure if we want to backport all these releases or just 1.9.0, tbh. cc @zowoq because of the go change & backport cc @marsam because you commited/did all the syncthing updates. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",310dcad8c6b4e2081438401fdc89c8a4d58fd488::5cf00152841808d6ae5c77309a037ae5256bd474::
https://api.github.com/repos/NixOS/nixpkgs,113652,cassandra-20.09::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change backport #113578 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5331997957363d372343dd286aaf324846fc5957::c05fd2559ab9ab997f6a125196c8b6c0fa25b9af::e6307105b9de8827118e3ad8739a744681558c5f::c65af3f1e1825c7f69a3663498d4610b29b3902a::
https://api.github.com/repos/NixOS/nixpkgs,113595,moinmoin-1.9.11::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Fixes CVE-2020-25074 and CVE-2020-15275: https://github.com/moinwiki/moin-1.9/blob/1.9.11/docs/CHANGES#L13 Requires backport to 20.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",83aadda3b55d76d1c6cfc66ca3db93b55bed63d8::
https://api.github.com/repos/NixOS/nixpkgs,113525,20.09/fix-eval::release-20.09,0,merged,,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change The `jsonnet-bundler` package was backported by directly pushing it to release-20.09, bypassing the ofBorg ci checks and has resulted in the following eval error. Fix this by backporting the `preisschild` maintainer as well. ``` nix-env failed: warning: ignoring the user-specified setting 'restrict-eval', because it is a restricted setting and you are not a trusted user error: while evaluating anonymous function at /var/lib/ofborg/checkout/repo/38dca4e3aa6bca43ea96d2fcc04e8229/mr-est/ofborg-evaluator-0/.gc-of-borg-outpaths.nix:44:12, called from undefined position: while evaluating anonymous function at /var/lib/ofborg/checkout/repo/38dca4e3aa6bca43ea96d2fcc04e8229/mr-est/ofborg-evaluator-0/pkgs/top-level/release-lib.nix:121:6, called from /var/lib/ofborg/checkout/repo/38dca4e3aa6bca43ea96d2fcc04e8229/mr-est/ofborg-evaluator-0/lib/attrsets.nix:292:43: while evaluating 'hydraJob' at /var/lib/ofborg/checkout/repo/38dca4e3aa6bca43ea96d2fcc04e8229/mr-est/ofborg-evaluator-0/lib/customisation.nix:171:14, called from /var/lib/ofborg/checkout/repo/38dca4e3aa6bca43ea96d2fcc04e8229/mr-est/ofborg-evaluator-0/pkgs/top-level/release-lib.nix:121:14: while evaluating the attribute 'meta' at /var/lib/ofborg/checkout/repo/38dca4e3aa6bca43ea96d2fcc04e8229/mr-est/ofborg-evaluator-0/lib/customisation.nix:176:24: while evaluating the attribute 'maintainers' at /var/lib/ofborg/checkout/repo/38dca4e3aa6bca43ea96d2fcc04e8229/mr-est/ofborg-evaluator-0/pkgs/development/go-modules/generic/default.nix:252:7: undefined variable 'preisschild' at /var/lib/ofborg/checkout/repo/38dca4e3aa6bca43ea96d2fcc04e8229/mr-est/ofborg-evaluator-0/pkgs/development/tools/jsonnet-bundler/default.nix:24:39 ``` [1] https://github.com/NixOS/nixpkgs/commit/6f1ce38d0c0b1b25727d86637fd2f3baf7b0f1f6 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e94eb0b121adfd521329c437ab6ea0f4786370d3::
https://api.github.com/repos/NixOS/nixpkgs,113365,ena::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Release notes: https://github.com/amzn/amzn-drivers/blob/master/kernel/linux/ena/RELEASENOTES.md#r241-release-notes I found that I was not able to nixos-rebuild with `boot.kernelPackages = pkgs.linuxPackages_latest` on AWS with `imports = [ <nixpkgs/nixos/modules/virtualisation/amazon-image.nix> ];` - (a) with 20.09 (which pulled in `ena-2.2.11-5.10.15`); or - (b) with 20.09 after cherry-picking #107008 (which pulled in `ena-2.3.0-5.10.15`) Perhaps this should be backported to 20.09 and the `broken` bit (https://github.com/NixOS/nixpkgs/blob/08327493801e12217891826604c2812e7f48eb28/pkgs/os-specific/linux/ena/default.nix#L40) should be unset on 20.09 as well. With this change applied on top of 20.09, I was able to boot on AWS with linuxPackages_latest. Also thanks to @samueldr who helped me get this running. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",81e2319c1e837e89ad67924ad91786b1dd252f53::
https://api.github.com/repos/NixOS/nixpkgs,113120,master::staging,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::8.has: clean-up::8.has: package (new)::,"###### Motivation for this change Update OpenJDK 8.0.282: https://builds.shipilev.net/backports-monitor/release-notes-openjdk8u282.txt https://www.oracle.com/java/technologies/javase/8u281-relnotes.html 11.0.10: https://www.oracle.com/java/technologies/javase/11-0-10-relnotes.html 15.0.2: https://www.oracle.com/java/technologies/javase/15-0-2-relnotes.html ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",2355078132863da71c6ea91d8287fcbd24f4439e::8c025ae92f516699b76f529884e4f0920418a6c5::
https://api.github.com/repos/NixOS/nixpkgs,113104,backport-cfitsio-configureFlags::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Backport a2c3335cd360a36eae2109dac7caca7d9a68d395 from #113024. This is mainly important for users who override and expect `configureFlags` to be a list. It's therefore important that master and release-20.09 branches are aligned (and behave the same as previous releases). Therefore I'd like this backported to the branches affected by 301c7b9992373869773992d6516133fefb402784 (the backport commit that changed `configureFlags` from list to string). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9fddecb5003d31c64974902bc2c0e1e9ab12809a::
https://api.github.com/repos/NixOS/nixpkgs,112916,nixops-20.09::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: clean-up::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Backport PR for #112407. Please note that I removed `nixopsUnstable` here on purpose as this would've meant that another PR had to be backported and I didn't manage to get it building without deeper investigation. cc @madonius ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e15f24ccdddfe05236eb10f1edc9c37a9f7a4b68::ecbc659c2e9a32d0329b04c86ccbf62523e778d7::91b134f7d3018942e7d8c47a95d9a6adcc3433a3::baaf573239beaf579fa5b0290e6fa4ab9d7a727e::89f1f7c5b13c78288af2fa7d4e272bbdfd81ae31::02a0ebff767720147c05d0750e727b17e2a095ff::
https://api.github.com/repos/NixOS/nixpkgs,112762,vbox-18::release-20.09,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change release-20.09 currently carries a VirtualBox 6.1.16 marked broken due to incompatibility with Linux 5.10. I've backported the version upgrade and marked the relevant packages as unbroken. This the backport of #110550. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7f48c84d78be3fc14bfaf679018e8bb9533c338f::5e56f17907262ba681754c4f527f552515cc0f16::
https://api.github.com/repos/NixOS/nixpkgs,112537,package/firejail-0.9.64.4-backport-20.09::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::8.has: port to stable::,"###### Motivation for this change Backport of #112439 Fixed CVE-2021-26910 #112423 Cc: @NixOS/nixos-release-managers @mweinelt ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::not really relevant for a backport, but more correct. Unless it's linking against which... ```suggestion nativeBuildInputs = [ which ]; ```::",59c067e502b32b822cdbd550c2c22044a1e51471::188019025fb3816c25eb2057ebb3e7243551c013::05d291583232d0cbe0bd50f6cf8faea109d81e16::d3ad86322e958dcb287667681dfdafdd9a29fa13::
https://api.github.com/repos/NixOS/nixpkgs,112525,libsmbclient-php::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Due to some restructuring of the `php` ecosystem we can't do a straight `cherry-pick` backport of https://github.com/NixOS/nixpkgs/pull/111515. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6ae0ce2deafe9f3e05a42bbba44e64d0d30040c0::
https://api.github.com/repos/NixOS/nixpkgs,112382,tor-20.09::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change - backport of https://github.com/NixOS/nixpkgs/pull/112374 - version update: https://gitweb.torproject.org/tor.git/plain/ChangeLog?h=tor-0.4.4.7 - contains fix to https://gitlab.torproject.org/tpo/core/tor/-/issues/40237 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7f7ce6e3d2b22d5453a0ab0d7f43e9e1383333a8::
https://api.github.com/repos/NixOS/nixpkgs,112233,nomad_bump::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: clean-up::,"###### Motivation for this change Version bump. 1.0 has been around for a bit so it should be safe to make it default, 0.11 did not receive a backport for this CVE so we should drop it as it appears no longer supported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Yay! - glad they added this, makes life easier in the future :sweat_smile: ::",901e1ea7dbd6eb72d5046d94998839c0d8c976e5::94365804d0d5fab6a3abfc5716e2e7aaba9f17c9::8ae4b1be1cb2116bb63e96312dae9c9aa22eebd1::dd7f5b0065f0b03a53bb9dc59aa2438215ed9963::1830a06e2c2aaa1fc72effd260cbf1d8b9510a08::
https://api.github.com/repos/NixOS/nixpkgs,112177,qtstyleplugins::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change gtk2 style is broken, and doesen't render background correctly, but for some reason it works in qt5ct, god knows why. I found how to fix this on the aur: [link to the patch](https://aur.archlinux.org/cgit/aur.git/tree/0002-fix-gtk2-background.patch?h=qt5-styleplugins) Maybe this should be backported to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Please use fetchpatch with ``https://aur.archlinux.org/cgit/aur.git/plain/0002-fix-gtk2-background.patch?h=qt5-styleplugins`` instead.::Fetch patch doesen't seem to work, but fetchurl does.::Also i don't know, i think this should be consistent, either should provide both patches in the nixpkgs, or download both from the aur. And i'm not really a fan of relying on the aur package link ;/ What do you think?::Wer can't use fetchurl because it does not normalise the patch. After the download is cached AUR can delete it and we still have it available. I don't care if both patches are fetched or not but vendoring patches just makes the repo big and they need to be maintained or adapted.::I found out why fetchpatch didn't work - it doesen't prompt for new hash if it is an empty string, but fetchurl does - i will try to see if i can fix it, otherwise i'll file a bug report.::",4bd8ad4380479abc38567967c3b4bf33fac76fb5::
https://api.github.com/repos/NixOS/nixpkgs,112145,release-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Backport of #106857 (excluding the merge commit, of course) It [has been shown](https://github.com/NixOS/nixpkgs/issues/101445#issuecomment-771243252) to fix/prevent JWS issues pretty reliably at this point, and there has been demand to get these features backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::@m1cr0man What happens if the first 20 characters of the hash are not unique?::Cert/account folders have the same name for different certs. Lego creates subdirectories that are unique per domain/account. This is a non issue.::",f9535a0ab75ba2124926449d912c7e522734b710::cd73f6dbef8aa38da01f2dcf311e6cf04d4c5240::a72d434f888c0e9b163873f2d62b0e908c7fc704::1803de501ab04f181a7b8b9bae35722e0ef1d884::6d3d8e6262aef083682acbf70649052516ab2bc7::e5af62882660d9fa9e6154a96051cb5a3d82c2a0::96508ce26ff2c3dd929efc8ba23ad6097849e618::93ac91d31b6268736784fec93ca88f1aa95d462e::1f054921b5cd7b09cd1c2dd29283b67e5eaddf8a::
https://api.github.com/repos/NixOS/nixpkgs,111552,gogs-insecure::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change I don't know how to backport https://github.com/NixOS/nixpkgs/pull/102061 in a non-breaking way. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @braunse ::",3e1092ff824b161f3090dd12f8eb30ba8e2df9e4::
https://api.github.com/repos/NixOS/nixpkgs,111515,libsmbclient-php::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change I'm probably going to need this at some point. I also have a sneaking suspicion that `nextcloud` could make use of this. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::After reading [config.m4](https://github.com/eduardok/libsmbclient-php/blob/1.0.4/config.m4) I had the feeling an upstream fix might be required. I don't have the skills for this type of fix, so I just used this hack instead. @jtojnar would know what to do...::The package seems to use some ancient macros. Ideally it would switch to pkg-config. And it seems our @bachp has been also looking into this: https://github.com/eduardok/libsmbclient-php/pull/66::```suggestion { buildPecl, lib, samba, pkg-config }: ```::```suggestion LIBSMBCLIENT_INCDIR = ""${samba.dev}/include/samba-4.0""; ```::```suggestion nativeBuildInputs = [ pkg-config ]; buildInputs = [ samba.dev ]; ```::@jtojnar a bit hacky, sure, but do you see any problem proceeding with this for now until upstream is able to respond? I think I'm going to need this soon and would like to merge + possibly backport this extension.::Should be fine. Maybe add a comment linking to the upstream PR though.::Also should just be `samba`, since we want a library here. (Though it will work either way because inputs ignore the derivation outputs.::Great. Thanks for your review @jtojnar.::@etu @talyz @Ma27 did we want to switch all the `php` packages and extensions over to this style?::Well, we could, but maybe not worth to change all packages and extensions in this PR. It's more commonly used across nixpkgs so it would be nice to follow that.::Great. I'll write up a PR once I get a chance. Thanks!::Overwriting packages is not that easy when they are used indirectly.::",dd147bbc64cd979db5ee0f64871c0ff1d863a51b::
https://api.github.com/repos/NixOS/nixpkgs,111487,llvm-outputs-and-cross-compile-tools::staging,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::6.topic: ocaml::6.topic: python::6.topic: rust::6.topic: stdenv::6.topic: vim::8.has: package (new)::,"###### Motivation for this change Inspired by #100574 but we should worry about testing cross after because this is already enough. This is going to require some better upstream support for split outputs. ~~I left a comment in https://reviews.llvm.org/D28234. *If* that can go through, I'm happy to backport or just hack up `llvm-config` another way.~~ I made https://reviews.llvm.org/D99484, see the fairly long commit message there for more info. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] llvm lld lldb clang-unwrapped libcxx libcxxabi compiler-rt libunwind lldClang for all LLVM versions that have it! - [x] macOS - [x] stdenv - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::I don't think this evals.::I noticed a couple of points when testing cross compilation - `LLVM_CONFIG_PATH` is defined twice. - These packages refer to `llvm_10` / `llvmPackages_10`, but this is `llvm/11/clang`. Haven't finished testing yet. I'll comment if I find more things.::Trying to cross compile lld fails with ``` CMake Error at CMakeLists.txt:42 (message): LLVMConfig.cmake not found ``` It looks like the directory emitted by `llvm-config-native --cmakelists` is `${llvm.dev}/lib64/cmake/llvm`, but the cmake files are contained in `${llvm.dev}/lib/cmake/llvm` (Also, this is referencing `llvm_10` as `llvm/11/lld`).::Think I fixed these.::Mmm, we should set `LLVM_LIBDIR_SUFFIX` and friends to be the empty string for that. I wonder also if anything is looking up `ClangConfig.cmake`, because we could have problems with that being expected to be in `$out`.::Wouldn't it be better to use `libclang` here / wouldn't this fail to evaluate with `clang-unwrapped = clang-unwrapped-all-outputs.out`?::Why did you remove the `getLib` here?::`getLib cc` seems simple to achieve the same.::Wouldn't that be `libclang`?::Would this be `lld.dev`?::`libclang` seems better.::`libclang`?::`lld.dev`?::`libclang`?::`lld.dev`?::`libclang`?::`libclang`?::Good idea!::since `cc` is defined as `libllvm.out`, the output is ""predetermined"" and stuff like `lib.getLib` won't work. it's a bummer but the only solution I can think of is to do ""out"" and ""bin"" instead of ""out"" and ""lib"" (i.e change the default output).::See https://github.com/NixOS/nixpkgs/pull/111487#discussion_r623622024::Done!::there is `lib.getDev` mapped on these by default, so `lld is fine. Just need `llvm.dev` to work around the explicit output as described above. Also `lld` is removed because I don't think it's needed, and `llvm` is no` libllvm` obviating the issue.::Done!::See https://github.com/NixOS/nixpkgs/pull/111487#discussion_r623622409::Done!::See https://github.com/NixOS/nixpkgs/pull/111487#discussion_r623622409::Done!::Done!::That makes sense. I wonder if this behavior of `lib.get*` is actually necessary, but it is probably not a thing we should include here if it is at all possible since it would need additional testing.::IIUC, this causes `libclang_rt.osx.a` to be installed to `$out/lib`, instead `$out/lib/darwin` as it was previously, which means it can no longer be found by the linker driver, which always uses `darwin` (see [MachO::AddLinkRuntimeLib](https://github.com/llvm/llvm-project/blob/1fdec59bffc11ae37eb51a1b9869f0696bfd5312/clang/lib/Driver/ToolChains/Darwin.cpp#L1070-L1075)). I noticed it trying to cross compile `m4` for `aarch64-darwin`, but I don't yet know how it works on `x86_64-darwin`. Previously ``` result └── lib ├── darwin │   ├── libclang_rt.cc_kext.a │   └── libclang_rt.osx.a ├── libclang_rt.cc_kext.a -> darwin/libclang_rt.cc_kext.a └── libclang_rt.osx.a -> darwin/libclang_rt.osx.a ``` Now ``` result └── lib ├── libclang_rt.cc_kext.a └── libclang_rt.osx.a ```::@thefloweringash sorry about that. Does this effect the current 7-based bootstrapping or just the new one?::",7869d1654517c028aa76fc1dedc9b5ac301a867a::
https://api.github.com/repos/NixOS/nixpkgs,111283,libgcrypt_1_5-insecure::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/111215 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",bfd1bd8acb110150465b32b558861b6f9ae4e341::
https://api.github.com/repos/NixOS/nixpkgs,110997,qute::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change This release includes several fixes for incompatibe changes introduced by the Qt 5.15.2 update, which was backported to NixOS 20.09. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested compilation of all pkgs that depend on this change (qutebrowser) - [x] Tested execution of all binary files - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4c3fe53a044dc3c567fbfdf94b2d6666b77420b3::9405be86f1e3241ce1ce0a027125dacc26b8a668::
https://api.github.com/repos/NixOS/nixpkgs,110955,anand/backport-terraform::release-20.09,0,closed,,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Terraform has undergone some major changes which makes it unusable with v20.09; mainly a change that prevents using symlinks to identify plugins. Terraform implemented this change to prevent infinite loops when trying to search for plugins. However, this breaks terraform since the nix-store relies heavily on symlinks. This commit backports the latest changes from master to ensure terraform runs as expected on v20.09. ###### Things done In a fully sync'd repository, starting from branch `release-20.09`, I ran the following: ``` git checkout master -- pkgs/applications/networking/cluster/terraform git checkout master -- pkgs/applications/networking/cluster/terraform-providers git commit -am ""Backported latest changes from master"" ``` <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",aac94af460e65341d858e157c57be0842136b469::
https://api.github.com/repos/NixOS/nixpkgs,110759,openjpeg_1-drop::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: clean-up::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/110706 ~Should we actually remove `openjpeg_1`?~ It is being removed since it has open vulnerabilities. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5253fb01b7dab93f20f4814d3b15caf82333b97c::9f816dbcd481b6d0e5b861e2ee0dd80421b9447b::817f3bf8d6c0d4501db3eba93c2ae78658f1ad06::
https://api.github.com/repos/NixOS/nixpkgs,110706,openjpeg_1-drop::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: clean-up::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change open vulnerabilities: https://github.com/NixOS/nixpkgs/issues/109201 Should we backport this to 20.09 in order to completely fix https://github.com/NixOS/nixpkgs/issues/109201? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion openjpeg_1 = throw ""openjpeg_1 has been removed, use openjpeg_2 instead""; # added 2021-01-24 ```::We could probably also merge 2.X and generic nix now.::When can an alias be removed? This one should be since it actually points to version 2.4.::Since it doesn't specify a minor revision, it could point to any of them. If it's not needed anymore, we could deprecate it anyway. The `openjpeg_2_1` alias, however, is clearly wrong and should be removed.::I was referring to `openjpeg_2_1`.::Oh wait, that was the one you pointed out. Nevermind :)::",27c6e5dd9f2b8b9b64c9bbf8d32f22a37eec70af::0948e93ef0089fa4e81b88fdf3f398383e579b5a::d846bfaa4d9543758a5a27384e34c0ae2aa84de3::8c9a72e55fed6e711a25030ad5d78300d47d9956::e0dd8c61668883d093cba7231ebadff06bc3fd95::
https://api.github.com/repos/NixOS/nixpkgs,110692,mutt-cve-2021-3181::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change In #110449 the [CVE-2021-3181](https://nvd.nist.gov/vuln/detail/CVE-2021-3181) was addressed for unstable, however the consensus seems to be that we cannot update mutt from 1.14.7 to 2.0.5 on release-20.09 due to breaking changes in version 2, and thus have to backport the patches. I realized the patches referenced in the CVE apply rather cleanly to the 1.14.7 sources as well. It builds without errors and the resulting binary starts. However **I am not a mutt user**, just a guy with a little spare time. So I would require the maintainer @rnhmjoj and other users of mutt to try this out before merging. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Can you use `fetchpatch` instead of pulling the file into nixpkgs? See the line just above.::Sure. It is 3 commits though, all 3 referenced by the CVE.::",ed5e2129edb1416cffcdf756ddecbad71fce7f28::
https://api.github.com/repos/NixOS/nixpkgs,110215,20.09-cifs-utils-CVE-2020-14342::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Did not backport 033208fd46e03178655f3c4a59add1d9dbf57731 because of some behavior changes in the CLIs. The patch comes from [the issue in the Samba bugtracker](https://bugzilla.samba.org/show_bug.cgi?id=14442). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion name = ""CVE-2020-14342.patch""; url = ""https://attachments.samba.org/attachment.cgi?id=16148""; ``` Setting the CVE identifier as the patch name enables tools like broken.sh to identify these patches.::",88fd0ec3459df2f97eec0e4b0457034b293c6f70::
https://api.github.com/repos/NixOS/nixpkgs,109946,cawbird-v1.3.2-back::release-20.09,0,merged,,"###### Motivation for this change Backport of #109941 backport reason: previous minor release not supported any longer ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",86fd637e4d6e46c9b309a9a6111b1fcfaac43f20::
https://api.github.com/repos/NixOS/nixpkgs,109716,f/crystal_stable::release-20.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::11.by: package-maintainer::8.has: package (new)::,"###### Motivation for this change Crystal was broken on 20.09 so backport the fixes from unstable that makes things work again. Doing a test deployment right with this. Cc @NixOS/crystal-lang ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6cca3152c50b6a23b9aaa979021643f27b64a58b::d5bf66aff64910c1a8fcc5a37b6e9381b5877c74::cb54f2a75cbc6341ab42189a6920e6e27d6222c7::53610bce409008956a9edccffaab295fe3e92186::e1794e0fc90482619cf97c0687ad9ecaeab6a212::
https://api.github.com/repos/NixOS/nixpkgs,109456,nix-prefetch::master,0,closed,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Fixes incompatibility with nixUnstable and hence needs to be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",275dbcaa25cb6f29f287e44181340607a8b1b23d::
https://api.github.com/repos/NixOS/nixpkgs,109310,mesa::staging,0,merged,10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::11.by: package-maintainer::,"The ""util: Disable memstream for Apple builds"" patch got backported: https://gitlab.freedesktop.org/mesa/mesa/-/commit/6a006c35675636cb0d2cbfdfb1681b6639e0664d <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",75248b396fb4af0a9b66ffefe0a3c6b12dcd70cc::
https://api.github.com/repos/NixOS/nixpkgs,109286,ceph-15.2.8::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::9.needs: port to stable::,"###### Motivation for this change Although we probably aren't affected by: CVE-2020-27781, we might as well just get nixpkgs bumped to latest minor release. this PR closes #109151 (if also backported to 20.09) Regarding the boost bump: ceph v15.2.8 no longer builds with boost v1.6X, because of this change: https://github.com/ceph/ceph/commit/5d5f9a0d41721f08b19f8425149fd13f4ef13696 and it doesn't build with latest boost (1.75) either. The choice of v1.72 is based on the ceph cmake-files selecting that version, although I also tested it working fine with 1.73. (https://github.com/ceph/ceph/blob/v15.2.8/cmake/modules/BuildBoost.cmake#L151) The single-node and multi-node tests passed locally on my machine. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",423b9b2a707ca20ab8a268ac3735d6d4f9149705::
https://api.github.com/repos/NixOS/nixpkgs,109274,kraem/backport/linux/5_10_7::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Linux kernel version bumps. (This is my first backport. Please let me know if there's something I've missed / done wrong.) I noticed `linux_latest-libre: 17788 -> 17830` and `linux-rt_5_4: 5.4.74-rt41 -> 5.4.84-rt47` could be updated as well (this PR is backported from #109231), want me to add them to this PR, or should i create a new one? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d4f9ee7de6f8a23366b8dc9fe4a4926a8a51ceee::b38dc7eefcc2771088ba60a0275be7a109de1be2::d8446aa7998edc4f8be7df05c60a98d04e69e176::c595f7e895e569cc7381a3e12d33a9def4db7d8c::e275c741f55efceb7b7e0868dcf647ad7c2b14e9::1371cfd1d69c73e98946b9b0410bcb71b0576f93::c91c58a18489ddede4cea2274e326be6f8c8478c::f6a998df6642f7dba306450d991698e371a14ce8::
https://api.github.com/repos/NixOS/nixpkgs,109089,20.09/glibc-2.31-cve-2019-25013::staging-20.09,0,closed,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux-stdenv::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"###### Motivation for this change Patch [`CVE-2019-25013`](https://nvd.nist.gov/vuln/detail/CVE-2019-25013). This is essentially a backport of https://github.com/NixOS/nixpkgs/pull/108571. ###### Things done First time contributing to glibc section of Nixpkgs here. I essentially piped `git show c4f5e32aae3094491641025a42fe2d55222c8f16` (which is upstream's backport of the [fix](https://sourceware.org/git/?p=glibc.git;a=commit;h=ee7a3144c9922808181009b7b3e50e852fb4999b) to `2.31`) to the patch file and removed conflicting edits to the `NEWS` file manually. I hope this is how things are done? <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ecaacd7d12304b831a721f00fde6b2fba1b6ac8f::
https://api.github.com/repos/NixOS/nixpkgs,109061,dr-pr-osqp-update::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: python::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::20.03 is EOL and no longer supported. We do not backport anything either so this should be removed. Also pre, post and phase overwrites should use ``` = '' ''; ```::Ack, will fix. That was an artifact from copying it from my nur packages build where I prototype most of these updates.::",93fcc6b553ae8efd139420255bea6cfe08001cbd::d029e9b92e3c347345251a3d4b4c7e3e5adac267::
https://api.github.com/repos/NixOS/nixpkgs,109029,zfs-meta.broken-instead-of-abort::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::9.needs: port to stable::awaiting_merger::marvin::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change throw aborts eval when the package is touched in inappropriate places, see https://github.com/NixOS/nixpkgs/issues/109001 for an adverse instance of that. It now behaves like a regular broken package when it's, you know, broken. It also still prints the helpful incompatibility notice. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion buildKernel && (incompatibleKernelVersion != null) && kernel.kernelAtLeast incompatibleKernelVersion ```::LGTM, feel free to just push that. Could you also do the backport to stable (staging?)? You'd probably be the one to merge my PR for that anyways ;)::Although hold on, have we foreward-ported kernelAtLeast yet? You created that in staging IIRC.::I should be there, I needed it to properly mark failing module builds::``` [11:42:55] jon@jon-desktop /home/jon/projects/nixpkgs (release-20.09) $ git pull Already up to date. [11:42:59] jon@jon-desktop /home/jon/projects/nixpkgs (release-20.09) $ nix eval -f . linuxPackages.kernel.kernelAtLeast <LAMBDA> [11:43:17] jon@jon-desktop /home/jon/projects/nixpkgs (release-20.09) $ git co master Switched to branch 'master' Your branch is behind 'origin/master' by 5 commits, and can be fast-forwarded. (use ""git pull"" to update your local branch) [11:43:46] jon@jon-desktop /home/jon/projects/nixpkgs (master) $ nix eval -f . linuxPackages.kernel.kernelAtLeast <LAMBDA> ```::",aa58df5312b58695ab43f40f450cc6de8bca06cc::
https://api.github.com/repos/NixOS/nixpkgs,108830,hplip-ppd-search-path::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change This is to address the crash I hit recently trying to use `hp-setup`, details here: https://github.com/NixOS/nixpkgs/issues/21796. From the commit description: > HPLIP's getSystemPPDs() function relies on searching for PPDs below common FHS > paths.  None of these exist on NixOS, but the code assumes that at least one of > the directories will be found, and crashes when it doesn't (cups_ppd_path is > None and the code passes that to os.path.join). > > A usable PPD search path for the running system on NixOS is > /var/lib/cups/path/share, so this patches the source to check this path as well. > This should fix the NixOS case and keep non-NixOS cases working too. **Disclaimer here,** this fixes my problem with 20.09 and I've built my system config against master, but I haven't run a machine with master to actually test this out there.  I plan to do so on a spare machine when I get time to set one up, but I'm opening this now to get some eyes on it. I'm interested in having this backported to 20.09, if it's considered safe enough. Thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - `nixos/tests/printing.nix` passes with these changes applied to master. - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - Well it said no packages were found.  I have done a full build of my own system config though, which includes `hplipWithPlugin`. - [ ] Tested execution of all binary files (usually in `./result/bin/`) - Not all, but I tested `hp-setup`. - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - +24 bytes. - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",60df55c9fba36891b2c76eda50d5e2c9a0731e4e::
https://api.github.com/repos/NixOS/nixpkgs,108770,firefox_update::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::8.has: port to stable::,"###### Motivation for this change Mozilla announced a critical security vulnerabilities in various Firefox versions: https://www.mozilla.org/en-US/security/advisories/mfsa2021-01/ This will need backporting due to its security relevance (@NixOS/backports). ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via NixOS test (nixos/tests/firefox.nix) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",480692d34f1081c295b8966cf4c8da269a45a988::126c359b00a80c29504ea0a1060075bd7d7d90a6::14756284291acc4edc9fb22a81e0cff9c30e4fa4::ba229388ca6531c572b24f0f40c2228104aa43b8::70523a5e0449591258cb1eb30c500a32f0a2508e::
https://api.github.com/repos/NixOS/nixpkgs,108709,joachim/openblas-0.3.13-20.09::staging-20.09,0,merged,10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 2501-5000::10.rebuild-linux: 501+::,"this backports the following commits from `master` to 20.09: * f52263ced09 treewide: Start to break up static overlay * d1d536cc07f openblas: 0.3.10 -> 0.3.12 * f715602febc Revert ""openblas: 0.3.10 -> 0.3.12"" * 840c20169e9 Merge pull request #101715 from r-ryantm/auto-update/openblas * e1a59dddd08 openblas: 0.3.10 -> 0.3.12 * 4e291519102 Revert ""Merge pull request #101780 from glittershark/bump-openblas"" * 3b4cd4f4dac openblas: 0.3.10 -> 0.3.12 * 692d219a931 Merge staging-next into staging * 7902256cfd1 openblas: enable multiple outputs * 92d7b38e89a openblas: enable on ppc64le The motivation is to unbreak building `python36Packages.scipy` (see issue 92458)::",397c37609a499e68aac0997f5e239978919cb77b::
https://api.github.com/repos/NixOS/nixpkgs,108578,feature/chrony::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change NTS authentication support was the headline enhancement of the chrony-4.0 release. This PR adds the `enableNTS` option to enable use of this support. To make this module a bit more convenient to use, this PR also adds the following options: `serverOption`, `directory`, and `package`. Defaults remain unchanged. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::There is only one version of this package in nixpkgs and it has no variants. I don't know that this option provides any value over an overlay. But then again... some people like that `package` option.::Thank you for your reviews! @aanderse Because chrony-4.0 is currently only available on unstable, having a `package` option offers a quick way to get it on a system that otherwise follows a stable channel (without having to wait for a backport, etc.). It’s certainly a workaround but might be appreciated by those interested in securing their time server connections ASAP:wink: Edit: Then again, if overlays are the recommended standard for this level of granularity moving forward, perhaps adding a `package` option is undesirable...::Sounds good. FYI you can always set `chrony = unstable.chrony;` in your overlay!::",9550d865e9ecf2d3e0767231a68548865da34f87::2e131e1f45dd01bef5231744745931afadccdf90::2aec205bd2bb23d0b1230e7639d9ff4134a2f656::54778551d6029e5ffdb6c530915477095a3f564f::
https://api.github.com/repos/NixOS/nixpkgs,108500,grocy-backport::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change cc @NixOS/backports ChangeLogs: * https://github.com/grocy/grocy/releases/tag/v3.0.0 * https://github.com/grocy/grocy/releases/tag/v3.0.1 Update to 3.0.0 is needed to fix [CVE-2020-15253](https://nvd.nist.gov/vuln/detail/CVE-2020-15253). I tested the update on my production instance and it worked fine. The major release mainly happened due to changes in the REST API, though I'm not aware of any third-party client which consumes data from `grocy`. Closes #102794 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3cf0bd886f15c3ef987b430efbef02f3a42e9524::98233470ef2f40e78f9c066d4a0254a02c470548::
https://api.github.com/repos/NixOS/nixpkgs,108107,reintroduce-epiphany::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: GNOME::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::8.has: port to stable::,"###### Motivation for this change This reverts commit 13b192749c2312683ad5db285de66f0352b67f98, since https://github.com/NixOS/nixpkgs/issues/98819 is now fixed. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::\we should not retroactively alter 20.09 release notes. We could add an item that says it changed back in Okapi though.::Well, I think it should be backported to 20.09, since it was done because of the webkitgtk issue. See #107981. If we want to preserve the release note history, we could add an additional item redacting the previous one, though.::we need to add reverting https://github.com/NixOS/nixpkgs/commit/70dc25abd9a63ca3839c08bba8cba9e7bc974b04 also::let's not remove this rl-2009. let's edit for the Okapi note to say it was readded. and then add a note below this saying that x & x change allowed it to be readded to defaults.::Done!::",39cce2f144d34ee29dbfe6de4387b7c75097bc70::6a12654363c85bc903f0d2f17f1508b9b939129d::8ed99878944d3c0901ddb2733d156f1d4e987d96::
https://api.github.com/repos/NixOS/nixpkgs,108001,backport-20.09/shellhub::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::8.has: package (new)::,"###### Motivation for this change This is a backport of #104419. We aim to ease the use of ShellHub and NixOS is one of the distros we'd like to support. It is working very well on our machines. We believe the backport, even not being a bug fix, this is a new and isolated package and service thus providing no regression risks. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1f86266fd1aa6e4829687e836aabed751118418d::487b5b46c023c52be19fc2586e84948798633312::b697faae49625850560f7e75aae1e48ffb4eba3c::
https://api.github.com/repos/NixOS/nixpkgs,107953,nixos-msmtp-module-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change This adds a module for msmtp, a simple SMTP client which provides a sendmail-compatible interface. GitHub: see also nixpkgs issue #105710 (cherry picked from commit 93335aa252b3067d87ac19aa31b78b6943e94ea8) This is a backport of https://github.com/NixOS/nixpkgs/pull/105831. CC @AndersonTorres (https://github.com/NixOS/nixpkgs/pull/105831#issuecomment-752320847) ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Tested importing and using the module out-of-tree - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",44e2bdd72d788adb69ac67db0db8ac2ec56bd0e7::
https://api.github.com/repos/NixOS/nixpkgs,107949,ssmtp-config-generator-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change This replaces `concatStringsSep ""\n""` with the proper generator to make sure that the generated configuration file ends with a trailing `\n`, which is required by ssmtp's picky configuration parser to take the last configuration key into account. GitHub: closes #105704 (cherry picked from commit a2c4419636802218e2cac198ba1bb55a37b2feff) This is a backport of https://github.com/NixOS/nixpkgs/pull/105706. CC @AndersonTorres (https://github.com/NixOS/nixpkgs/pull/105706#issuecomment-752320737) ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Tested replacing the module locally - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ece8d0f184c99738e8a1cea6f5aad23228d66e84::
https://api.github.com/repos/NixOS/nixpkgs,107812,20.09-pr-103803-backport-fix-openssh-hpn-sha::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change 20.09 backport of #103803 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). CC @SCOTT-HAMILTON::",04d5b1e8beb6e0913cf2d1921d8f1f15106dbee8::
https://api.github.com/repos/NixOS/nixpkgs,107801,redmine::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"(cherry picked from commit 1288f41c6ee3506654d2f88a204f2f7951b8f664) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Backport of https://github.com/NixOS/nixpkgs/pull/107155. Only adds new functionality, so no impact on existing installs - safe to backport :+1: ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",11515d1a2f0315de256e30c47bf6992b76a5589a::
https://api.github.com/repos/NixOS/nixpkgs,107790,backport-hedgedoc::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: clean-up::8.has: documentation::8.has: module (update)::8.has: package (new)::,"###### Motivation for this change The update of `hedgedoc` (formerly known as `codimd`) should be backported to `release-20.09` for the following reasons: * Upstream only supports the latest version (https://github.com/hedgedoc/hedgedoc/blob/master/SECURITY.md#supported-versions) * CVE-2020-26286, CVE-2020-26287 need to be fixed This includes changes from #107762, #105385. The change is backwards-compatible since the original data-path (`/var/lib/codimd`) is still used if `stateVersion < 21.03`. cc * @WilliButz (author of the update) * @NixOS/backports * @petabyteboy who also worked on a codimd update quite recently and might be interested in this. __Note:__ 16b61e7 is additionally needed. @WilliButz and I are currently not sure why this is needed for the backport, but everything works fine on `master`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c23d81c1862ca7b83d1952d25b0185a5a211f014::9a7aae4ecc41ae1b771055b1dcecd39906026a94::53ed5fc654d64a71acfde8f71943a4d2011ced8b::16b61e70d4afe86c5b9f12fccbbcac7c3d7d46e0::
https://api.github.com/repos/NixOS/nixpkgs,107769,release-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Backport of #101482 It was requested by at least one user, and the module is still causing issues for users so this will probably not be the last backport of acme-related changes. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion to be regenerated. In this scenario lego will produce the error <literal>JWS verification error</literal>. ```::Fixed in master in f71e439688e.::",bff2d5db2b23d5941c9f5366aae6c3308ffcefd3::ebef75f0e60855da87f13ace62d09b193284b00c::c550aa2fb30770c76c16d51cde885731d91df220::15822fbdc97e6c66c9c5552c0d9f80a883e3067a::
https://api.github.com/repos/NixOS/nixpkgs,107746,ungoogled-chromium-backport::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change This'll help a bit when backporting #106475 (and obviously this'll fix quite a few security issues too). I'll try to test this using Chromium's VM test. But it'll likely fail on 20.09 due to too old system dependencies (for Chromium we never backported #100110 and #101467 to 20.09 and it'll likely have to remain that way for this release). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c174eb80dd407881d889d61425531aae73a2af12::5d520d2e70853e3587856a8f5df832666a7e99be::d23d793227051f4bd4ad5204692a83624513242f::9b4b33e5ce53684dfa629d99f85785a285fccb9f::2c7b05239fb2b952f7d667bf83edccd2041e8c5f::
https://api.github.com/repos/NixOS/nixpkgs,107634,util-linux-symfollow::staging,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"###### Motivation for this change linux-utils 2.36.1 breaks user mounts on kernels. A patch is already in master and will be included in 2.36.2. See https://github.com/karelzak/util-linux/issues/1193. This backports the patch already to 2.36.1. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion # Remove patch below in 2.36.2, see https://github.com/karelzak/util-linux/issues/1193 (fetchpatch { url = ""https://github.com/karelzak/util-linux/commit/52f730e47869ce630fafb24fd46f755dc7ffc691.patch""; sha256 = ""0lxmric30fqqb08cz225mvwpabas7rqp5w5h3m9z49pk0mybx4ja""; }) ``` You need to add fetchpatch to inputs. ::",c12fdec39d60c59279b78625f8dcfed1e8e1eeff::
https://api.github.com/repos/NixOS/nixpkgs,107570,kde-applications-20.08.3::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::6.topic: qt/kde::,"###### Motivation for this change This is a regular bugfix update in the KDE Applications 20.08 series. I am going ahead with this release instead of skipping ahead to 20.12.0 because this version needs to be backported to NixOS 20.09 and I expect the 20.08.2 -> 20.08.3 bump will not cause many problems. Fixes #107503. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",21fe7e92635007ac9a85e72bf09658fa9f92e33d::ddd014911704e990c6c7ca05b698adb18b21af9e::0ed2d3b23f7eb752af760a7a6aa81f7c54977565::a191bb9fc3e73c0127bc9b0b4b782cf40753884c::c5444fd8377efaf50b047b620fb906b4c6ef581e::a302dc04735ef52f4e0829e7a63fd5d6abf6a3ec::
https://api.github.com/repos/NixOS/nixpkgs,107338,thermald-allow-custom-package::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::8.has: port to stable::,"###### Motivation for this change Sometimes newer versions than what nixpkgs provides is needed for certain hardware, especially for stable releases where I will backport this commit. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4bded92554967c3475702d32abc260e37bc2a2d2::
https://api.github.com/repos/NixOS/nixpkgs,107278,backport-steam-rt::release-20.09,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: steam::,"###### Motivation for this change backport #106393 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",05419d75ccf89d7c5100930c11833de81f75f1f3::b14d11c8505b9e611a50cfaeeede5324ef979b2f::
https://api.github.com/repos/NixOS/nixpkgs,107277,evdi-20.09::release-20.09,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"This is a more conservative backport of https://github.com/NixOS/nixpkgs/pull/107276, only applying the patch to get it to build with 5.9, which matches linuxPackages_latest on 20.09. ###### Motivation for this change Get displaylink to work on 20.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @supercoder3000 for testing.::",3ffb48abc8d1e0d197bd7835248e6a54d5093fef::
https://api.github.com/repos/NixOS/nixpkgs,107274,haskell-updates::haskell-updates,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Should fix the build failure described in #107209 for master/unstable. The bug however is about NixOS 20.09, so my question is: Is it possible to backport haskell-updates fixes to stable? If yes how? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Instead of using `markUnbroken` here, can you remove `gitit` from the list of broken packages in `configuration-hackage2nix.yaml`?  The `hackage-packages.nix` is regenerated everyday automatically, so as long as `gitit` is not in the list of broken packages, it will be regenerated without `broken = true;`. Also, if you could link to an upstream issue about the incorrect version constraints, that would be helpful (so that the Haskell maintainers here in nixpkgs will know when the `doJailbreak` can be removed).  If this is already fixed upstream (and a release just needs to be made), then just leave the expected version number in a comment above this line about when you expect the `doJailbreak` can be removed.::Done!::",aeec13b5a436fcf202652763e69e6977166e5310::
https://api.github.com/repos/NixOS/nixpkgs,107263,patch-rtl8761b::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 101-500::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::8.has: package (new)::,"###### Motivation for this change Proprietary firmware is required to get the Bluetooth controller chip Realtek RTL8761b to work on Linux. Support was added to Linux [in this commit][linux-commit]. However, the Linux kernel versions in nixpkgs including this commit (5.9 and 5.10) seem to have [another Bluetooth bug](https://bugzilla.kernel.org/show_bug.cgi?id=210453) that keeps this from being useful. I backported [the commit][linux-commit] to Linux 5.4, as the surrounding code was not compatible with directly including the commit. The firmware package is based on an [AUR package](https://aur.archlinux.org/packages/rtl8761b-fw/). I tested this on my NixOS x86_64 system using a USB Bluetooth controller with a RTL8761b chip. [linux-commit]: https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=04896832c94aae4842100cafb8d3a73e1bed3a45 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::This line is not needed::Good catch, left over from debugging.::Please do not overwrite the phases.::",6ac71f593d7c7f81831372cdeefa96236ffb7cb1::81f4bca15c760a15bea266e8f9173d418c4455aa::
https://api.github.com/repos/NixOS/nixpkgs,107225,tomb_2.8.1::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Bugfix version bump for backporting. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",47586f24512096c6c339512fe3fa9396cd6bf75c::
https://api.github.com/repos/NixOS/nixpkgs,107064,nixos/zabbixWeb::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change This was missed in the PR that bumped `zabbixWeb` to `5.x`. It is safe to backport to `release-20.09` and will benefit new `zabbixWeb` installs. https://www.zabbix.com/documentation/5.0/manual/installation/upgrade_notes_500 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::It looks like an operator is missing ```suggestion services.zabbixWeb.extraConfig = optionalString ((versionAtLeast config.system.stateVersion ""20.09"") && (versionAtLeast cfg.package.version ""5.0.0"")) '' ```::Thanks for catching that... need to be more careful with my pasting :smile: ::",0a20166ca199e5297a9f72fdd99f71d0c9e0a362::
https://api.github.com/repos/NixOS/nixpkgs,106981,fix-gdb-crash::staging-20.09,0,merged,10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Fixes #106868 This bug have been already been fixup in upstream and the fix version is already available in `master`. This commit backports the fix to `gdb-9.2` which is the supported version in `release-20.09`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @jamii::",4ec0946f20e10c1080e524a49e0870b36deaabf4::
https://api.github.com/repos/NixOS/nixpkgs,106869,discordpy-fix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::,"###### Motivation for this change Noticed this [failing on Hydra](https://hydra.nixos.org/build/132405172/nixlog/1), and fixed it. I've simply removed any versioning constraints, as we're (AFAIK) choosing these arbitrarily anyway. This should be backported as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ed10d1083176b30d7581b4f01912f773285666ca::
https://api.github.com/repos/NixOS/nixpkgs,106866,fix-cliff::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Noticed this was [failing on Hydra](https://hydra.nixos.org/build/132393115/nixlog/1), and decided to fix this. After the issue seen there is fixed, tests still won't work. Some of the hardcoded paths are not even available anymore, others fail not being able to find the `which` binary, in the `cmd2` package. This should be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3d57beffcd52867f35c06d7d607afc701056b177::
https://api.github.com/repos/NixOS/nixpkgs,106865,fix-clize::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Saw this [failing on hydra](https://hydra.nixos.org/build/132405393/nixlog/1) because of an overly restrictive version constraint. This should be backported as well ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3017f4f757571bc9d66a20558da2f9c562ccfecc::
https://api.github.com/repos/NixOS/nixpkgs,106762,thunar-send-email::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: xfce::,"fixes #106755 Tested on 20.09 only I intend to backport this to 20.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",0d2e2d9297d48e18ccfe9166151d2b6236aae279::
https://api.github.com/repos/NixOS/nixpkgs,106699,libzip::staging,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::8.has: upstream changes reviewed::,"libzip's pkgconfig paths are now fixed on git master and the patch backports cleanly. See previous auto-update attempt https://github.com/NixOS/nixpkgs/pull/90610 ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4609c36e73cfc88e674d40ea852a72f124c5a23b::
https://api.github.com/repos/NixOS/nixpkgs,106572,opensource/nixpkgs_fix_terraform_on_darwin::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Terragrunt is currently borken on Darwin because it tries to pull `terraform.full` which includes the `libvirt` plugin that does not support Darwin. ``` $ nix-build -A terragrunt error: Package ‘terraform-provider-libvirt-0.6.2’ in /Users/yl/code/opensource/base/src/github.com/NixOS/nixpkgs/pkgs/applications/networking/cluster/terraform-providers/libvirt/default.nix:47 is not supported on ‘x86_64-darwin’, refusing to evaluate. a) For `nixos-rebuild` you can set { nixpkgs.config.allowUnsupportedSystem = true; } in configuration.nix to override this. b) For `nix-env`, `nix-build`, `nix-shell` or any other Nix command you can add { allowUnsupportedSystem = true; } to ~/.config/nixpkgs/config.nix. (use '--show-trace' to show detailed location information) ``` This pull request backports #103670 to the 20.09 release, which does fix the issue because it no longer pulls `terraform.full`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @sevenfourk @zimbatm ::",a3e6997fb9e9fcc3683078aae5de645a76266ea0::
https://api.github.com/repos/NixOS/nixpkgs,106538,kubernetes-1.19.5::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Normal bugfix release. DNS and RBAC tests run without errors locally. Request for backport to 20.09 please :) cc @saschagrunert @srhb ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",8cbf5337dc95c2a28fc609f19c562b702b744ad4::
https://api.github.com/repos/NixOS/nixpkgs,106508,20-09-k3s-CVE-2020-15257::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Bumped to fix CVE-2020-15257. See the upstream release notes for that: https://github.com/k3s-io/k3s/releases/tag/v1.18.12%2Bk3s2 This isn't a direct backport of 5ca87dc, since master has since moved on on to 1.19.x, but it's related in spirit. I cherry-picked over 6eb941d as well since it applies cleanly, and I believe was necessary for tests on this branch to pass too. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) (`nix-build nixos/tests/k3s.nix` passes). - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",834701180ab3482fdbf8bdd52ac8c8b045a26882::79bc49368e5c115add94936378bf2247d5210009::
https://api.github.com/repos/NixOS/nixpkgs,106420,fix-tldextract::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Noticed this package was broken when upgrading my system, this adds a missing dependency making it build again. Should be backported as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b7cf39083799736b505ccc1a9a4fa0bddde1eb84::
https://api.github.com/repos/NixOS/nixpkgs,106419,http-getter::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"Fixes build on darwin. No functional changes. Diff: https://github.com/tohojo/http-getter/compare/79bcccce721825a745f089d0c347bbaf2e6e12f4...0b20f08133206aaf225946814ceb6b85ab37e136 Can be backported to 20.09. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",fb0f4a282d768139607fa23165e03c7d95d529df::
https://api.github.com/repos/NixOS/nixpkgs,105865,CVE-2020-25659::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"This patch is from Ubuntu 20.04's backport. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",cbe4b091b862a581fff6ce9797c1a8a7ef8b32e3::
https://api.github.com/repos/NixOS/nixpkgs,105597,20.09/libass::staging-20.09,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Fix CVE-2020-26682 on 20.09. Unfortunately the version of libass in stable is 3y old and the patch has multiple failing hunks, so I think its the better choice to backport 0.15.0. https://github.com/libass/libass/releases/tag/0.15.0 ``` Harfbuzz is now being required unconditionally as per https://github.com/libass/libass/releases/tag/0.15.0 Fixes: CVE-2020-26682 (cherry picked from commit 8b8130f26ad043ac9721b3fafab500ce8bb39d06) ``` Closes: #102801 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",88fa6612bd8653394ccdc4c69dd14de925c8e4c5::
https://api.github.com/repos/NixOS/nixpkgs,105486,samba-4.13.2::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Update to latest Samba version: https://www.samba.org/samba/history/samba-4.13.2.html Continuation of https://github.com/NixOS/nixpkgs/pull/99059 which seems to be stale. A patch is backported from samba master to make it build on darwin. The patches can't directly be applied to 4.13.x so fetchpatch is not an option. ###### Things done Using this on my main file server since more than two weeks. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Can you use fetchpatch instead? This does not add the patch to nixpkgs and it can be more easily connected to the upstream one.::No as mentioned in the description the patch needs to be adapted for the 4.13 branch.::",d1d2526fb481d4e6fd5065292193a53d9168b017::8e88dfc1290c16a99446701629c78d740ad8a7e5::a9ddc4fc8879a73e0db2ccffbb7726a2faaa5457::6f64a415e338aa77fb83295f320b060673d1950a::
https://api.github.com/repos/NixOS/nixpkgs,105395,ion::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 0::6.topic: darwin::,"###### Motivation for this change Can be backported to 20.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6906e20605561b39a711ccc6bc63d42108cdc466::
https://api.github.com/repos/NixOS/nixpkgs,105225,backport-teams-20.09::master,0,closed,2.status: merge conflict::6.topic: GNOME::6.topic: TeX::6.topic: cinnamon::6.topic: emacs::6.topic: erlang::6.topic: fetch::6.topic: golang::6.topic: haskell::6.topic: lua::6.topic: nixos::6.topic: pantheon::6.topic: policy discussion::6.topic: python::6.topic: qt/kde::6.topic: ruby::6.topic: rust::6.topic: steam::6.topic: vim::8.has: changelog::8.has: documentation::8.has: module (update)::,"###### Motivation for this change This is a backport of a fix from unstable which I've been using for some days. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ded16fc1b4c673da8265fdc90d4a325aeffc7a41::caadf99cf5ee97fd426c3dbed3ddc5cd439a4591::306596c9cf068cb257bc6057d0086ec297f33429::932c65a078e5695b4ee00bfae05ee4fad14d875c::a62679c2476d0cb2cd7ec5f2b20caea12f53437c::c89ffdc56d3f8147305ad628745f7c0ef2356c20::3daf409aad68fe24c654db1de8db67278e5607aa::9e757784df723f8fdd4e371557009065190bd562::6e8a00d4fd5017550d0832a47a8890b7b2420664::4b81fc83e1ecf5fbfbf400456e2f73bd021620b0::29e9c10750e2b35a0e47db55f36c685ef9219f4e::1532d7b9d334c9b20b15e45bfebe1869309ba064::2c36643a700854216804caeb3e88574ec00d71a6::d135469efafd587563085b2196eaa675350b15d4::51bd4380d5ad1345779ce09a5a6947ef3c868408::94bb0c2095aa4b728489c4fd5e177be876a8879b::f109b56594b8840a6ee8c2f6d1aac9681a03b219::da68dbc11c21ad68c2a5982f9b522072776a4b14::b1d6c9d30f3497b694a98953c80bda395068a847::6d7b89f916869c49bc311cdac137f1533e9f822d::245cdfcb71c00b68baca35649c98d7e811a69020::8bdd825b99a2b2fcaabee9cc74d897b7b2277ecd::7f5d9eca0b8afbbb7e179951501bda39e9f0ce1a::9330680b74873d5f09f10c614457f4827bc5cd96::1c6f8508200a9c78e8ec86530257926e45048fdc::afaf860666c9e428a8503d32c4a3cf107e016615::73c2044a945c1b74939e1980bc79ef41099c78cd::6d90a7f5cdf6b95916e66293fdc5a70503c060d8::808f24928b8e4650cad4b0cc1ae777cadb1c1a6e::9ec5ef555c978b4ec30804161e2f34d3ecbf55c9::4f02b1ab1b75d870168c6f355c5c874f0f03561b::dee059a32d93effff5a1c0f2a90efcb3527e540f::a4fdefeb39b65e2b9de23b0d6f0ac06983da1599::9d5ef2a55f304615d5c3a2132eab47d4328796b4::cf1dcfe343e400f3ec0bea8acef41f3b6b3ffc2a::879bc29f7605c2e49798a1b26e2a0dacaa93671f::9be6b03fe1524db55a5277f87751cded5313b64b::3bbf8a8a61e6b59381f57f97b5372ff6110ca126::fd32700ee20e31821ae3ed7000e98b22f0e40f66::d8a464367c281d702083e1f4fc9792deb2eaca88::ce65510b7cc075b3ccd5fa705a1798f33417c182::449922941981337bfed5fe8c549a849c73de73bf::cb0187d67d9ac562f6a05e92915ade859415edaa::98e46cec92fb877abaee7ed8f78cee722fd58a7e::67a1b4981dd22261afc761f5c5d176433d7b489b::f41c0fc7d8e49d94220f74495d4d702922df2a67::e734b97e61834b85abe7aa248623b9663cd49943::70261a9bc9e912cd24c8c30deb2c843f1d2e99d1::168436179d7d3aaa184a59800d607dd703fe78a8::2da313c8f70fde315345300297b22f00922b9c06::2d69dccb204f419334149034b47d70e5038bb33d::91da64440c0aa56ca909b6580ecf47023356d955::9247b2a3a4efaa41a077db71a05e8764a9dc78c9::2ef614d0f2c6cb7a49a2c7ba56991b667a23525d::755e2780908ba0c8fcafaf24214a77173ee817f6::281880c92aaf32d5cec6b44b14fcb8e8f6ed0ef1::14cf906f33c39d38741062df2cca0b0575b210ff::c5e04b9724beba7d887bbce480ab373a85c03000::949544fd63336f6874efdd893b27111e12dd0355::b35da1885a0038a802e97d8d3c9a7ce0685807c9::e8471e0045f8d9ffe51bcd0f358a49d6a9d7f452::b9d3bc0a0f17d2c705eadd53e1317f15dfa6d63e::f26975ede3fea6c594501cf8721b4c0aecd52559::2f437c733834597b69b82caf8f5af63e7817cad9::d8ccf1d34900e5743a7c09f1408f32350eaf9782::0bb89e1a2c410bd5fb21aa3085532ff6514b1b13::8f5d93acaf28303430dff86e2c0d14990a2a1806::efadc526259e8879054313955a09e43adbaee242::1e3b3f0a7581d12f99db3ca9a2efe1c52ea0a2e7::5bb5423863300f8f8d7e4410f14f34dcb8a17a27::c693a1c665599e83ecd17c6e18fbb340d6b9ad61::80666202999a39585bd73adb2286c134d07499f1::506f9cbcd1998a1fde8223e675f39c37edd821ce::7b2a5e902e01ec71ea2efcbc73baf12ca8c2a36f::6ace148f214a95a41ae7fe0e0272313d737ab616::2ce2f5a028e2302f29cf0efde499d7f10a1cc284::58f9c4c7d3a42c912362ca68577162e38ea8edfb::77ad15ac6f5967efb956449341a1cc62a4b349c6::ff4e57cb5347ef3849363292727463f3b65f2a2e::12bd607c51078b291f5aa03bb1691422b3a7833e::78c56f8c860abc47127258f3618c2f3918239f87::b3fbabb85b22a9fe4ccc3ecc09d6dfb24815dd8b::8f8fcdd19eed0ed7a120895ef71e32aca6bcad8e::01d7ba2a8bd7ade9364fe4095c49d18eb3508719::810fb7f5744774111698c54255a73f1ca4734290::4a53d49da9ace8de41f2fc646c885e08c14b32c8::5170e5e3a815a231ed3f0a7a7216bdbb56382442::817d2d15106bfa09e34404d0c2de679dc4715627::ae7f176f4f96e5058ab50d738ab69cad73a07c4f::b6f17bfc11a037bafc63b800ee200761ad7fe1d8::a62544575e9f1dae413c013cf5a4cb365fccff13::f93ef5bde484c26c93548cab17d1d4b20dccf96b::0b440e7da3e54bf8b2aca944d053080c11b90d8c::10ffd8f2cf5653cf4208abd84bed93868461a813::19f739c9350accbd3ee65a3fccca73ed0f98de1f::fc0dc84523700c7eeb71b7f29aef7db0943d0dce::be60a5d964592cf17a2e128b99368ee34aa5f0b3::9a8ee5568d5479b0c38b40eabbcc1340047b8abe::a59b42148971392db516aeda1449f471c8400f98::1de80352809db99d54170ff2f9d01fdee3b2289b::4d7ba2423051892d7a0cfa1097ed3cd623648948::0a8b8e4cccb77254abfa359bcf8424e773552a6d::a3f5af27f68830db59697c0c9e3eaf5118c78485::67df165a2d3407782f72b8f9173b1f03d486af12::f36cb6161454c5a8cccef80b790bab2864e1e849::2c130c3d5253119090ffcd8216522c7b2971f745::bfa81f72dee6184b32d765f0ce933733dd9d111d::bbcbc4eddfb8b1a6859053110d5b865ee9552b93::04c06b5e2cdac2507577442526f34a42eed63dd6::58b10d7efdf64867948090d560566548e296ee69::0e9503aeb311c148565e6dd2c3bf5dbf8574d645::25958903e57327074f7a3cb302ac6874852a8296::b17ed5dbb029c6076f4853efca0f41421e32040c::f80410d84b79fe400b0aec1dd4272972eee460f0::0d3940ff5ea281ce781b28ea84c30d945c478d33::eff88eeb497e92e1a624be8318c1ebe708455d10::8f6f9993258f72e3e0af0a9058fa98c405020546::b8eba79603c8e62c4e34944230cc771e9aedb556::405ea12c7975c4f99de0afb2d19b6794ed0dff71::17b2f2dd9b758147ed2dcfbe52df647a972bb9e0::9192f08f8c7defc96e3f9e2c3a74c8e64f7e570a::3968796e8edb7937ad4645c684bf98d3a80e122e::f3d7da62c438a1d03e640be38077fd2d8b96fca8::a371a5df8729f79cd6b4ee4313f8ec1953f9ae95::393e374754b2ce1887c48c8f32b6c709603fdd81::5407c42dd78428e932999172126ffad55c399ffc::584cc9109366a47378dc83514c05758255de78ff::0aba51e732164ddc6737701e80f17fe9acc00853::a6883b42d9aed5f1a8e2b0013fca1fb93dc160d4::6fb5786fb3b9f0c27cd3e57e03a9a2bdf8c02d39::263a69648d6c82bf479fa8f84bb64bc47f81a415::7c17479e75681eb36bf5e4c423fadb3b07fd7c03::f0005a2730b3bf0652323ae01741f654108e3de6::55acfba7eee6ef5e3ea41f920f40bab6ff5e682b::d21fc4d0ee3c7dbd9fc583211ab75a7254516524::eac197c06859107bda68a1ee4c9df2e1c94968bb::37ad3b264137d5f3bbde96a035b89d6b883b2cd5::9ca98ac4a119265f36ab649f9ad27bac2d98c8a0::ef2031c419d694cf18ca135198b496ff6f9568c8::3c0440013ed7567694775d10d37411f415287ee7::0b2d5b9c75474bfa2f0dd20d41157f083a84f1d9::bdab66a95cbf63f5795babead44f2a915ebc54d2::c9ef67dc520346cef8425c7b7637613bb14e7c9f::bd9547c175960d7a64054fb2f21e416cd46fc46a::e2055348481a995eb0ec3059f6a4eed3dc002dbb::7e9db7f8c7e163116b710c7441a94bfe1ad4464d::9f4a4523cc2b64d0a62764f7182792aa076a9ccc::c35916e2719e38541aadab548beca0d4f09fff95::3ab4f30619ce79aa730dd01a13c88bc87f87f0be::fa06e69c92956654413458a3673272251ade5709::9da0758c1cd4724cf09fd48fee11413f88c48c8d::7bf4729c5b940b1e2efd308606f35a27fc436be3::23cc358d630e01a502e4802dfe6ffaefcc5c4027::5b2343479ea227b309c744ecddea9736a43e4eb6::cd1ca5dd83871ae2ca032b3d02ff621f1f7ecdaf::ee74147692971082d4af784cb1f5b7f9a07349fb::fb28dc7d7023638c0d9b3cccd0a48b00f5369d1e::1f86723ec9ea3dbd3159827f883fac255408540f::c3e1e969f755e9cb2bafc7e282f0c15a95adb3e7::1dbacb6715f88646f52a77f06917aa202704e3a6::698572240315ad29cdc5b86162bd48ecfd30b284::c626be816461699eb29b7a9844e3a31449a560bb::4e27628af50c13658f478a47cb1fc635a4beceef::23db21e3138f02f5318ef7539bbf164868199351::15e975d57b3caf74b3db185b525108543231ea41::ffa5619b7f8c5c891897f8532ced08bee1bb1b55::5be5433384edb9e4a4cbe70b9f209e8509badd03::5728fa2765dfe1ef153390719e07cc68ea429021::0f1831ccc2cc2b757c80e6e2080097a4e75d2e2e::f4a0bf2f4f21857a0b76f54fd3b9f6a6e2cb411d::fd6a1f8fb6b85d6a1f6dad200f2d835d294ad3cb::a631b2d169e0e7c30a9eb31d3ca67f45ee8eba1c::81cda3ed881e76c6f13f72a87d293fc5194ac83e::4aed3e52ae67715de04d1fb2b224e26f8f1ec580::c54a9864382bc365496b41a600b3103214356ef3::3fb8a31a39b95548f3187c05e7e9553ec127597e::54cd64a6f9c3a05866d6c7123e5da442a3be4831::1ac9d573cafbfb3c188a3685065216998bbb4f73::3423d0f31ad0a15a8233c7bf5d47681a40dca136::e66a218d5effecd9c1b6ad2f487c608aea4b14cb::8e5e8f36ec28806e552275f6eca48c69fd8a7964::19db3e5ea2777daa874563b5986288151f502e27::dfe60bef366cda93d7a9fe007437cbdd06f9b25a::b38919a3d769220eaae70d9620845f521b128f18::3fea2b9f2f5500e93297ee2fd690efb7002c51f0::bf56841327dae27719dfd67fd6cb6473568de0cf::1ee2a11f8d270e8a09bb71449b7517c29a9044d9::6afd744116c4530bc81b4450af49ed2b7b3794dc::c2e0328248e7dcbd1a05e712b63d07443e2b486d::ca014f95fa8c76fa1cd6755705552a3dadb532de::bbd779f868eb360e1c4ae3fc8db612ffe4aaaafe::beaa027ed84ba43dc9ad32fda1a653cd975c6d3c::2c4de56ebc95e52f32f289a37b7fc1b92c758e8f::407e0581c61f74a70723fdd1027a4a8c1746358e::7f93dca416fe4d6c6adc661f3e957f05592423c2::1f19f984e0cdc7ac82d634268a42c20debe63ead::1875cf4dc8cc3cfcc7c9713dd8523e1de0e83030::899024b79ef5c4efe796d9228a6fccd87e18a9bc::c65d36df6f022445154004c41cfe5d094dfa3d73::efaf45501cc28f17f25226ab003eb21fe9b357af::97f498b49d4a32a15ac88f05d26a6887955fdb05::13f19ce5d43edd43dd8efc8166105003e74ad520::d8363e7215b416ae4f453973a3672842159f7bf9::9c85416cc1f03f58eac2a6224cf60daee39e1651::6f92e3b3276c7889cf25cab653ea5bed5bd65c53::412cb043353a308d9150c4c49296071390aacfe7::3de1ebab96dc4a4ebaa994db65d028605261407a::c313d8eb136238fcf296cec38fc90bd65078f6a8::57788c9389847c4e1dc0fc758e4c37e1098bee90::d08ae711cf10f3bbb8e9063c1d3c81d5066a3853::b1a16fa7ece59730f3b12dfc35b30043a087f19b::2c88ecfae2256c3f1e1ac229d44a0162761e5a2d::13c128fb1c70b0b572750306a79a4ad84a7fb204::be88ad48c0a29c06ff5a97c3ffc04d70be18b670::3ace1b0d543edac11b848118314e447791bd2865::fd2044d846b590328b8995fd490258bfea3bf468::8c5df6d0226d85d67ba2e769bfb1efe4e754b389::1e519ede6ebcdd702040d617b66ad997f01b5b85::eadcfed2003b127233cc577c0998f06a5cd38d81::0912cf9278b11102fabc20eace2ab26b7d1613c3::58219d2445ded068f052d84abef753d4f6db41c1::d31c86b12431257c1fa4fbc6e997bd557240b4c8::5bd372246c696daf7cd162dfbdb471b781a542b5::4522abaac8adb96341d504bd35e77822d1c481f3::4fa9bfa82b1ef3af748c2079c1908779e8b3294f::c945e4587d31a8915ef71ffd778ba65766262876::9fa122360967bccf0633759ed59e37c1ec734a73::689d06bc1c81c204e004bc7ae56e3e6d347182a7::8f86824dae7bb3afaab11aea2924c1c81f0ec343::7a7bae5f7f8525b13da30f7fe50a5f51255c2775::af87b1b4830efaf8f2f33e8e1589d40657c16ed4::f900be57309f0063dcae6f926f2e69871547efbc::6a46d98453ff357d8580e2885d1974d79e58c9cc::a3f42101e372fd748707ea059e465d64c50339e1::280e05f55504f6601a9deafad7e1dce4553c6cd7::c5cb771639565f978a0e259808347347fca9f49a::debc958c3001275990e40318f3ae3e963ac33513::6fcd647f0f0a58eff03490148537e2027ae7166c::6abfce396cbe2ca50aaf6840d60d95e2af1ac715::939603027de367119ad47adb3b5cda75d300c871::ffb3aab257e8851b558cdc6079241a7eb0c7239e::c92939889627636e62f7c8c01d29b2a2e462f56f::7401ac641a17ad29da495108b609c4b225444a73::01eb6833fd23454b3418de8d219252e84cf1b300::2f3c478d97bfc1f04edf2e6fae0113f2fe73b1cd::7f144df7e4b7952d5ce826e9cbecd9aefab47273::a445a00efb35bfa61173602adab0904a25fd03c9::4807d589a9a64b74944fb6b601bbedd3e83af3a8::e111e9d4c0570486f990f8000d91694075b7cea1::e09ae4c3c2e5ee0f505d0c8778cd751722c57435::
https://api.github.com/repos/NixOS/nixpkgs,105034,backport-fix-postfixMySQL::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"(cherry picked from commit 0e87647421a5f98ab08cd924b039faed7f932953) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change backport #105006 to fix the 20.09 postfix package ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",01eb6833fd23454b3418de8d219252e84cf1b300::
https://api.github.com/repos/NixOS/nixpkgs,104820,20.09/webkitgtk::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::12.branch: release-20.09::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change https://webkitgtk.org/security/WSA-2020-0008.html It's unclear what patches have to be backported and even Debian backported 2.30.3 to buster-security. I think we should do the same. I successfully tested this against epiphany. I'm not sure if all of this should be backported, but it seemed like the least error-prone approach to doing this. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5bd372246c696daf7cd162dfbdb471b781a542b5::4522abaac8adb96341d504bd35e77822d1c481f3::4fa9bfa82b1ef3af748c2079c1908779e8b3294f::c945e4587d31a8915ef71ffd778ba65766262876::9fa122360967bccf0633759ed59e37c1ec734a73::689d06bc1c81c204e004bc7ae56e3e6d347182a7::
https://api.github.com/repos/NixOS/nixpkgs,104814,opensc-0.21.0::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"###### Motivation for this change Closes https://github.com/NixOS/nixpkgs/issues/101166 due to [OpenSC Release Notes](https://github.com/OpenSC/OpenSC/releases/tag/0.21.0). Needs backports for `20.09` and `20.03`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",19036e0ca0605d855066a10b650815b45cd76155::
https://api.github.com/repos/NixOS/nixpkgs,104762,fix-104666-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change backport #104677 to fix #104666 (cherry picked from commit a21a64116901cb90fb762b2f193c5ba5affae43a) ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e3896324d058892c006aaa8d1d65f5c98001088e::
https://api.github.com/repos/NixOS/nixpkgs,104677,fix-104666::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change close #104666 to be backported to 20.09, too ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a21a64116901cb90fb762b2f193c5ba5affae43a::
https://api.github.com/repos/NixOS/nixpkgs,104647,pykdl-fix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Backport https://github.com/orocos/orocos_kinematics_dynamics/pull/270 to fix the build with the latest version of SIP. Only needed to build the Python bindings, not orocos-kdl. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @jonringer ::```suggestion # Fix build with SIP 4.19.23+. Can be removed with version 1.4.1. ``` Not strictly required but I always think it is nice to have.::There's no indication that they plan to backport this to the 1.4 branch. I guess we can assume it will be part of 1.5.::",053c8d85f0a8c3ffe7db82ca6d0ebdf8784d8c0b::
https://api.github.com/repos/NixOS/nixpkgs,104589,release_notes_wpa_supplicant_breaking_change::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::,###### Motivation for this change Warning about the changes as discussed in #102457 If this is merged it obviously should be backported to be visible in the 20.09 release notes. ::,3049064aa58137a0385ec1a6f392e5a57587f463::
https://api.github.com/repos/NixOS/nixpkgs,104504,pipewire-chromium-fix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"See https://gitlab.freedesktop.org/pipewire/pipewire/-/issues/270. E.g. Fedora and Arch have already backported that patch. This avoids errors like: Chromium: [E][module-protocol-native.c:562 on_remote_data()] protocol-native 0x33df5483c780: got connection error pipewire[1168]: [E][000002106.051912][module-protocol-native.c:305 connection_data()] protocol-native 0x1b96900: client 0x1d084f0 error -22 (Invalid argument) I've successfully tested screen sharing with Chromium 87.0.4280.66. cc https://github.com/NixOS/nixpkgs/issues/91218 <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change cc @jtojnar ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",0dcde75330561ce765b260f1b830448ee0033f71::
https://api.github.com/repos/NixOS/nixpkgs,104404,asciidoctor-revealjs::staging,0,merged,10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 2501-5000::10.rebuild-linux: 501+::8.has: documentation::,"This allows creating HTML presentations with `asciidoctor-revealjs presentation.adoc`. NOTE: The generated HTML file implicitly depend on reveal.js (and I see no good way to bundle it with Nix). Either provide reveal.js in a local path next to the generated HTML file[1], or override the revealjsdir attribute, for example by pointing to an URL (can also be a path): asciidoctor-revealjs -a revealjsdir=https://cdn.jsdelivr.net/npm/reveal.js@3.9.2 [..] Implementation details: 1. Added ""gem 'asciidoctor-revealjs' to the Gemfile. 2. Ran ""nix-shell -p bundler --run 'bundle lock --update'"" from pkgs/tools/typesetting/asciidoctor/. 3. Hand edited Gemfile.lock to remove all but the asciidoctor-revealjs changes. (Rationale: allow backporting to release-20.09.) 4. Finish off with ""nix-shell -p bundix --run 'bundix'"". [1] Of course Nix can help with _that_, but that's external to the asciidoctor-revealjs program. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after). Result: 323.0M -> 329.6M. - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d9c2e1d4413ced83d03bcd0e6d76a43c8eaeb7a8::
https://api.github.com/repos/NixOS/nixpkgs,104302,ec2-metadata-imdsv2-backport::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::8.has: port to stable::,"###### Motivation for this change AWS's metadata service has two versions. Version 1 allowed plain HTTP requests to get metadata. However, this was frequently abused when a user could trick an AWS-hosted server in to proxying requests to the metadata service. Since the metadata service is frequently used to generate AWS access keys, this is pretty gnarly. Version two is identical except it requires the caller to request a token and provide it on each request. Today, starting a NixOS AMI in EC2 where the metadata service is configured to only allow v2 requests fails: the user's SSH key is to placed, and configuration provided by the user-data is not applied. The server is useless. This patch addresses that. OpenStack ""borrowed"" this metadata fetcher when it happened to be the same API, but this new version is different enough, imo, to warrant undoing this borrow. ~This PR is not yet tested in an actual deployment, and I'll mark it as ready once I have. It should be backported to stable and new AMIs should be built.~ ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",04c06b5e2cdac2507577442526f34a42eed63dd6::58b10d7efdf64867948090d560566548e296ee69::0e9503aeb311c148565e6dd2c3bf5dbf8574d645::25958903e57327074f7a3cb302ac6874852a8296::
https://api.github.com/repos/NixOS/nixpkgs,104284,upd/mariadb::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::12.branch: release-20.09::8.has: upstream changes reviewed::,"https://mariadb.com/kb/en/mariadb-10416-release-notes/ https://mariadb.com/kb/en/mariadb-10417-release-notes/ <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Upstream release. cc @Izorkin I'd suggest backporting and to keep bumping this in 20.09, even after master has been switched to 10.5.x ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",541772ac45d509b1138061ca2fa3d6315dc982a6::
https://api.github.com/repos/NixOS/nixpkgs,104193,ec2-metadata-imdsv2::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::9.needs: port to stable::,"###### Motivation for this change AWS's metadata service has two versions. Version 1 allowed plain HTTP requests to get metadata. However, this was frequently abused when a user could trick an AWS-hosted server in to proxying requests to the metadata service. Since the metadata service is frequently used to generate AWS access keys, this is pretty gnarly. Version two is identical except it requires the caller to request a token and provide it on each request. Today, starting a NixOS AMI in EC2 where the metadata service is configured to only allow v2 requests fails: the user's SSH key is to placed, and configuration provided by the user-data is not applied. The server is useless. This patch addresses that. OpenStack ""borrowed"" this metadata fetcher when it happened to be the same API, but this new version is different enough, imo, to warrant undoing this borrow. ~This PR is not yet tested in an actual deployment, and I'll mark it as ready once I have. It should be backported to stable and new AMIs should be built.~ ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::To avoid that issue why aren't we building AMIs on hydra as part of the release jobset?::Shouldn't we abort here? The token appears to be required for all further queries. Does the API server properly fallback to V1 when the token presented is invalid? Also, just a thought while reading this, where do the logging go? Should it go to /dev/kmesg? What source will be available to the operator of the machine when the bootup fails?::Any reason you aren't sticking with the standard backoff algorithm here? Are you afraid it will take too long?::Yeah. It could easily succeed within a second or so. Blocking early boot for 30s at a time seems intense.::Not sure we should abort. Maybe somebody has made a custom image which doesn't need the metadata service... This is in the post devices phase of bootup, so aborting means aborting the entire boot. Logging goes to the system's console: ``` Welcome to the new instances experience! We’re redesigning the EC2 console to make it easier to use. To switch between the old console and the new console, use the New EC2 Experience toggle above the navigation panel. We’ll release updates continuously based on customer feedback. EC2 Instances i-0634d1a4114bb4140 Get system log Get system log Info Review system log for instance i-0634d1a4114bb4140 as of Wed Nov 18 2020 16:35:47 GMT-0500 (EST) [    0.147639] Cannot get hvm parameter CONSOLE_EVTCHN (18): -22! [    0.666036] Cannot get hvm parameter CONSOLE_EVTCHN (18): -22! [1;32m<<< NixOS Stage 1 >>>[0m loading module xen-blkfront... loading module xen-netfront... loading module fuse... loading module dm_mod... loading module af_packet... running udev... Starting version 246 bringing up network interface eth0... acquiring IP address via DHCP on eth0... udhcpc: started, v1.31.1 udhcpc: sending discover udhcpc: sending select for 172.31.38.31 udhcpc: lease of 172.31.38.31 obtained, lease time 3600 kbd_mode: KDSKBMODE: Inappropriate ioctl for device %Gstarting device mapper and LVM... CHANGED: partition=2 start=4096 old: size=4188160 end=4192256 new: size=6287327 end=6291423 waiting for device /dev/disk/by-label/nixos to appear...  WARNING: Device /dev/xvda2 not initialized in udev database even after waiting 10000000 microseconds. WARNING: Device /dev/xvda2 not initialized in udev database even after waiting 10000000 microseconds. . checking /dev/disk/by-label/nixos... fsck (busybox 1.31.1) [fsck.ext4 (1) -- /mnt-root/] fsck.ext4 -a /dev/disk/by-label/nixos nixos: clean, 88235/131072 files, 370571/523520 blocks resizing /dev/disk/by-label/nixos... nixos: 88235/131072 files (0.1% non-contiguous), 370571/523520 blocks resize2fs 1.45.5 (07-Jan-2020) Resizing the filesystem on /dev/disk/by-label/nixos to 785915 (4k) blocks. The filesystem on /dev/disk/by-label/nixos is now 785915 (4k) blocks long. mounting /dev/disk/by-label/nixos on /... (attempt 1/3) getting an EC2 instance metadata service v2 token... *   Trying 169.254.169.253:80... % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current Dload  Upload   Total   Spent    Left  Speed 0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* Connection timed out after 1001 milliseconds 0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0 * Closing connection 0 curl: (28) Connection timed out after 1001 milliseconds Warning: Problem : timeout. Will retry in 1 seconds. 3 retries left. * Hostname 169.254.169.253 was found in DNS cache ```::Good question. I'm not sure that should be part of this pr, but I added a commit doing so.::I pushed the commit but github is behind: ``` [grahamc@Petunia:~/projects/github.com/NixOS/nixpkgs/nixos]$ git push grahamc ec2-metadata-imdsv2 Enumerating objects: 9, done. Counting objects: 100% (9/9), done. Delta compression using up to 8 threads Compressing objects: 100% (5/5), done. Writing objects: 100% (5/5), 1.12 KiB | 383.00 KiB/s, done. Total 5 (delta 4), reused 0 (delta 0), pack-reused 0 remote: Resolving deltas: 100% (4/4), completed with 4 local objects. To github.com:grahamc/nixpkgs.git b1c1087e937..e8551fdd14f  ec2-metadata-imdsv2 -> ec2-metadata-imdsv2 [grahamc@Petunia:~/projects/github.com/NixOS/nixpkgs/nixos]$ git diff b1c1087e937..e8551fdd14f diff --git a/nixos/release-combined.nix b/nixos/release-combined.nix index d8b9a5f9b4b..1ef357463a1 100644 --- a/nixos/release-combined.nix +++ b/nixos/release-combined.nix @@ -49,6 +49,7 @@ in rec { [ ""nixos.channel"" ] (onFullSupported ""nixos.dummy"") (onAllSupported ""nixos.iso_minimal"") +        (onAllSupported ""nixos.amazonImage"") (onSystems [""x86_64-linux""] ""nixos.iso_plasma5"") (onSystems [""x86_64-linux""] ""nixos.iso_gnome"") (onFullSupported ""nixos.manual"") diff --git a/nixos/release-small.nix b/nixos/release-small.nix index 6da2c59cedd..84bc71752c5 100644 --- a/nixos/release-small.nix +++ b/nixos/release-small.nix @@ -92,6 +92,7 @@ in rec { [ ""nixos.channel"" ""nixos.dummy.x86_64-linux"" ""nixos.iso_minimal.x86_64-linux"" +        ""nixos.amazonImage.x86_64-linux"" ""nixos.manual.x86_64-linux"" ""nixos.tests.boot.biosCdrom.x86_64-linux"" ""nixos.tests.containers-imperative.x86_64-linux"" ```::Is there a chance to *not* have v2 enabled where this will always fail on some AWS account? If that is the case we might want to check what the error values there are. If the metadata service wasn't available just yet would it be worse to delay the boot (and be useless?) or to delay it by 30s and have it potentially recover?::How big is the image?::> Is there a chance to not have v2 enabled where this will always fail on some AWS account? If that is the case we might want to check what the error values there are. No. You can only have V1 & V2 _or_ V2 only: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html#instance-metadata-v2-how-it-works > If the metadata service wasn't available just yet would it be worse to delay the boot (and be useless?) or to delay it by 30s and have it potentially recover? The instance metadata service is never not available, and is provided by the hypervisor. The race here is ""did we setup the network yet?"" In general, I think this almost-never fails past the initial request, and so giving it up to 9 seconds seems generous already.::1.4G. It is already built on every evaluation, this just makes it a blocker. This change grew the initrd by about 18M.::Instead of keeping the existing connect-timeout of 30s (woof) I'd rather extend the retry loop to be like 30 tries or something. But also I feel comfortable that the current configuration is good (or I wouldn't have PR'd it :sweat_smile: )::Amine makes a very compelling point that the `1.0` here is a mistake :P. I'll get a new patch and AMI for him to test.::Update: on the contrary, these paths  still continue to work. Researching with Amine.::I added a preflight check of the IMDS token, as apparently sometimes the instance metadata service takes a second to figure itself out.::At this point we might consider setting `PATH=${curl}/bin:$PATH` or something. This will safe use ~100 bytes or so ;-)::I hope we do not need more of these fallbacks.. It will soon escape the scope of where a shell script appears to be the right thing to me. The commit message indicates it can take minutes for the metadata service to respond properly. Yet we are only waiting for to 30s for a response. Is that a trade-off between slow boot / unusable machines? I wonder if the metadata service might also fail to hand out the ""current"" token during startup. Since we are already retrieving the instance-id should be validate something? ::Ok, we talked on IRC and it is moment not minutes. I guess 30s are fine then?!::""minutes"" was a mistake on my part. I updated it to say ""moments"". I too hope we don't need more, it is already growing to the limits of comfort. I think once we get evidence of a working token, we're good to go, but I'm happy to be shown wrong.::Can you please start using `http://169.254.169.254/2009-04-04` and download the public IPv4 address? This is a version that openstack and ec2 both support (I checked the docs), and supports the `http://169.254.169.254/2009-04-04/public-ipv4` endpoint which i need for some other stuff.::For both ec2 and openstack, I think these calls should not be guarded, and that it is correct to unconditionally replace fetched files. It might even be correct to clear the contents of `metaDir` on boot and re-fetch everything. Example: currently, I can stop an EC2 instance in the management console, change its user data, and reboot. Then the updated user data is not applied. I think it's also possible to change image key pairs, and if I change the machine's subnet to start or stop assigning public IP addresses, then those files could appear or disappear.::This might not be ""reasonable"", but you can construct a PUT with busybox `nc`: ``` echo -ne 'PUT /latest/api/token HTTP/1.1\r\nHost: 169.254.169.254\r\nX-aws-ec2-metadata-token-ttl-seconds: 60\r\n\r\n' | nc 169.254.169.254 80 | tail -n 1 ```::@andir I'm not sure there's a ""current"" token: https://aws.amazon.com/blogs/security/defense-in-depth-open-firewalls-reverse-proxies-ssrf-vulnerabilities-ec2-instance-metadata-service/ under ""what's new in IMDSv2"": > The token is never stored by IMDSv2 and can never be retrieved by subsequent calls, so a session and its token are effectively destroyed when the process using the token terminates. There’s no limit on the number of requests within a single session, and there’s no limit on the number of IMDSv2 sessions. So guess it generates some cryptographic doohickey each time you PUT?::",21339b41bf60847b0b8880b8ca5ceb2867044bf1::83ea88e03fe2775601636c5f578b63276910a538::f2cfecdec357c1c449aef2884c70b6a4d79b30e3::0d87ce610ed934ee0a24ddc73d770f4b9caa5d96::
https://api.github.com/repos/NixOS/nixpkgs,104106,crate2nix-20.09::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::12.branch: release-20.09::8.has: package (new)::,"crate2nix is a tool that ""generates nix build files for rust crates using cargo"". (cherry picked from commit 011ecb8f904daf95f238cc594f016f15a97cd7f3) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change pijul uses nixos-20.09 in its flake, and we would like to use crate2nix from Nixpkgs -- thus, please merge the crate2nix init into the 20.09 branch ❤️ (There have  been ""init"" backports in the past, so I'm hoping there is enough precedent for this to be non-controversial.) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- EDIT: Backport of https://github.com/NixOS/nixpkgs/pull/104027.::",efadc526259e8879054313955a09e43adbaee242::
https://api.github.com/repos/NixOS/nixpkgs,104082,ceph-patch-cve-2020-25660::master,0,closed,1.severity: security::10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"https://bugzilla.redhat.com/show_bug.cgi?id=1890354 Test in progress. Note that ceph itself is broken (#104047) in master for other reasons, but this is still a useful path for a clean backport. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d835ad4f1a7cdcf794d58ccd658a538b848671d0::
https://api.github.com/repos/NixOS/nixpkgs,103982,clojure_fixexecjar::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::awaiting_reviewer::marvin::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change this change fixes #103972 I've also tested the current 20.09 version of clj-new and it fails for a different reason, so this commit should only be an improvement. Whoever merges this, could you please also backport it to 20.09? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). /marvin opt-in /status needs_reviewer cc: @will08rien::",b152cc471050a08b537630e6343d325512535a6c::
https://api.github.com/repos/NixOS/nixpkgs,103962,unbreak-hail-20.09::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: haskell::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change This is a backport of #103579. Original description follows: The upstream version still contains very strict dependency constraints. I've updated the patches to a version that relax these. This unbreaks hail for me. See james-preston/hail#16 for the upstream fix. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). @tfc @peti @cdepillabout ::",2d69dccb204f419334149034b47d70e5038bb33d::9247b2a3a4efaa41a077db71a05e8764a9dc78c9::
https://api.github.com/repos/NixOS/nixpkgs,103849,gstreamer1.18.1::staging,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 1001-2500::10.rebuild-linux: 501+::8.has: clean-up::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change Update gstreamer to 1.18.1, remove SRT backport patch ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Confirming this is in 1.18.1, with this backport: https://gitlab.freedesktop.org/gstreamer/gst-plugins-bad/-/commit/0e4057ad1b4158453f0ef1a4b0abe4ffd0754cfd ![image](https://user-images.githubusercontent.com/399535/99185154-4abd9880-2748-11eb-820b-da24a7e67cc0.png) ::",b2ff179da3d91ca3e7de32562b74b7292ae6c09a::
https://api.github.com/repos/NixOS/nixpkgs,103845,mupdf-1-18-backport::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: python::8.has: package (new)::awaiting_reviewer::marvin::,"this is a squashed backport of https://github.com/NixOS/nixpkgs/pull/100441 and https://github.com/NixOS/nixpkgs/pull/103727 mupdf: fixes CVE-2017-5991 fixes CVE-2020-26519 also drops the patch for shared libs (not needed anymore) (cherry picked from commit 2b04dca238f64f089c16aa279c90ee0e7f0173a4) mupdf: adopt post-release bugfix-patches from upstream (cherry picked from commit 4a6235fcd6a666f99297f7bccf7ccdd352558d39) pymupdf: 1.17.6 -> 1.18.0 (cherry picked from commit 5fd2f39726322f98d08c87903fb5f70c145ed1a2) llpp: 32 -> 33 (cherry picked from commit 28e63e049e13739d68120e3a72ef253113f17b23) mupdf: mark 1.17 as insecure but as still required as dependency (cherry picked from commit 70e16bce7ab58829e710e75435f0112b88c75aeb) zathura: 0.4.5 -> 0.4.7 (cherry picked from commit 3c3f70cdce34aa001154707d7833f0e48fa27a19) zathura-pdf-mupdf: 0.3.5 -> 0.3.6, fix linking (cherry picked from commit 2606a28a3a50e9bc6a175d32bc6c59de7722c65c) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",cfc0b698575df9c74f4448006bee1cb91db31728::261f37dc58024d574bb248eef589b465f7ae4425::bf16a483249327b9f7358efa9dd810846b9d58bd::3d483711c57c0deaf4eb06826b9876afae3ed798::66544a9a211b1dd409f1f4ac96679c2f87d43756::05f336e3c40a7c5a118fce1081e971d92708e877::ecbad7a1a00bd12ff5179cad5505c8cdcbbb92f0::
https://api.github.com/repos/NixOS/nixpkgs,103834,release-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change nvidia-x11 versions 450.31 through 455.28 contain a serious performance regression that make my system nearly unusable. This is fixed in 455.38; the relevant changelog entry is ""Fixed a performance regression in the NVIDIA X driver which affected some X11 RENDER extension use cases"". I'd appreciate seeing this backported to 20.09, given that (absent #99323) it's very difficult to use a custom version of nvidia-x11 without completely forking nixpkgs. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9f60ff63188f10c78fad8847774f78d66605d733::
https://api.github.com/repos/NixOS/nixpkgs,103821,master::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://nixos.org/manual/nixpkgs/unstable/#chap-reviewing-contributions --> ###### Motivation for this change According to the nixpkgs manual in ""20.4. New modules"" services should not open ports in the firewall by default . However the factorio module currently does this, and is preventing me from creating more strict firewall rules. Worse still, the factorio module offers no option to disable this behavior. This pr adds the openFirewall option, set to true by default. Thereby existing setups remain working and this would allows easy backporting of this commit to nixos 20.09. But people who want to setup more complicated firewall rules can do so, without interference from the factorio module using the openFirewall option. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Actually I'd even advocate for defaulting to false here. Imho the only module that should open ports opt-out is openssh. Maybe you could add a second commit defaulting to false, so we can backport only the first commit?::Yeah that makes sense.::",6cc538a294d6804e87510dfa5192e05727f33302::736d5e4be3be02cbb1f5d55e901cece7ebc049fa::
https://api.github.com/repos/NixOS/nixpkgs,103722,release-20.03::release-20.03,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::6.topic: golang::,"(cherry picked from commit 1692a8a584c6fd1f3755eeaff897d0c4916cbcd7) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Backports #103649 Go 1.14.12 and 1.15.5 contain a fix for CVE-2020-28362. Only 1.14.12 is backported as 20.03 does not include go 1.15 Backporting this is a prerequisite for updating vulnerable go packages, such as go-ethereum. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9628dc047c8526dad5191a9793ece5689e880641::0d399f0607280c6f0188d0335c7ea5ff5d4fc2f5::a6b12b6a1c8175445518c0107b0c3e0ca0b45bb7::229b4fb9744d5d56a69074374517f7bf6bc83676::
https://api.github.com/repos/NixOS/nixpkgs,103697,go-ethereum-1.9.24::master,0,closed,,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change New release: https://github.com/ethereum/go-ethereum/releases/tag/v1.9.24 This is security critical, although we seem to be building with go 1.15.5 on `master`, so the update is not strictly needed here. This should be backported, but I'm not sure how to go about it. Afaict go 1.15 is currently only available on `master`? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d721f4682687b34f8cde410fac5a7dd180a969bd::
https://api.github.com/repos/NixOS/nixpkgs,103653,ethereum/1.9.24::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change New upstream version Contains consensus fix, I will backport once this is in master ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e86b050938a1fb83faa1638f4e1b0dbd2d96dff4::
https://api.github.com/repos/NixOS/nixpkgs,103637,intelMicrocode::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Update to Pentium Silver N/J5xxx, Celeron N/J4xxx https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00381.html https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00389.html Fixes: CVE-2020-8694, CVE-2020-8695, CVE-2020-8696, CVE-2020-8698 I'll backport this together with #103450 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",eaf889aea041d1dbaf1e7da8180b1401f7457a28::
https://api.github.com/repos/NixOS/nixpkgs,103604,kubernetes-1.19.4::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"###### Motivation for this change Kubernetes 1.19 bugfix release. Changelog: https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.19.md#changelog-since-v1193 One fix we've been waiting for in particular is: https://github.com/kubernetes/kubernetes/pull/95260 (high cpu usage for kubectl drain). RBAC and DNS tests run without errors locally. cc @saschagrunert @srhb @adamtulinius Please backport to 20.09. :) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",39eadbb3c4e1ca48709d0c3d5edfd156450375b7::
https://api.github.com/repos/NixOS/nixpkgs,103600,wireguard-linux-compat-20201112::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::8.has: port to stable::,"###### Motivation for this change ###### Things done What is the backport policy on Wireguard? - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6b9f23267e4187828e1fbd2a767f87c4e879d5bc::
https://api.github.com/repos/NixOS/nixpkgs,103506,improve-cmake-docs::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::,"###### Motivation for this change closes: #102104 Changes: - list attrs which affects cmake builds - add anchor E.g. manual#cmake (although there's probably a better way) - add some examples modeled it after the meson section since stable manual is the default one on the website, this should also be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::This should be a list. currently lists end up intercalated with spaces when passed to bash so it is only a matter of style but it will be mandatory with `strictDeps`.::You can add `xml:id` attribute directly to `term` element.::“Some additional flags are passed in to give similar behavior to configure-based packages.” This is meaningful, the default flags can break projects with poorly written build scripts (this is so common, I have rage-written https://github.com/jtojnar/cmake-snips). “cmakeFlags controls flags passed only to CMake.” We might want to show that here as well to show it is configurable?::It would be nice to add [`envar`](https://tdg.docbook.org/tdg/5.2/envar.html) and `literal` tags where appropriate.::It might be also nice to add anchors to the individual variables – I did that for most of stdenv in 3f2b7beaf337818ea77014c6d89d84926b4ed463 but somehow missed Meson, which was annoying when I wanted to link it recently.::Though caveat it will be split on spaces, even within flag.::This should not really be used in Nix since the stringification for bash will destroy any boundaries again. It is used in `preConfigure` when one needs to pass a flag containing whitespace.::It actually only disables building tests when `doCheck` is explicitly set to `false`. And we should probably link to the default `doCheck` definition.::this was meant to give more of an intuition as to what the configure step was doing without any additional configuration. Also, aligns closely with upstream expectations https://cmake.org/cmake/help/v3.19/manual/cmake.1.html#generate-a-project-buildsystem I was afraid of adding more context, otherwise I would end up with: ``` if [ -z ""${dontUseCmakeBuildDir-}"" ]; then mkdir -p build cd build cmakeDir=${cmakeDir:-..} fi cmake ${cmakeDir:-.} $cmakeFlags ""${cmakeFlagsArray[@]}"" ``` this could be extended further with all of the flags that we pass by default, but each ""detail"" we add, makes it harder to parse::I would be fine, with chaging the preceding line to something along the lines of ""Excluding flags, the default configure step can be though doing:"" maybe put  the preceding line and code block into it's own `<para>` so that it has more significance when reading::what's the difference between cmakeFlags and cmakeFlagsArray then? This would be the appropriate place to say why something is prefered.::yea, I thought about that after I created the PR::do you know of a way that i can get the ""link"" element without using a section?::What do you mean by using a section? You can make any element linkable by adding `xlink:href=""#targetid` attribute, or if you want to linkify arbitrary text, wrap it with `<link>` element and add the `xlink:href` argument to that. Or if you want to automatically generate the link title, use `<xref linkend=""targetid"" />` – that should work for chapter, sections, tables, terms…::Maybe just use `cmake .. $cmakeFlags` and commenting that `cmakeFlags` are various flags passed by the setup hook.::The reason for existence of `cmakeFlagsArray`, see https://github.com/NixOS/nixpkgs/pull/103506#discussion_r521705260::that's fair::I meant like https://nixos.org/manual/nixpkgs/stable/#chap-overlays where if you hover over the text, it will give you a ""link"" to that location::xlink:href might work though, as that will at least make the text a link. better than the anchor to nowhere at least::Oh, right, we do not have that. Maybe I could try to write a XSL transformation later but not sure if it is worth the effort with impending markdownification. For now, I just use developer tools to get the anchor links. And there are probably browser extensions that can make it easier too,::I think it's still worthwhile mentioning somewhere in the section that `enableParallelBuilding = true` by default for CMake, since there are still regularly PRs with `enableParallelBuilding = true` when the derivation uses CMake.::Outside the scope of this PR, but that's somewhat unexpected... I would have thought that the hook runs something like ``` cmake -S ${cmakeDir:-.} -B build # Or perhaps cmake -B build ${cmakeDir:-.} ``` So that the user can always specify the source directory relative to the top-level directory.::Not sure what the conventions in the manual are, but in canonical DocBook, file names are marked up with the `filename` tag: ```suggestion Set directory which contains the top-level <filename>CMakeLists.txt</filename> file. Defaults to the parent directory <filename>..</filename>, otherwise the current directory <filename>.</filename> if <literal>dontUseCmakeBuildDir</literal> is set to <literal>true</literal>. For example, if a project has the <filename>CMakeLists.txt</filename> files located in a top-level source directory called <filename>cmake/</filename>, then you will want to set the value to <literal>../cmake</literal> so that CMake can reference <filename>CMakeLists.txt</filename> from the build directory. ```::one of the reasons why i included the code snippet above, to show that it does in fact `cd` into the build directory::",5df6fd8fb02f13dcc8291b681bf7b245a729b8e1::ccf5765381f41c1276f417ef821cfb512f7a17fc::
https://api.github.com/repos/NixOS/nixpkgs,103211,isso/unstable-20.09-backport::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Backport of #97717, wasn't backported during ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c5ab663c45963d4b10ce1087d66043f6ddc13244::
https://api.github.com/repos/NixOS/nixpkgs,103196,fix/plasma5-noaliases::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::6.topic: qt/kde::8.has: module (update)::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change It breaks my eval (backports incoming) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",59239feacb096a5e33cbaec5cb7d4e1e85c9cc6e::
https://api.github.com/repos/NixOS/nixpkgs,103162,fix-cve-wordpress::master,0,merged,1.severity: security::10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::9.needs: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Fixes CVE: #102914 Will need backport to 20.03 and 20.09 branches ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",2e184dba2939215a1bdc3b49fff2b6243805b562::
https://api.github.com/repos/NixOS/nixpkgs,103147,nginx-sandbox-protecthome-release-notes::master,0,merged,0.kind: regression::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::,"See https://github.com/NixOS/nixpkgs/pull/85567#pullrequestreview-525820684. With the upgrade to 20.09, trying to set ```nix { services.nginx = { enable = true; virtualHosts.""example.com"".root = ""/home/niklas/web""; # Requires `chmod o+x /home/niklas`. }; } ``` I got permission errors in nginx logs: ``` [error] ...: *2 ""/home/niklas/web/index.html"" is forbidden (13: Permission denied), ... ``` and in strace: ``` stat(""/home/niklas/web/index.html"", 0x7ffc40253550) = -1 EACCES (Permission denied) ``` despite my file system permissions being set up correctly. `sudo -u nginx stat /home/niklas/web/index.html` completed successfully. Eventually I found that this is because of the new `ProtectHome = mkDefault true;` systemd sandboxing option introduced in https://github.com/NixOS/nixpkgs/blob/29cb4d04d0dd6d8fb5d0c896fd325bf06729092e/nixos/modules/services/web-servers/nginx/default.nix#L725 (PR #85567). --- This changelog update makes the user aware of this. It needs to be backported to 20.09.::",2f845dccbf525cbf79ac64629e9eb932f56dc86f::2e7b320931a1bf2a8b7f1dd2f2ee4343a8dc0847::
https://api.github.com/repos/NixOS/nixpkgs,103132,upd-rdma-core::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 101-500::11.by: package-maintainer::,"###### Motivation for this change Bugfix release, needs backport to 20.09 Changelog: https://github.com/linux-rdma/rdma-core/releases/tag/v31.1 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",545456ddcae2ed5bdc91ebc5c7fd0b04b1796475::
https://api.github.com/repos/NixOS/nixpkgs,102989,update_libvorbis_1.3.6_to_1.3.7::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 2501-5000::10.rebuild-linux: 501+::,"New release contains various security fixes. Among others for: * CVE-2017-14160 * CVE-2018-10392 * CVE-2018-10393 (cherry picked from commit 160f9124310268ef8151d2cb2dca1b1b601488ad) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Addresses: #99805 - CVE-2018-10392 CVE-2018-10393 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::what about pname and version?::Its a backport so better to minimize the changes.::",3abda935ced6631ae319b23fdbf9832877b43c4a::
https://api.github.com/repos/NixOS/nixpkgs,102973,matrix-appservice-discord-v1.0.0::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::8.has: package (new)::8.has: port to stable::,"###### Motivation for this change This updates the matrix-appservice-discord package to the latest available version. Upstream now uses Yarn instead of NPM, so we now use yarn2nix instead of node2nix. Due to Discord API changes, the previous version will cease to work after 2020-11-07. Migration to this newer version being mandatory, this should be backported to the release-20.09 branch as well. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Platforms are missing.::Added and amended.::",9474df2285f83e720ad2fd3e979d4458b6f1922c::ea842627ceb34b7d46a1186115c7bc23ef3d6cf9::
https://api.github.com/repos/NixOS/nixpkgs,102881,update/openapi-generator-unstable::release-20.03,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change This is a backport of https://github.com/NixOS/nixpkgs/pull/102880 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",717fe28a562cb6737e4642cbd2a3cbc955b63abb::
https://api.github.com/repos/NixOS/nixpkgs,102826,pr-shotcut-20.10.31-bpo::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change backport #98964 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a1d26ea7c9619e2fca0d705a5cfca1657d71e088::
https://api.github.com/repos/NixOS/nixpkgs,102758,chromium-backport::release-20.09,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change I'm trying to keep the differences between 20.09 and nixos-unstable minimal. I didn't backport these patches right away as the last two Chromium updates needed to be merged more quickly for security reasons. A few (two?) Chromium patches are still missing for now. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4735c9a4c26c4ce13d6bfddcf1ee1ac8d0535fe3::49ebef384b702e44de46768a55d5c514ccfc1c2e::b348fcc0ed017201442dc7429313903fa36b8e2d::b2b839a607ab3658ca60e79030ed0d68771fa471::bd499391c3219d6c9f5aa55b15cf8a0a678029b2::616c488ccff51a6f44e1bd7f871a346891304f99::aeba7458eb0dc4cd135baa1211be18593d232bf5::a8287a01361ed1e7188a05194dd1bfd4b9ad67aa::9e47bd3de57be388d2d5a9aeedec028e1e55eebd::ae3bbb9b001c01a3e91a798cd0ee5028f3bb9ba3::56374102a98abb66706af62093d3b6bf40a82b75::3af6255b10f94901c7024341a501c6e59f0bf681::ded16fc1b4c673da8265fdc90d4a325aeffc7a41::
https://api.github.com/repos/NixOS/nixpkgs,102659,postgresql-fix-timetz-test-failure::staging-next,0,merged,,"A recent addition to the test suite turned out to be sensitive to DST. The main code is ok. Patch only required to make test succeed. See https://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=4a071afbd056282746a5bc9362e87f579a56402d <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Unbreak unstable on next rebuild, Unblock staging-20.09; will backport Closes #102654 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @marsam @ocharles ::",88f84e5b3a5192dcfe17fc1634b893b660cd4622::
https://api.github.com/repos/NixOS/nixpkgs,102409,backport-pubsub::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change backport #102403 tests fail due to file handle issues, then just loops in an invalid state until timing out on hydra https://hydra.nixos.org/build/129081889 (cherry picked from commit 9d5b01eb5700c45f72c93b56e7d76a1ed2507f46) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5a64e44292389798810e8ef70ab40dea391f858b::
https://api.github.com/repos/NixOS/nixpkgs,102333,electron-20.09::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change The latest Electron version updates contained security fixes. Lets' backport https://github.com/NixOS/nixpkgs/pull/99421 into stable ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d4458452fafe3bd8a5afcec29d8d40672aaaca43::49cfb3b33859fe90c03012cdc2d26d1f70a0d398::d9f7425413e43c77d9a2db3dc4f90af89583d360::
https://api.github.com/repos/NixOS/nixpkgs,102213,support-journal-gatewayd::master,0,closed,10.rebuild-darwin: 101-500::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::2.status: merge conflict::6.topic: haskell::6.topic: nixos::6.topic: python::6.topic: qt/kde::6.topic: stdenv::6.topic: vim::8.has: changelog::8.has: documentation::8.has: module (update)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Since ae896e0, Systemd is no longer compiled with the http gateway because of an incompatibility between Systemd and libmicrohttpd. However, because of some updates, it is now building fine! I also enable this feature is the systemd test to ensure the option `services.journald.enableHttpGateway` is working as excepted. Note i also want to backport this patch to 20.09. cc @flokli ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",15acc343a2443c0c53428489135e47505a7cd4de::71dd0e23540be72d27419b9e21f2a0a1f36d45a4::
https://api.github.com/repos/NixOS/nixpkgs,102208,backport-linux-flavor::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change backport https://github.com/NixOS/nixpkgs/pull/102005 related https://github.com/NixOS/nixpkgs/issues/101863 (cherry picked from commit e6db435973160591fe7348876a5567c729495175) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",12ac3adb809743fdcde1b55b125cdfd6f7ed443b::
https://api.github.com/repos/NixOS/nixpkgs,102127,plover-qthook::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change **This should likely be backported to 20.09.** Issue report: https://github.com/NixOS/nixpkgs/issues/65399#issuecomment-719066888 and #98069 (cc @xe, @dnaq) Similar issues in #98067. Plover seems to work fine with Qt > 5.14 so this is an easy way to fix the problem (as opposed to keeping the pinning and making it work with PyQt). Closes #98069. @FRidh I'm not sure I completely understood the libsForQt + Python problem, could you double check that this is not a stupid way of fixing the problem? Thanks. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",40c943167a7d84a30997d8da313017e5c00330e9::
https://api.github.com/repos/NixOS/nixpkgs,102108,backport-p4::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change closes #101955 backport #101470 The download URL hasn't changed, but the sha256 and user facing download version has. See [perforce downloads][p4-download]. [p4-download]: https://www.perforce.com/downloads/helix-command-line-client-p4 (cherry picked from commit b197c7fb487b12bb8ff6c1e014b5f10ba9ed6edf) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",dc70a61e2d13acc49f841987c7acd2397dbabf04::
https://api.github.com/repos/NixOS/nixpkgs,102005,add-kernel-flavor-information::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: port to stable::,"###### Motivation for this change part of #101863 This is what I had in mind @NeQuissimus I chose usbip because of https://hydra.nixos.org/eval/1622654?filter=linuxPackages&compare=1622624&full=#tabs-still-fail . Just being used as an example. Ideally i would backport the metadata commit to 20.09 and disable the remaining failing kernel modules ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4b457c8c60802ed195e1ab5b43ae16192a9b04bb::3f014d643cdb9bf7de1c185cab5ae950d81125ea::
https://api.github.com/repos/NixOS/nixpkgs,101949,aasg/libretro-mame2016::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Builds currently fail with `ar` trying to operate on what are clearly two paths concatenated together.  It stems from [a backward-incompatible change in Make](https://lwn.net/Articles/810071/): > Previously appending using '+=' to an empty variable would result in a value starting with a space.  Now the initial space is only added if the variable already contains some value.  Similarly, appending an empty string does not add a trailing space. This issue was first reported on https://github.com/mamedev/mame/issues/6248, and affects libretro's 2016 snapshot as well.  A fix that is reported to work with previous versions of Make was upstreamed to [GENie, the build system](https://github.com/bkaradzic/GENie/pull/493), [MAME](https://github.com/mamedev/mame/pull/6262), and now to [libretro-mame2016](https://github.com/libretro/mame2016-libretro/pull/47) (pending), from which the patch comes. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- If this gets backported to 20.09, `libretro` can then be unmarked as broken, as far as I can tell. ::Can you revert this please?::Done, but at some point we'll have to reflow it.::I agree with you but not probably not one per line. :)::",8880179b653648abce4208654695d9276e9fd036::
https://api.github.com/repos/NixOS/nixpkgs,101923,nextcloud-updates::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Getting Nextcloud to stop informing me about updates. Please backport this to 20.09 as Nextcloud doesn't support downgrades. 20.0.1 makes dashboard load faster and fixes a deadlock: https://nextcloud.com/blog/20-0-1-is-here-with-about-60-changes-get-your-update/ ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",055a9adabfe9ae165f109bb51e0784e0f2b911e3::7a36e413755a857a48d8ecb8075c78d05e61a0b8::
https://api.github.com/repos/NixOS/nixpkgs,101890,backport-grafana-notes::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::,"###### Motivation for this change backport #101887 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b733ab74327ae4f946d4b48c0afe8432a967a690::
https://api.github.com/repos/NixOS/nixpkgs,101880,rel-notes-backport::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::2.status: merge conflict::6.topic: GNOME::6.topic: TeX::6.topic: cinnamon::6.topic: emacs::6.topic: erlang::6.topic: fetch::6.topic: golang::6.topic: haskell::6.topic: lua::6.topic: nixos::6.topic: pantheon::6.topic: policy discussion::6.topic: python::6.topic: qt/kde::6.topic: ruby::6.topic: rust::6.topic: vim::8.has: changelog::8.has: documentation::8.has: module (update)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/101871 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3295c978743a511530fddbb79122411230db7a62::
https://api.github.com/repos/NixOS/nixpkgs,101717,backport-release-notes::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::,"###### Motivation for this change backport #101444 `cherry-pick -x` wasn't used because there were significant merge conflicts, so i just did a `cp` of the one  from master. If changes were following backport conventions, then all changes should be captured. Working with docbook is painful enough, doing git merge diffs with docbook is pure pain in markup form. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",fa8464717a88a044b1a092918e953f2576e57794::
https://api.github.com/repos/NixOS/nixpkgs,101704,backport-101516::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: GNOME::6.topic: nixos::8.has: module (update)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backports #101516 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6e4e94d969290d3a8dfb279aad544846b58bc447::161ca697f732b9192c9a7e23243135ce107e78a5::aa14e0ad2b523b8664feac893fd4396b1059a073::dca668313aa4fba9ee277a4c5635d1e5b72da9db::b38395cb4a285f0d11f6ab9ce3e01d567b452454::157744e9546f1caa875a9778f5443ce2ed1847a4::
https://api.github.com/repos/NixOS/nixpkgs,101640,tor-browser-bundle-bin-10.0.2::master,0,merged,,"###### Motivation for this change Bump to [latest release](https://blog.torproject.org/new-release-tor-browser-1002). This needs to be backported to `nixos-20.03` and `nixos-20.09`. Both channels have versions that already were depublished by the Tor project btw, so when this gets merged I'll backport this commit ASAP. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Pinging maintainers: @offlinehacker @matejc @doublec @thoughtpolice @joachifm @hax404 @cap::",03d85e8aacaeff6789f995e9691a763205c32173::
https://api.github.com/repos/NixOS/nixpkgs,101574,backport-ferm-test-fix::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change backport of #101258 ZHF: #97479 cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",609c2b61b7616a50cb01c84fb98da65067ad293c::
https://api.github.com/repos/NixOS/nixpkgs,101572,backport-certmgr-test-fix::release-20.09,0,merged,,"###### Motivation for this change backport of #101260 ZHF: #97479 cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f14e31ead9a1ca05bce88e8860382f53722b52b5::
https://api.github.com/repos/NixOS/nixpkgs,101569,megafix::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Please try avoid unnecessary formatting changes. It makes seeing the real changes harder and backports are not as easy.::There's actually hide whitespace changes on github and with git also.::```suggestion , makeWrapper }: ```::Doesn't seem to work here.::`gpl3` is unclear, use `gpl3Plus` or `gpl3Only`. See https://discourse.nixos.org/t/lib-licenses-gpl3-co-are-now-deprecated/8206 for more details.::```suggestion }; ```::```suggestion libxmlxx ffmpeg_3 enca ```::Looks like it is actually `lgpl3Plus`: https://gegl.org/babl/index.html#Copyright::Looks like it is actually `lgpl3Plus`: https://gitlab.gnome.org/GNOME/gegl/-/commit/6609e9b8e1a5f8fd8d06de6109f45a8e43c4f6a3::When overriding `installPhase`, you should also provide `runHook preInstall` and `runHook postInstall`.::It is GPL2Only::Is this some new directive? I was not aware of it until now...::",6bc2bf412c7fd0ffd52b234a544f86bb29b7f61b::af299d2891f8975ab54f33ca90f80b35c55ef338::fefda2dd989bcb93eb492317a129aef6d8008147::0f0a6ee9b7b30c1e178d5201eb8856c2f1689fcb::852d2a3af95508ee9612d1cbe2224b3fb24f315d::507a352361b9ebda2552ced5f7c1a8ea802157d3::d0702162e9c127222bd376451e3bc786a7fe3cb0::
https://api.github.com/repos/NixOS/nixpkgs,101439,backport-pyotp::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: clean-up::,"(cherry picked from commit 7a348085020e35f7f8bbe7f7fad59081f2aad025) ###### Motivation for this change I got the backport for this (#100025) merged before it got merged to master, and because of that it missed a few fixes from review comments (oops). ZHF: #97479 PR to master: #100023 cc @mweinelt ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f041a6d0778e5f424f4c637802abafcacf66f88a::
https://api.github.com/repos/NixOS/nixpkgs,101411,libsForQt512::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Since upgrading to `20.09` I have noticed: - `okteta` crashes on startup - `k4dirstat` looks terrible - `dolphinEmuMaster` [looks terrible](https://github.com/NixOS/nixpkgs/issues/101092) These changes seem to fix the above issues. This needs a backport to `20.09`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",01a0f963f246e0828336b1e432e2c3776e9e76a9::e6ceceeb9162a15f7f7e6ffa429e5fecbabbb33a::33dac1fd14559130df7a21c6d3338759630e1fb5::
https://api.github.com/repos/NixOS/nixpkgs,101398,pitivi-fix-startup-svg-error::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::8.has: port to stable::,"###### Motivation for this change Pitivi crashes at startup, see: * https://github.com/NixOS/nixpkgs/issues/89691#issuecomment-714398705. * #56943 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Needs 20.09 backport. ::",4bf0061d28ea121ff3bef45e00f2f4068f68022e::
https://api.github.com/repos/NixOS/nixpkgs,101282,scrapy-fake-useragent-license::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: python::,"(cherry picked from commit 44465f606ee0e32947509b38940a61ff761c94ec) ###### Motivation for this change backport of PR #101278 Upstream changed to MIT with alecxe/scrapy-fake-useragent@0ea7614 (so with Version 1.4.0, it seems), but looks like it got overlooked in b5d6f771c2636933757d85aeddc4992dc977bdbe, which entered `master` (before branch-off of `release-20.09`) as part of PR #95609. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). - [x] `meta.description` is capitalized - [x] `meta.description` doesn't start with the package name - [x] `meta.description` doesn't have a period at the end - [x] `meta.license` is set and fits the upstream license - [ ] `meta.maintainers` is set ::",f4e4e97cd27eadd5d3853b9699a26dd92ef3209e::
https://api.github.com/repos/NixOS/nixpkgs,101275,scrapy-fake-useragent::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"backport to `release-20.09` of 71e7f74ca669e6ed16833a63201d98f70462219d, which entered `master` as part of PR #99513 ###### Motivation for this change ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix run nixpkgs.nixpkgs- review -c nixpkgs-review wip -b release-20.09` - [x] Tested execution of all binary files (usually in `./result/bin/`) - (there are none) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). - Is `license = licenses.bsd3;` correct? Looks like the license was changed to MIT in alecxe/scrapy-fake-useragent@0ea76148be2b9366bb97853a36942d93d73ef663, which precedes alecxe/scrapy-fake-useragent@59c20d38c58c76618164760d546aa5b989a79b8b (the commit used for 1.4.4 here) ::",8d7d94af63798894f4baaaad7a88d1cee66e696d::
https://api.github.com/repos/NixOS/nixpkgs,101197,mopidy-local-backport::release-20.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::8.has: clean-up::8.has: package (new)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change @mweinelt [mentioned](https://github.com/NixOS/nixpkgs/pull/93400#issuecomment-711363435): > As the `mopidy-local-{sqlite,images}` packages are broken on 20.09 I think this is worth backporting to `release-20.09`. This is a backport of https://github.com/NixOS/nixpkgs/pull/93400. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). I also tested compiling a `buildEnv` with `mopidy-local` and `mopidy-iris` and running the resulting `mopidy` binary.::",cb317147c61f063fc2304e4dcd33d4449c2a45ab::6bfec173cc832b1bdfa1e59be205ee55a88d1c5c::1c0f086c46b052efd9ed7065cbcc2ca70e44c8b8::
https://api.github.com/repos/NixOS/nixpkgs,101195,luxcorerender-fix-compilation::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"Nix overwrites the include path for the OpenCL headers. However, the overwrite does not include the required headers. The compilation fails due to missing header files (<CL/cl.hpp>). Removing the overwrite allows CMake to find the required headers. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Luxcorerender currently can not be build from master and fails on Hydra 20.09. Should be backported after being merged. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ba438f9bb71143823e8efd3e4f5f40e28a5674db::
https://api.github.com/repos/NixOS/nixpkgs,101122,backport-perl-linux::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: clean-up::,"Backport of https://github.com/NixOS/nixpkgs/pull/101012 (cherry picked from commit b7e4ac43e4a486ce03ee5c0afb386ef4dd9ac734) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ZHF 20.09 https://github.com/NixOS/nixpkgs/issues/97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Since this adds a new `meta` attr, maybe the subAttrs for `description` and `license` can be added ([taken from metacpan](https://metacpan.org/pod/release/MLEHMANN/Linux-Inotify2-2.2/Inotify2.pm)?) ```suggestion meta = { description = ""Scalable directory/file change notification for Perl on Linux""; license = with stdenv.lib.licenses; [ artistic1 gpl1Plus ]; platforms = stdenv.lib.platforms.linux; }; ``` Though I suppose this might be better off in a separate PR altogether.::This is a backport of a fix. New metadata should be added in master and doesn't need backport imo.::Yep, I'll go ahead and make that PR to master, thanks :muscle: ::",1fb25d74c9f309afeb6eba3d2f2c522edb7da6cf::
https://api.github.com/repos/NixOS/nixpkgs,101096,faridzakaria/readTree::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change _Add a friendly function to easily return a flattened list of files within a directory._ This is useful if you want to easily iterate or concatStringsSep the list of files all found within a directory. (i.e. when constructing Java's CLASSPATH) ```bash ❯ tree /nix/store/g87va52nkc8jzbmi1aqdcf2f109r4dvn-maven-repository | head /nix/store/g87va52nkc8jzbmi1aqdcf2f109r4dvn-maven-repository ├── antlr │   └── antlr │       └── 2.7.2 │           ├── antlr-2.7.2.jar -> /nix/store/d027c8f2cnmj5yrynpbq2s6wmc9cb559-antlr-2.7.2.jar │           └── antlr-2.7.2.pom -> /nix/store/mv42fc5gizl8h5g5vpywz1nfiynmzgp2-antlr-2.7.2.pom ├── avalon-framework │   └── avalon-framework │       └── 4.1.3 │           ├── avalon-framework-4.1.3.jar -> /nix/store/iv5fp3955w3nq28ff9xfz86wvxbiw6n9-avalon-framework-4.1.3.jar ❯ nix-repl> listFilesRecursive /nix/store/g87va52nkc8jzbmi1aqdcf2f109r4dvn-maven-repository [ /nix/store/g87va52nkc8jzbmi1aqdcf2f109r4dvn-maven-repository/antlr/antlr/2.7.2/antlr-2.7.2.jar /nix/store/g87va52nkc8jzbmi1aqdcf2f109r4dvn-maven-repository/antlr/antlr/2.7.2/antlr-2.7.2.pom /nix/store/g87va52nkc8jzbmi1aqdcf2f109r4dvn-maven-repository/avalon-framework/avalon-framework/4.1.3/avalon-framework-4.1.3.jar /nix/store/g87va52nkc8jzbmi1aqdcf2f109r4dvn-maven-repository/avalon-framework/avalon-framework/4.1.3/avalon-framework-4.1.3.pom /nix/store/g87va52nkc8jzbmi1aqdcf2f109r4dvn-maven-repository/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar .. ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Build failed. Something like this should do. ```suggestion lib.filesystem.readTree(dir + ""/${name}"") ```::```suggestion readTree = dir: lib.flatten (lib.mapAttrsToList (name: type: if type == ""directory"" then lib.filesystem.readTree (dir + ""/${name}"") ``` To make the style consistent::",5f1d1bc57e8071472780e8cb14f6306225a921f1::
https://api.github.com/repos/NixOS/nixpkgs,101087,sslh-release-notes::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::9.needs: port to stable::,"and document in the release notes Please backport <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change I updated to 20.09 and sslh broke. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e9165c43c32c817e2c715538aa342b8f52321eeb::
https://api.github.com/repos/NixOS/nixpkgs,101047,pyhaversion::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"(cherry picked from commit 92bf2d7c03f0d93334b229e612f9f365a7db72b2) ###### Motivation for this change ZHF: #97479 backport of #97578 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip -b release-20.09""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - (there are none) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). - :x: `meta.license` is not set - :thinking: a verb seems to be missing in `meta.description`: > A python module to the newest version number of Home Assistant although that [matches the upstream README](https://github.com/ludeeus/pyhaversion/blob/3.3.0/README.md#pyhaversion-), it should maybe be > A python module to __determine__ the newest version number of Home Assistant or similar?::",b65b2901aff7c45025f45dad51e923bcf803c205::
https://api.github.com/repos/NixOS/nixpkgs,101029,fix-google-cloud-kms::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: python::8.has: clean-up::8.has: package (new)::,"###### Motivation for this change Upgrades `google_auth`, fixes many Google Cloud packages. Will backport to 20.09 for ZHF. https://hydra.nixos.org/build/127647323 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::maybe disable this test? ``` builder for '/nix/store/2nm6nj24sswksj2p5gw7myyddpbywg4l-python3.8-google-cloud-bigquery-2.1.0.drv' failed with exit code 1; last 10 log lines: E       datetime.datetime(4567, 1, 1, 0, 0) E E       + [datetime.datetime(4567, 1, 1, 0, 0), datetime.datetime(9999, 12, 31, 0, 0)] E       - [datetime.datetime(4567, 1, 1, 0, 0, tzinfo=<UTC>), E       -  datetime.datetime(9999, 12, 31, 0, 0, tzinfo=<UTC>)] tests/unit/test_table.py:2294: AssertionError =========================== short test summary info ============================ FAILED tests/unit/test_table.py::TestRowIterator::test_to_dataframe_timestamp_out_of_pyarrow_bounds ========== 1 failed, 1372 passed, 54 skipped, 1 deselected in 14.60s =========== ```::`pytestCheckHook` would make this easy::Strange, all tests pass on my machine. Just checked again with `nix-build -A python38Packages.google_cloud_bigquery`. I can disable the test, though.::Disabled.::",ffd9105263807f35f79a681934cc2528990cc0c3::3b71309fd91e5c7b1b7a120538e4f453fb264da3::06f5755b937279e0dfa1599a80197538e5144419::2a963ed0e091e44fa8e15979e57d129c34817ee9::7c36b54ed9082904f43e5f501da9b13afff4bcf1::a893f59c5ed640e30d5f279b58bb3f0444444bde::3fdb53a15d99fa916f6b5dcd9365ba2e6567da53::900b6899ddceed5b96b41f8072e1043ef0e138a9::5547f7df3c3438fabc7348e01a8e23afd1b13f8c::2a97c0683d24a4b67fd063729038024124abfbb1::af4347a50792800e3910af5569957c9b38f126f1::afaa06f4a103db761293c3e15920517efc7c7245::36473e06413f41197a4bd67cc7be83dcb1fb5a00::f2ea990a41e675e075e2234e5bb7ee01998c57ca::ff9503e52760fbd441dbc7311781dc9176beae68::2048df7bcac1893ef21039779f67e45762a2cd5e::cfdd950dc282acd3b07228c39a0e2589085eeb88::d2813d6497e7586f7fac59647f529c9812d33448::262188f5051962c13cdbbe200b3bfd4b05f54938::1706241469924d5c63992229810d7d3392802dc1::
https://api.github.com/repos/NixOS/nixpkgs,101024,google-cloud-spanner-fix::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Fixes the build and upgrades the package. Will backport to 20.09 for ZHF. https://hydra.nixos.org/build/127652854 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",8830ac0eb12b364cd82729ec150b8fae60d8eb2a::
https://api.github.com/repos/NixOS/nixpkgs,101013,fix-google-cloud-websecurityscanner::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Fixes broken build by adding missing dependencies. Will backport to 20.09 for ZHF. https://hydra.nixos.org/build/127651273 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",7b6f1d3a42863393b1463203ac7769748170b688::
https://api.github.com/repos/NixOS/nixpkgs,101003,backport-datasette::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change tests shouldn't take 60+ mins. backport #100862 (cherry picked from commit 67f67075c0e7d4958144fa01164ff4eb89a3d83f) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",2711b63e573e411cf07d9aaac913a240fabf41d1::
https://api.github.com/repos/NixOS/nixpkgs,100955,ris-theano-tmpdir-redirect-fix-r20.09::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: python::8.has: package (new)::,"###### Motivation for this change ZHF: #97479 This is a modified & combined backport of #99587 and #100867. Because 20.09 is missing #97597 and #93560 (and I think including them at this stage might be a bit risky), importing/using `theano` from within a nix build environment (i.e. with `NIX_ENFORCE_PURITY=1`) will only succeed if the tmpdir used is actually literally `/tmp`, which you can't really do from a sandboxed build. So this uses `libredirect` to convince the compiler wrapper we are actually working with `/tmp`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Begin sentences in comments with a capital letter. Also I think a comma more is needed: ```suggestion # Needs to be postFixup so it runs before pythonImportsCheck even when # doCheck = false (meaning preCheck would be disabled). # This branch is missing #97597 (and its predecessor #93560), meaning only # ""/tmp"" is exempt from NIX_ENFORCE_PURITY's objections when theano is # imported from within a nix build environment. Therefore use libredirect # to convince the wrapper we are actually accessing ""/tmp"". ```::Same here: ```suggestion # This branch is missing #97597 (and its predecessor #93560), meaning only # ""/tmp"" is exempt from NIX_ENFORCE_PURITY's objections when theano is # imported from within a nix build environment. Therefore use libredirect # to convince the wrapper we are actually accessing ""/tmp"". ```::",f7b9e6a15f355747c74018679ea29fc060042cd5::4d27448a9ebcbd22294405c85cc1eeab58b55228::f447235c9718ea70c5d65b8918ec2e6101a3db37::
https://api.github.com/repos/NixOS/nixpkgs,100931,fix-google-cloud-texttospeech::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Fixes broken build by adding missing dependencies. Will backport to 20.09 for ZHF. https://hydra.nixos.org/build/127649861 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",46be89d3fe1d57167812d4328f6a7308312fe606::
https://api.github.com/repos/NixOS/nixpkgs,100929,fix-google-cloud-translate::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Fixes broken build by adding missing dependencies. Will backport to 20.09 for ZHF. https://hydra.nixos.org/build/127630084 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",6ff306ead4b6edcddfa67988f7bc7dd5af4bdd26::
https://api.github.com/repos/NixOS/nixpkgs,100754,backport-fix/fix/pytest-bdd::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"backport https://github.com/NixOS/nixpkgs/pull/100522 ZHF: #97479 cc @NixOS/nixos-release-managers fix https://hydra.nixos.org/build/127939944 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9e1cbdbe81e5fa06a6352048b998dd0c28234829::
https://api.github.com/repos/NixOS/nixpkgs,100751,backport-fix/devpi-server::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"Tests relied on a function that has no order guarantee. A fix was merged to devpi master [1]. We point the package to this commit which should fix the failing tests on hydra. [1] https://github.com/devpi/devpi/pull/821 (cherry picked from commit 3a57ec474497a3c7117427c719b7c936643582b2) backport of https://github.com/NixOS/nixpkgs/pull/100508 ZHF: #97479 @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ae37b6671c15f45747c893c860b263959f273e6f::
https://api.github.com/repos/NixOS/nixpkgs,100552,fix/pam_mount-luks2::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Support for LUKS2 exists in the pam_mount git repo[1] but has not been released yet. Ubuntu has been backporting a slightly different fix for a while now[2]. This changes pam_mount to use git instead of the last release. [1] https://sourceforge.net/p/pam-mount/pam-mount/ci/d4434c05e7 [2] https://bugs.launchpad.net/ubuntu/+source/libpam-mount/+bug/1804408 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion pname = ""pam_mount""; version = ""2.16-g40b6f2f""; ```::```suggestion url    = ""git.code.sf.net/p/pam-mount/pam-mount""; ```::Are there any release tags?::At the time when I did this, there were not. Since then, it looks like upstream released 2.17, which includes this fix. I'll make a new PR to update to that instead.::",69f59900308a3202191a16c50aeec24fe993c954::
https://api.github.com/repos/NixOS/nixpkgs,100509,backport-opencl-build-fix::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"(cherry picked from commit 26d930cb76b475986f7b01cfeddd036d01b7be29) ZHF: #97479 backport of: #98054 <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> I don't know if this is appropriate. I just saw that this was fixed in master but was never back ported ###### Motivation for this change opencl-info is broken in 20.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4fcfdd1566f05f5fdca05a83ae2a7195b38ae1de::
https://api.github.com/repos/NixOS/nixpkgs,100500,backport/titlecase::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of #100483 ZHF: #97479 cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c32feac8368e4650d9be6807c6b4589659b8d57d::
https://api.github.com/repos/NixOS/nixpkgs,100499,backport/pyatv::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of #100489 ZHF: #97479 cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::v prefix is a version control convention to distinguish between branches and releases, it should be left off ```suggestion version = ""0.7.4""; ```::```suggestion rev = ""v${version}""; ```::```suggestion pytestCheckHook ``` this should be in checkInputs::",f0719a0115e6b63f21d50a21e446a2a97b7ad62a::
https://api.github.com/repos/NixOS/nixpkgs,100492,backport-trigger-0.6.6.1::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"(cherry picked from commit f85e2e1eeb442c0b0a8afb8e224f8a6a039b5664) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of: #100449 ZHF: #97479 <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion buildInputs = [ SDL2 freealut SDL2_image openal physfs zlib libGLU libGL glew tinyxml-2 ]; ```::```suggestion pname = ""trigger-rally""; version = ""0.6.6.1""; ```::```suggestion url = ""mirror://sourceforge/trigger-rally/${pname}-${version}.tar.gz""; ```::",1361f3aee68e70d28f15ac25eff2507cddd709e3::c649259dce999ea5ea7a1346b2527683abfd71d7::
https://api.github.com/repos/NixOS/nixpkgs,100455,backport-fix/zope_filerepresentation-test::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Fix test backport of #100454 ZHF: #97479 @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",fa55566fad20314bdefb5e26a93c4ee4cfaf2ead::
https://api.github.com/repos/NixOS/nixpkgs,100365,ris-poetry-1.1.1-r20.09::release-20.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"###### Motivation for this change ZHF: #97479 Combined backport of #99507 and #99684. While this doesn't fix anything in itself, it will allow me to backport #100168 I thought this would be a backport too far, but the rebuild actually succeeded apart from `apache-airflow` and `toggl-cli`, both already broken on this branch. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",16be5d8a1883dc74a8546ef4a9c734b5e21c4d25::184a1c0bb009293f9c46427bbe50006d60081d26::31b3749d1fff85bb93f0cc2f227f3d4ba0942aad::
https://api.github.com/repos/NixOS/nixpkgs,100364,foundationsdb-backport::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"Adapt one of the patches so that foundationdb can be built on current glibc versions. ###### Motivation for this change - backport of #100264 - ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",80e14acc3761882c9884181fd8ad3e7a154cdbef::1be1a64d5f6eea0c683c10a5466d279006b503df::f5a433f98dcf015b6aecf9cadc8b2cf632fffa73::
https://api.github.com/repos/NixOS/nixpkgs,100270,backport-pystemd-0.8.0::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"(cherry picked from commit ea34b5d333c9e42e4cccca8226f068e51ec657c8) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of: #100263 ZHF: #97479 <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1ffb9a53e8420c1ae99cd483c0d66fbf8fca35b9::
https://api.github.com/repos/NixOS/nixpkgs,100251,dnsdist-flags::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change The configure flags have been renamed. See https://dnsdist.org/upgrade_guide.html#x-to-1-4-0. If this is seen as a security regression (though likely it isn't) then a backport may be worthwhile. Someone who is familiar with the software would need to determine if the lack of `libsodium` is a serious concern. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",872cfe067ef65d136fd1550b3c6b6ddeca376fbe::
https://api.github.com/repos/NixOS/nixpkgs,100237,ris-arviz-xarray-r20.09::release-20.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"###### Motivation for this change ZHF: #97479 This is a combined backport of #93412 and #99500. #93412 simply needed to satisfy the bumped `arviz`'s dependencies. Only reverse dependency build failures for me are already failing on `release-20.09`. (The test suite for `datashader` has never completed on my machine) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f534bee0e4f817a6187906ceb097e63d592e67f3::58a97c561217f418caaf902e2ecce7966722a03d::
https://api.github.com/repos/NixOS/nixpkgs,100224,pantheon-stuff-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: pantheon::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Version of https://github.com/NixOS/nixpkgs/pull/100116/commits for 20.09 with backports. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",373ba0a5066899537f0db26d8fa4bf064a1705e1::d8d5afc207e44d8b802848bbf336380435666095::9490ea11278e36a3fc5616449d656410c7e2589a::2728fc6d8f815c203f15a78f63f9bdaa2b898f94::
https://api.github.com/repos/NixOS/nixpkgs,100221,graylog_3.3.7_20.03::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"Bumps Graylog and integration plugins to version 3.3.7. (cherry picked from commit 4115906195e87b0655402c05c1879b2f4f6549c7) ###### Motivation for this change 3.3.7 updates several dependencies with security issues, so we should backport this into 20.09 (#100220) and 20.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b206b2d73744e0b19afcbda847e8cb6c95abe777::
https://api.github.com/repos/NixOS/nixpkgs,100220,graylog_3.3.7_20.09::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"Bumps Graylog and integration plugins to version 3.3.7. (cherry picked from commit 4115906195e87b0655402c05c1879b2f4f6549c7) ###### Motivation for this change 3.3.7 updates several dependencies with security issues, so we should backport this into 20.09 and 20.03 (#100221). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",99fcc1baf6cc7a8222373198ac18cdaf44450893::
https://api.github.com/repos/NixOS/nixpkgs,100199,seeded-config::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: GNOME::6.topic: nixos::6.topic: qt/kde::8.has: module (update)::,"###### Motivation for this change In 20.09 we added a GNOME ISO. It would be really great if, for all graphical iso's, we seed a configuration that **isn't commented** and only used in those respective iso's. I believe @samueldr first suggested this on the thread about adding a GNOME ISO. My current disposition is that we should block on this, I think we will have enough time to get this feature in, and it would make having another ISO feel more meaningful. If not, I'm not sure about backporting. I also cleaned up the `configuration.nix` a bit, @ttuegel mentioned we **should not** call plasma ""KDE"" so I made that change to the generated configuration.nix along with some other things. I will say, off the bat, the only issue with this is the configuration `desktopConfiguration` isn't indented properly. Anyone knowing perl or who can spot the mistake (I'm sleepy :grin: ) please mention. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::tho?::rite tho. will fix::```suggestion # Enable touchpad support (enabled by default in most desktopManager). ```::```suggestion # Seed our configuration into nixos-generate-config system.nixos-generate-config.desktopConfiguration = '' ``` also comment here::```suggestion (my $desktopConfiguration = <<EOF)=~s/^/  /gm; ``` This will add two spaces to in front of each line::Maybe we could use `nixos-option`::Sadly it seems not ``` machine: must succeed: nixos-option boot.loader.grub.enable machine # warning: Nix search path entry '/nix/var/nix/profiles/per-user/root/channels/nixos' does not exist, ignoring machine # warning: Nix search path entry '/nix/var/nix/profiles/per-user/root/channels' does not exist, ignoring machine # terminate called after throwing an instance of 'nix::ThrownError' machine #   what():  file 'nixpkgs/nixos' was not found in the Nix search path (add it using $NIX_PATH or -I), at (string):1:9 machine # [    7.913937] systemd[1]: Created slice system-systemd\x2dcoredump.slice. ```::",12825bc21f153333bab67cd1df794c418fc62907::9f1a43cefa1f6711a4f5aa6bc2f093178420c19c::3b20eb47f1ec6f6b02943a95be964fac80db136a::2d6a694842423d147ea9beb5612359748c76e35c::99d511124620cad08e1bac2c0ca29ea3222d7f5d::
https://api.github.com/repos/NixOS/nixpkgs,100168,ris-perfplot-0.8.4::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"###### Motivation for this change ZHF: #97479 Add new python packages `dufte` and `rich` to satisfy `perfplot` 0.8.4's dependencies. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::generally poetry is just used for packaging ```suggestion nativeBuildInputs = [ poetry ]; ```::https://github.com/nschloe/dufte/blob/b08815ea12c6dbff419ff65aa36860f2af54afaf/setup.cfg#L30 ```suggestion propagatedBuildInputs = [ matplotlib numpy ] ++ lib.optionals (pythonOlder ""3.8"") [ importlib-metadata ]; ```::Did we ever consider making these ""backport"" libraries simply evaluate to null (or something else harmless/empty) on a non-applicable python version?::a lot of them do ``` [10:13:08] jon@nixos ~/projects/nixpkgs/pkgs/development/python-modules (backport-python-dask) $ rg ""then null"" enum34/default.nix 8:if pythonAtLeast ""3.4"" then null else buildPythonPackage rec { ipaddress/default.nix 8:if (pythonAtLeast ""3.3"") then null else buildPythonPackage rec { backports_shutil_get_terminal_size/default.nix 8:if !(pythonOlder ""3.3"") then null else buildPythonPackage { cffi/default.nix 3:if isPyPy then null else buildPythonPackage rec { functools32/default.nix 7:if isPy3k then null else buildPythonPackage rec { backports_lzma/default.nix 10:if !(pythonOlder ""3.3"") then null else buildPythonPackage rec { ``` but it still causes failure for some https://github.com/NixOS/nixpkgs/pull/100017::see https://github.com/rytilahti/python-miio/pull/828 as an example::",b5b8839e0a4ade7e10f783405cd634a9107911ef::5b66067eb9fef083f06856e8145f471ad8d37c4e::50d4da34dbebc57a4b612358acce9a742cb3909d::
https://api.github.com/repos/NixOS/nixpkgs,100167,backport-python-dask::release-20.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::8.has: clean-up::8.has: package (new)::,"###### Motivation for this change backport #99575 includes some build fixes, but also makes some package much faster to review (specifically tensorly) also backported #95824 to fix tensorflow_2 build ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a6ca599a8311aabbfcc01cd19b412eb1fdf3bad6::f53d465fd928a584c8919a74446a53b1f55bbd90::d85073e800afc1c7b89d43ac97c26e2ab5623b96::e63b33d64cb00f211b067af0bdaec24f775c136a::76fb3f5e2c926531aac56638c109df57ee127a39::6b3775573db29f6d9deb2f298e3353208046f7c1::07a4358e64187d775d5c24e07ec0f8edc52d3871::fcdd76ef5df1c359bca2d7f09b8c288593646214::c0af2ab94821afdc81bbf5763974abacbbdc91f6::
https://api.github.com/repos/NixOS/nixpkgs,100166,backport-fqdn::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::,"###### Motivation for this change backport of #100151 Since #76542 this workaround is required to use a FQDN as hostname. See #94011 and #94022 for the related discussion. Due to some potential/unresolved issues (legacy software, backward compatibility, etc.) we're documenting this workaround [0]. [0]: https://github.com/NixOS/nixpkgs/issues/94011#issuecomment-705952300 (cherry picked from commit 4a600af1b139c2b6df1ea22809a3fad584684207) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4cbe1d56c917bc3ade7e0d0434323df74e8861a3::
https://api.github.com/repos/NixOS/nixpkgs,100156,golden-cheetah-3.5::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change `golden-cheetah` broke during aec3c76dcabb3ceeb9975c5b6492fe68f9ceafa7 (bison bump). This applies a fix proposed upstream at https://github.com/GoldenCheetah/GoldenCheetah/pull/3590. Upstream issue: https://github.com/GoldenCheetah/GoldenCheetah/issues/3586 This also bumps to the proper release, not the RC we're currently at. Once merged, should be backported to 20.09 as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a73c1259d13b42bf3410cce5b6d7270d4cbd011f::43dc2712564b5514e31de8d7bdf6f7827f7ca60b::
https://api.github.com/repos/NixOS/nixpkgs,100138,google-cloud-dataproc::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"###### Motivation for this change ZHF: #97479 The package was broken because two of its dependencies were missing. They were not yet packaged, so I added both. * [`libcst`](https://github.com/Instagram/LibCST) * [`proto-plus`](https://github.com/googleapis/proto-plus-python) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). The ZHF issue says > Please ping @NixOS/nixos-release-managers on the PR. But it is unclear to me if that is about this PR, or about the backporting one, so I’ll ping you here.::Could you at least add a `pythonImportsCheck` then so that this package isn't completely untested?::?::I did not know about `pythonImportsCheck`, thanks for pointing this out! Added.::Removed.::",e95aaa134f168c0892ae6cdc2bf050f85d77e645::f63d02d85187f220486f1fb6a58ac79febf8af4c::f922206bba2b9112f53306ab76016dbb639494ed::
https://api.github.com/repos/NixOS/nixpkgs,100116,pantheon-stuff::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: pantheon::,"###### Motivation for this change This is just stuff I noticed that was committed into https://github.com/NixOS/nixpkgs/pull/98316. I want to backport this to 20.09 so let's commit this to master. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",17d7060f5d3cf847a7452149c9627887f58dfb84::a4572eb18ebf4de6d99f217b5837e39693ac8826::a48be6a7f270cdc44f5d1cb036403d468612dae1::b808ad4294be311ad1e7075d5995e06f3b3dce46::
https://api.github.com/repos/NixOS/nixpkgs,100113,dash-to-dock-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: GNOME::8.has: documentation::,"This version supports both 3.36 and 3.38. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change The current version is a little buggy. Will backport after testing. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",8cee2ba640e525815d35d3e6451371bfad3c2674::
https://api.github.com/repos/NixOS/nixpkgs,100009,google-cloud-asset-fix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"###### Motivation for this change Build was missing dependencies. Will backport for 20.09. https://hydra.nixos.org/build/127625743 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::There are no tests included. Please try to checkout from source and check if they have unit tests, and try to run them. Unit tests give a good indication that they package has a high degree of validity and correctness given the python package set. If tests are not available, then please use `pythonImportsCheck` to import the most important modules. This isn't as good as unit tests, but will usually give a good indication of run-time errors. Please see [pythonImportsCheck documentation](https://github.com/NixOS/nixpkgs/blob/master/doc/languages-frameworks/python.section.md#using-pythonimportscheck) for more information.::Please normalize the attribute name. According to the [python contributing guidelines](https://github.com/NixOS/nixpkgs/blob/master/doc/languages-frameworks/python.section.md#contributing-guidelines), package names within nix should follow [PEP 0503](https://www.python.org/dev/peps/pep-0503/#normalized-names)::So to be clear, change `google_cloud_org_policy = callPackage ../development/python-modules/google_cloud_org_policy { };` to `google-cloud-org-policy = callPackage ../development/python-modules/google_cloud_org_policy { };`?::Unless I am missing it the repo has no tests and the next line is already using `pythonImportsCheck`.::the directory name should match (our update-python-libraries script makes this assumption): ``` google-cloud-org-policy = callPackage ../development/python-modules/google-cloud-org-policy { }; ``` the `pname` inside the expression can differ::Fixed.::upstream does have tests https://github.com/googleapis/python-asset::since it's meant to be used with a cloud platform, they might not work. But there should be a comment as to why that's the case.::@jonringer I think maybe you're getting confused since this thread is on an outdated bit of code. The highlighted `doCheck = false` is on a different package than the one you linked to. You linked to `python-asset`, which corresponds to the `google_cloud_asset` package in this PR, and that has been running the tests. I am going to resolve this thread to prevent confusion. Please take another look when you get a chance.::",fe7ab775bf3e480a71498c3a5bc462e82cfa6919::e17001d3dae47f9bb4e7d6dfc2ff38c31f1a9cf4::2949855bc335de27185f03681c0cadb25d2def50::f99d700e2dbe9e4cc86688ce684faa54b96dc5c6::
https://api.github.com/repos/NixOS/nixpkgs,99912,ocspfix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"Closes #99584 Some of the testing setup for OCSP checking was wrong and has been fixed too. This should probably be backported too. Ping @NixOS/acme ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1edd91ca0954a0b7ea0675bc62661c8a994bf60a::
https://api.github.com/repos/NixOS/nixpkgs,99904,electricsheep-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change ZHF: #97479 backport of https://github.com/NixOS/nixpkgs/pull/99131 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",afa708a95190aa0121be421c8570128697fe1981::
https://api.github.com/repos/NixOS/nixpkgs,99891,ris-matplotlib-darwin-fix-r20.09::release-20.09,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 0::6.topic: darwin::6.topic: python::,"###### Motivation for this change ZHF: #97479 This is a backport of 31579c6b0a643742d6ac6157d002de1e730a83cb that makes `matplotlib` actually _work_ again on darwin. This will also get e.g. `scikit-optimize`'s tests passing on darwin too. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a4e6bf389d48440b672dc87acec3d1093800cda8::
https://api.github.com/repos/NixOS/nixpkgs,99889,backport-localzone::release-20.09,0,merged,,"###### Motivation for this change (cherry picked from commit 0093e4e6a9998f1ff59e79ec31f2341770b7bebb) backport #99571 backport #99886 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",09ad3afa199d98346c06ee53e92f4ac97243a57f::2fb6897c421df4b38957feff13255c57bb402e5e::
https://api.github.com/repos/NixOS/nixpkgs,99887,backport-localzone::master,0,closed,,"###### Motivation for this change backport #99886 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d713412d26fb5b9b73563aea1dc12f94051b5952::
https://api.github.com/repos/NixOS/nixpkgs,99694,alerta-server-deps::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::9.needs: port to stable::,"###### Motivation for this change Fix https://hydra.nixos.org/build/127938022/nixlog/ to be backported for 20.09. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",c26cf64b7643cfbc4ab5e9ffce878c06e0f07dc2::
https://api.github.com/repos/NixOS/nixpkgs,99657,fix-nix-shell-and-borg-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Backport https://github.com/NixOS/nixpkgs/pull/99316. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Should I revert the backported `top-level: fix nix-shell eval w/nixUnstable` (https://github.com/NixOS/nixpkgs/commit/c1dbaed781e769cb9d5383b031e5ef82e3acbeae), or is it fine to leave the revert referencing the master commit? ::",9f76b6edd14eefa104cb69d8ee3ab4eb158210a0::c2c7a5cecd19b316afa1531e43acf1958c7862cb::
https://api.github.com/repos/NixOS/nixpkgs,99596,nextcloud20::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::8.has: package (new)::8.has: port to stable::,"###### Motivation for this change Adds [`nextcloud20`](https://github.com/nextcloud/server/releases/tag/v20.0.0) to our package-set. For this change, a few customizations were needed. Please review this commit-by-commit for more details. To allow users to upgrade to the latest major (even on stable NixOS), the addition of the package (and the `nginx` changes) **should be backported** to 20.09 (cc @NixOS/backports ), the changes to the upgrade-path should be left out though[1]. [1] https://nixos.org/manual/nixos/stable/index.html#module-services-nextcloud-maintainer-info ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Does `latest` need to be a parameter here? It doesn't seem to be used with anything other than `20`?::I think if we have `latest` that `major` would be better understandable as `current`.::@mweinelt what do you mean?::AFAIU, only _if_ we keep the `latest` parameter, rename the `major` parameter to `current`. I'm for dropping the `latest` parameter though :)::I have no strong opinion on this anyhow. The rest of the PR looks good from a cursory glance.::@lheckemann fixed :) ::",71098fba81a7aa11fe85abd61f8cd5762f7755d1::5f67a62d595e217cc65e6e9ba7729e9924290737::227ba90b28b696988a6e44cbd01249a63244165d::9cbe30e129c8ddaa2159532c3174a346761a8358::
https://api.github.com/repos/NixOS/nixpkgs,99582,nin-fix-plasma-workspace::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::6.topic: qt/kde::9.needs: port to stable::,"###### Motivation for this change Systemd v246 hides the interface used by KDE to fetch the user session details. We're applying this commit from 5.19.90 upgrading the systementry applet to use the new sessionmanagement API. Because of this API breakage, the ""Switch User"" item was absent from the KDE application laucher. See the https://github.com/NixOS/nixpkgs/issues/98141 issue for the full story. ###### Things done Pick https://invent.kde.org/plasma/plasma-workspace/-/commit/05414ed58d43d87d907326636faac53ae2e7bd60 from upstream. The missing items are appearing again and are fully functional. ![Screenshot showing the ""switch user"" item re-appearing in the launch menu](https://user-images.githubusercontent.com/1219785/95022536-3af66300-0678-11eb-8b0f-f96960c53a75.png) ###### How to Test? I used this trick https://github.com/NixOS/nixpkgs/issues/98141#issuecomment-695153649. Don't forget to point to your local nixpkgs checkout: ```bash mid=$(nixops create nixops-kde-test.nix) nixops modify -d $mid -I nixpkgs=/path/to/your/checkout nixops-kde-test.nix nixops deploy -d $mid ``` Note for @ttuegel: I'll let you handle the backport (if you're ok with this PR ofc :)). - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::The indentation here is a little unconventional for Nixpkgs, but the important part is to use `fetchpatch`: ```suggestion # Systemd v246 hides the interface used by KDE to fetch the # user session details. # We're applying this commit from 5.19.90 upgrading the # systementry applet to use the new sessionmanagement API. # See https://github.com/NixOS/nixpkgs/issues/98141 for more # details. # /!\ Remove this patch for version >= v5.19.90 (fetchpatch { ```::```suggestion name = ""0003-port-systementry-to-sessionmanagement-api.patch""; ```::ack regarding fetchpatch. The comment is encapsulated in the `(` to make sure it'll go away with the patch.::This may be hacky since there's not a good ""Qt source of truth"", but would we be able to conditionally disable this, something like: ``` ] ++ lib.optional (lib.versionOlder qtquickcontrols.version ""5.19"") [ <patch> ]; ```::actually, the Qt PRs will probably visit this, and might not be necessary. Too much time spent doing python PRs :)::",a054b43e8d4b048d7c124265e542d060de63f3ad::
https://api.github.com/repos/NixOS/nixpkgs,99561,monoid-2018-06-03::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::8.has: package (new)::,"###### Motivation for this change `monoid` is broken, as fontforge doesn't supply python2 bindings anymore. Also address https://github.com/NixOS/nixpkgs/issues/98475. ###### Things done Bumped version, applied https://github.com/larsenwork/monoid/pull/233, use `python3Packages.fontforge`. This needs to be backported to `nixos-20.09`. For `nixos-20.03` see https://github.com/NixOS/nixpkgs/pull/99558. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Also pinging @romildo as the maintainer of the package.::",b6b8503f857aee5ff6b9f21c1c28d478b842dbe1::
https://api.github.com/repos/NixOS/nixpkgs,99537,backport::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of #99483 ZHF: #97479 (cherry picked from commit 5dba52e6ce1f6cce2818702adb5284529ece1202) @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",424805d8c06529ab41939ea0c3526e51ccffee7e::
https://api.github.com/repos/NixOS/nixpkgs,99362,backport::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/99238 ZHF: #97479 (cherry picked from commit ab0e7bffa099277b64d0732079bd79e83a458271) @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ed6a21f97053c2453e84aee34e0e893b4970ad97::
https://api.github.com/repos/NixOS/nixpkgs,99343,chromium::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Notably fixes the bug that caused dragging text or images to crash the hardware renderer. Please backport. ###### Things done Only tested and built `chromium` not `chromiumBeta` and `chromiumDev`. - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Could you note in a comment which shared objects this installs (would make the review easier)?::",6ce640d22a76af1037e1f39f080dd39d54c2011b::
https://api.github.com/repos/NixOS/nixpkgs,99321,ris-freecad-fix-r20.09::release-20.09,0,merged,,"###### Motivation for this change ZHF: #97479 Backport of #98845 Some failures on macos, because there are on `master` too, and if I'm going to fix them I should fix them there first and leave this as a straight backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e09524c5a4eec216996079931a9c5b980051cca9::b4fa8ca40a475ceeac3f38710f88180a74f7ccf0::8fd282d1fbc0160f92b3992f977a6cd4f0067129::063314d9fccf1879554ccb21bbdfd8e062cfdcf1::a4260bf1baef6835f5df627fe64e9807eb2df62f::cc6d30c3da72dd17cf2b9cbc7bef930ebd410e77::
https://api.github.com/repos/NixOS/nixpkgs,99119,fix/noto-emoji-hangs::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::9.needs: port to stable::,"###### Motivation for this change This package is timing out with the current situation of AArch64 builds on the organization's Hydra. ``` building of '/nix/store/m2ks0z3wgixmwq0xrjl9nmxinv1l15qn-noto-fonts-emoji-unstable-2020-08-20' timed out after 7200 seconds of silence ``` It seems to always be out of being silent. I have not **observed** a failure due to exhausting all its build time yet. My assumption is that file I/O is problematic on the somewhat overloaded AArch64 builders, and churning silently through thousands of files is breaking an assumption from Hydra: ""silent builds are failing"". cc @worldofpeace @jonringer for a backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ~~(Currently building on my machine, I believe it'll end up building just fine.)~~ Took fifteen minutes to build, was noisy.::",174db5caadce9c4cf23f0e2a381bfbaaabb88184::
https://api.github.com/repos/NixOS/nixpkgs,99117,macvim-20.09::release-20.09,0,merged,,"###### Motivation for this change backport of #99045 Without this version bump the package is broken due to a recent perl update. However it doesn't build on Hydra so it's not showing up as a Hydra failure. ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",bba570a0041c49d89186bb670527e3d9173e8bac::64a976e019c6392c3db7c6517f3e9b147a46555f::
https://api.github.com/repos/NixOS/nixpkgs,99109,pythonPackages_namedlist_release-20.09::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change backport of #98967: - ZHF: #97479 - bump to latest upstream version ([1.8](https://pypi.org/project/namedlist/1.8/), [change log](https://gitlab.com/ericvsmith/namedlist/-/blob/1.8/CHANGES.txt#L4)), thereby gaining support for Python 3.8 - adapt homepage, as upstream [has moved to gitlab.com](https://gitlab.com/ericvsmith/namedlist/-/commit/015f7f523dd3b8af8c7866b8ebf26835b6eccbb8#fda3484edf8db0684440157ce0b110d784d42704_335_341) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",631fd15f2f88f7eac14bee527bf773ff64870fb9::6e7ca488b77e457a9c4233c29856c48e868180e6::
https://api.github.com/repos/NixOS/nixpkgs,99087,iptraf::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::9.needs: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Required headers have been removed from the linux kernel, the original project is pretty much unmaintained, see also iptraf-ng as an potential alternative. Build fails, see https://hydra.nixos.org/build/127639950 Should be backported to 20.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",376ee6dbcdbc26e3b6aa64fd18f18566969d5b1d::
https://api.github.com/repos/NixOS/nixpkgs,99081,graylog_3.3.6_20.03::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"Backport of #99077 to 20.03 (contains security fixes) (20.09 backport: #99080) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5accfcfa779d4fd05ce4b367f55b491d19efbe59::
https://api.github.com/repos/NixOS/nixpkgs,99080,graylog_3.3.6_20.09::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"Backport of #99077 to 20.09 (contains security fixes) (20.03 backport: #99081) Bumps Graylog and integration plugins to version 3.3.6. Fixes wrong description of aggregates plugin. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b7cd334a12430bec11ee61222f7b83335106a543::
https://api.github.com/repos/NixOS/nixpkgs,99077,graylog_3.3.6::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"Bumps Graylog and integration plugins to version 3.3.6. Fixes wrong description of aggregates plugin. I prepare a backport PR once my testing is complete. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change New Graylog release ( https://www.graylog.org/post/announcing-graylog-v3-3-6 ) containing security and bug fixes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",dee78b7032744c09a07e5a0c7d1d17e2568a1d97::
https://api.github.com/repos/NixOS/nixpkgs,98973,bump-hydra::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: clean-up::8.has: module (update)::8.has: port to stable::,"###### Motivation for this change * Updates `nixUnstable` and `hydra-unstable` to their latest revisions: `hydra-unstable` would require at least https://github.com/NixOS/hydra/pull/815 to fix declarative jobsets. Also applying https://github.com/NixOS/hydra/pull/818 to get it working with the very latest `nixUnstable` (instead of just the one in hydra's `flake.lock`) * Removed the upgrade path from older Hydra versions due to a schema change: Originally implemented in https://github.com/NixOS/nixpkgs/pull/83600 this was used to guide users of Hydra through the DB migration that was necessary after some changes back in February. (**Note:** this should **NOT** be backported to 20.09!) **Note:** I didn't add support for LDAP authentication for Hydra yet, if someone wants to help out, that would be great :) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1bb8808e1a2679df18ca1ce3822272901064bfb1::1308817e057eda7b27e33d24a79c050ed8faabb1::
https://api.github.com/repos/NixOS/nixpkgs,98922,pyscreenshot::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Fixes broken build due to missing dependencies, which were just added in https://github.com/NixOS/nixpkgs/pull/98895 and https://github.com/NixOS/nixpkgs/pull/98898. Will backport for 20.09 as well. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",3184facf9a443354adddba9103d6f8c64200bad8::
https://api.github.com/repos/NixOS/nixpkgs,98854,20.09-fix-qutebrowser::release-20.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::6.topic: python::,"###### Motivation for this change My `qutebrowser` stopped working on `nixos-20.09`: ``` $ qutebrowser 13:27:27 INFO: Could not load the Qt platform plugin ""xcb"" in """" even though it was found. 13:27:27 CRITICAL: This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem. Available platform plugins are: wayland-egl, wayland, wayland-xcomposite-egl, wayland-xcomposite-glx, eglfs, linuxfb, minimal, minimalegl, offscreen, vnc, xcb. Fatal Python error: Aborted Current thread 0x00007f3bbd085f40 (most recent call first): File ""/nix/store/3fvywg6zzkbp1kcjy0zxkx4yllr9d9xk-qutebrowser-1.13.1/lib/python3.8/site-packages/qutebrowser/app.py"", line 508 in __init__ File ""/nix/store/3fvywg6zzkbp1kcjy0zxkx4yllr9d9xk-qutebrowser-1.13.1/lib/python3.8/site-packages/qutebrowser/app.py"", line 92 in run File ""/nix/store/3fvywg6zzkbp1kcjy0zxkx4yllr9d9xk-qutebrowser-1.13.1/lib/python3.8/site-packages/qutebrowser/qutebrowser.py"", line 202 in main File ""/nix/store/3fvywg6zzkbp1kcjy0zxkx4yllr9d9xk-qutebrowser-1.13.1/bin/.qutebrowser-wrapped"", line 9 in <module> Aborted (core dumped) ``` ###### Things done This is a backport of #98197. I tested that this makes qutebrowser work again for me, but nothing more. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5624f8d4dab0fdf64f0abc6c9d827af3a49f191f::
https://api.github.com/repos/NixOS/nixpkgs,98835,shotcut-20.09.13-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change backport #98786 (cherry picked from commit c8353580783e4488c19c985177136dbabd10214c) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [Xgg] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",57ef05145697783b885524e21a9fed12597bbd19::
https://api.github.com/repos/NixOS/nixpkgs,98789,ytv379-20.09::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"backport #98763 (cherry picked from commit 2ab6756314b6df55030c6a43535299fb060c5ba3) ###### Motivation for this change make it work with youtube api v3. Works. Lists and plays videos (if you provide an API key). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",cb6859078dfd989d8c27f8d6ee62c7865c669a77::
https://api.github.com/repos/NixOS/nixpkgs,98757,tuxpaint-desktop-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"(cherry picked from commit faec169f0d0beb660ec6a2cea452c38e5430cdf8) ###### Motivation for this change backport #86829 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b9b0217474f1b6f6ef7e37aa80d0f3481435bc3a::
https://api.github.com/repos/NixOS/nixpkgs,98753,dvdbackup-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"(cherry picked from commit e8d1a486fb95435fb0274e89582bbca374f5ecea) ###### Motivation for this change backport #97776 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e460fae7fc35a36eb22935b0b90ee19c33a2df65::
https://api.github.com/repos/NixOS/nixpkgs,98596,backport-fix-gnat::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"(cherry picked from commit 7ea5b08cfcc5a4bdd206395f7f5922041df6178c) ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/98274 ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a7e31cf5047ce4b3656238eb575119f2b0cdc2a8::
https://api.github.com/repos/NixOS/nixpkgs,98589,ris-truvari-fix-r20.09::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: python::8.has: package (new)::,"###### Motivation for this change ZHF: #97479 Combined backport of  #98250 and  #98283 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b7554c3700818d2680918d1c52a96f47a4404f9c::2110e70a137e793c64f4da92bf015c2cab5cbab1::606259a02d4aee966b8a9c29c210370b118ea602::c1489fa4764860a7595eadc5e4a89897a84971ce::beb2e6220bd31f36f6ffb8192cfd22cabb18b740::ad9902854a272fb0de33871229f0152de82ad437::
https://api.github.com/repos/NixOS/nixpkgs,98577,chez-backport::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of #97927 and #98128 ZHF: #97479 cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - `nixpkgs-review` seems to want to merge my branch with master before building the diffs. The changes were tested before backporting, though - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7d001444c174eaadd9a42c917d764f837876d100::17b6d3fd0f45d8f231d056ff54d4b82fceec151f::
https://api.github.com/repos/NixOS/nixpkgs,98573,bcakport-orangefs::release-20.09,0,merged,,"###### Motivation for this change backport #98525 ZHF: #97479 (cherry picked from commit aa25c6576611ebab7d7448fa30edad9eb1c1a066) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",48f3f3707978f0c83ed7d5d988bcee3f21493d4f::
https://api.github.com/repos/NixOS/nixpkgs,98557,chromium-backport::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Backport of #98460 (and #97515, which I forgot to backport :o). ##### Testing status | platform | attribute | status | tester | | --- | --- | --- | --- | | x86_64 | chromium | :white_check_mark: | @Frostman  | | x86_64 | nixosTests.chromium | :heavy_check_mark: | @Frostman | | x86_64 | google-chrome | - | - | | aarch64 | chromium | - | - | ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",710d9682479806104666d6e87254770438620c25::00740317ecb53f941d76edd18878a9cb04f608c9::bc8cb021fbf4c073d17c3232a20b2aecfa76be4d::79b88efc582a784dd2189744925c45d0321cb0c4::0cd31b9ec268d007b0a43c9a94494bb867ff39f5::8504341edae9cd9edecbb3cebe2e8c2774ca272d::f535718ae68c52ac358c1044f5bfe544e7d3e4c2::40b58a1fca09a5165eb0a61eceaaa5fdd34bac27::39d5f7e0f150f7098d9c49664c7311ce94b08002::
https://api.github.com/repos/NixOS/nixpkgs,98514,mame::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"##### Motivation for this change The build sometimes fails: https://hydra.nixos.org/build/127855120/nixlog/1, and this is not fixed even on mame master. Patch upstream: https://github.com/mamedev/mame/pull/7279. To be backported -- ZHF: #97479 cc @gnidorah ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e6eb6b6fcba2646403143bfbba42ff8be1d6c340::
https://api.github.com/repos/NixOS/nixpkgs,98505,package/perl-cross-default_inc_excludes_dot-backport-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"Bugfix for `perl-cross` backported from PR #98466 (cherry picked from commit e2926577a1498aef0653ab853859270ea68f1df9) Cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d969d5b570cc961637e93e0c2fdf01be4a3ec81d::
https://api.github.com/repos/NixOS/nixpkgs,98502,link-dev-fd::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::8.has: port to stable::,"Otherwise, stage-2-init.sh will complain about not having access to /dev/fd/62 as of systemd v246. On IRC, flokli said: 15:14 <flokli> cole-h: hmmm... I could imagine some of the setup inside /dev has been moved into other parts of systemd 15:14 <flokli> And given we run systemd much later (outside initramfs only) it doesn't work properly here 15:17 <flokli> We probably don't invoke udev correctly <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Fixes https://github.com/NixOS/nixpkgs/issues/97383. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- I tested this by building and running a NixOS VM -- the warning is no longer printed. cc @flokli + @worldofpeace (This will need a backport, since we have systemd v246+ in 20.09.)::",4586810487f8579959f5df575e404226e6d1ab87::
https://api.github.com/repos/NixOS/nixpkgs,98381,fritzing-0.9.4::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change ZHF: #97479 Fritzing does not build currently, because it is not compatible with libgit2 1.x (they are using libgit 0.28.1 -- see https://github.com/fritzing/fritzing-app/blob/a799673d7f79a619d8c94a87d07cf0cebde1b1d9/.travis.yml#L87) Also, a new version has been released on Dec, 1st 2019. See https://github.com/fritzing/fritzing-app/releases/tag/CD-498 (I could also separate the patches, if we only want to backport the fix of 0.9.3b to the release-20.09 branch). Since their build scripts are a bit unorthodox, and I did not want to replicate all the different steps in the nixpkgs build again, I chose to patch the `tools/linux_release_script/release.sh`. Caveat: I did only fix the build on Linux, since I cannot test on macOS. Should we use `broken = lib.isDarwin` here? ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::I switched to `fetchgit` because fritzing tries to access the git repository and extract the Sha from it. So, I thought it would need the .git folder at runtime, but then I chose to hardcore the Sha into the program as a string literal. This means it could be switched back to `fetchFromGithub` again...::Yeah we usually just patch out attempts at that kind of thing.::The default branch is named `develop`, which is also ahead of the `master` branch.::Perhaps the `fritzingTag` should also be added to the `version`, because there multiple 0.9.4 releases, e.g., CD-415 and CD-498. ```suggestion version = ""0.9.4-${fritzingTag}""; ```::But I think `develop` might have broken part descriptions. `master` is basically guaranteed to be stable/working.::You are totally right. That's also what the README says. Sorry.. perhaps I should have read it more carefully.::I would not want to add this, as it looks ugly to me and is just a (mostly) random number. If this ever happens again and make multiple releases for a version, we might simply append a rev number at the end. Otherwise, we could just append the build number, without the `CD` prefix...?!::I totally feel you and also consider it to be unaesthetic. However, the project does not use semantic versioning and ""0.9.4"" is ambiguous. Just adding the build number is also fine for me. I just want to be able to distinguish versions.::OK, I changed the version to include the build number. I can squash the commits if wanted, or someone squashes when merging...::Squashing those into one commit sounds good, I think. Otherwise this PR looks good to me, thanks again (:::",9ca3de937b2bcbfce30fe6ebd635d457bfb142e8::
https://api.github.com/repos/NixOS/nixpkgs,98347,pythonPackages_mock-open::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change backport of #98313 - ZHF: #97479 (1.3.1 -> 1.3.2) e3aa742 - mock-open 1.3.1 had [failing tests](https://hydra.nixos.org/build/126789024/nixlog/1) on Python &ge; 3.7 (nivbend/mock-open#7) that were fixed with 1.3.2 (nivbend/mock-open@2da5008fa55997d5fbf4aff5ec4679a548a587ec) - upgrade to latest upstream release (1.3.2 -> 1.4.0) f19d0ea - requires patch from nivbend/mock-open#10 for Python 2.7 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - (there are none) - (smoke-tested the resulting python lib on Python 2.7, 3.7, 3.8 instead) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). - :x: `meta.maintainers` is **not** set::",9063398928d4834124f509609915b079a5f39dd3::d0651833e91c0891dbbc70166fb498439c9b43f6::
https://api.github.com/repos/NixOS/nixpkgs,98334,glom-backport::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change backport of: https://github.com/NixOS/nixpkgs/pull/98310 ZHF: https://github.com/NixOS/nixpkgs/issues/97479 (cherry picked from commit 05f994426fbe0797ebccba259af7e1748dfd8820) ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",ba1cde6d18c7102a8cc183e56a6a1ac8174408f0::
https://api.github.com/repos/NixOS/nixpkgs,98330,update-contributing::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: policy discussion::,"###### Motivation for this change Mention squash or rebase merge strategies for selecting the correct commit to backport See: https://github.com/NixOS/nixpkgs/pull/98308#issuecomment-695804437 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",96e44389599bcf89bb2143396698d8340316527b::
https://api.github.com/repos/NixOS/nixpkgs,98326,cawbird-v1.2.1-back::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"- regular version bump to 1.2.0, then bugfix release on top - changes: see - https://github.com/IBBoard/cawbird/releases/tag/v1.2.0 - https://github.com/IBBoard/cawbird/releases/tag/v1.2.1 backport of #97230 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6f77ca14058e60c3c6e27db73e6daad86a837c17::
https://api.github.com/repos/NixOS/nixpkgs,98323,sonic-lineup-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of 3ebcc76 sonic-lineup: 1.0.1 -> 1.1, fix build ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",017b5c4f3023a2513dfe5685949a32dab3751be6::
https://api.github.com/repos/NixOS/nixpkgs,98316,gnome-3.38::staging,1,merged,10.rebuild-darwin: 2501-5000::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::6.topic: GNOME::6.topic: nixos::6.topic: pantheon::6.topic: python::8.has: changelog::8.has: clean-up::8.has: documentation::8.has: module (update)::8.has: package (new)::,"### Progress/status See this [GitHub project](https://github.com/NixOS/nixpkgs/projects/30) for what work is in progress. ### Rebase Todo's ### Hydra Jobset: https://hydra.nixos.org/jobset/nixpkgs/gnome#tabs-evaluations This is based off https://hydra.nixos.org/build/127942802 84d74ae9c9cbed73274b8e4e00be14688ffc93fe. ### Other Fixes https://github.com/NixOS/nixpkgs/issues/99767 + Fixes https://github.com/NixOS/nixpkgs/issues/99766 + Fixes https://github.com/NixOS/nixpkgs/issues/93993 + Fixes https://github.com/NixOS/nixpkgs/issues/94732 + Fixes https://github.com/NixOS/nixpkgs/issues/99754 .::Yes, this is needed whenever we want to use other builder than the default python one (Meson in this case). Or at least it was needed in the past, if PEP 517 was implemented, it might not be necessary any more.::I believe last time I helped someone package an app like this it needed `format = ""other""`::this commit never made it into this tag https://gitlab.gnome.org/GNOME/gtk/-/commit/6d9db8610eff8c12d594d53b7813d9eea1247801. We still need it and should PR upstream to backport it:::+1:.::this fixes https://github.com/NixOS/nixpkgs/pull/98316#issuecomment-695811478::It still applies.::Yep, that make backporting very easy. Opened https://gitlab.gnome.org/GNOME/gtk/-/merge_requests/2605::```suggestion # https://mail.gnome.org/archives/distributor-list/2020-August/msg00000.html (fetchpatch { ```::huh?::Why reindented?::https://gitlab.gnome.org/GNOME/gsettings-desktop-schemas/-/commit/2ed0759bf9d17d50f43b906d25d4082c82eca89b::This should be docbook-xsl-nons instead of the legacy alias.::This seems to be missing `substituteAll`.::Oh yeah, forgot about that. Will fix.::This does not sound right, it should be `gdm` subdirectory under `/etc`. And we still need an (unfortunately non-upstreamable) patch for `sysconfdir_install` like Rygel or fwupd has.::if you could please drop this and apply https://gitlab.gnome.org/GNOME/gdm/-/commit/a798460abcba6e3257bf83441dd2b5aa53491646::It won't apply: ``` applying patch /nix/store/ch0748yx0lm6q8a05nsqirw7iwqm729m-a798460abcba6e3257bf83441dd2b5aa53491646.diff patching file data/meson.build Reversed (or previously applied) patch detected!  Assume -R? [n] Apply anyway? [n] ``` No idea why...::Looks like the patch is already in 3.38.0.::",d595f39fa5506e044c8f224a2c6911ccfd4bb7e7::f64862159f68268bb215e0d1326c2689251d8caf::fedcd9f42a64d0df6ad2e73ad51b7a35dc268d9c::469db7ce0ec62294d31cb571107576d233584810::0166eb0794c521bec3133f6596119b0762a6ea40::ad344c1529341186196f95ea875bba8fff725b6f::10944d9701efb509d31bcee45c3213081d364cdd::431c2c3faf242ea21d459b75a431d7d87ab00f1d::f90473785f674c12cad5f1c9b02b66a085a58be4::ed71430c448bfea2322e406507a8df5dde1bbc58::37f72d1ad63296239f1b6f5791ced25a25785312::cdc3ce564d290992dcbb5ac726300ef80fce9e0a::dde31ed48ede3ca60ee59988548dd7169c8c8806::11053b6fd1fd55e5a95823916683e75dc5195d9d::b49e45e8dbd67494dd96855a01246960b4b6e539::f6c93ff4dd1354de2fc07cb6f1f073f0838b2616::eb0d0182235285f859786e72a43130d3310f0454::727fc5249ac60a9ea6dd1b76a6f5aa6f4642fa4b::920b91d760ee73dd17058221ce2e06d85f0d38db::3d11dd8fad9c1a735b798e31388fcc5457a8d69b::c085cd90e5b812e65f1436e9fd271ad7bd867512::4269abc2646e4652182b019fdc103395a58f12f3::9b296eb146637f7b2ae7bcd4da2dc497f4919056::719892a69a304f3794ac72b7a9ed9f6154abe409::a17b2aa43dc69c1e0a3588a1966ee14daa6ddbb5::493fa5224969559f2bf908d1a34f95639fcb5db8::937828c2a4e5449188de42d0af7b1c798b05aa8a::57dad9ec8d7a1f26054dd589e6663f132fd4c19c::971d1baa372314845cd58fd32fdd6626c54507db::cec6f45ff62324e6c4f0aa67574a52c424168793::60ce1c8bef7027a2fffc819342ce1d4ef13064f6::0da84dc12b878d07dfaada9b2aa2ee0085314d11::61c41d85b2c2927320ab612b349a3ec653a0d1ac::9586d1b031137e58d3f5fe56154d0f646e46c211::58f5bdafd4b333a35bf329bc815f9d234bfc2606::23a439bd245074e9aab32b6cc82bc446ad1572f4::4d173cf1a711d6689cdc4b77d710dff26fe00ee1::08e633d354a961d71454413d0caa2b531e86ee47::c18b44974514e1547ba84374fdcce1f9c7afea86::3ae75ad4c83531a920c6ad960be982b7bb88c275::19fc60226455746102878495e679fd635d6f6c56::d15d1faf66f179765b1edfba2dbd9e340a47ab53::269c2ade9737b1c4e0306a2b6f0c513f392c8472::f6b85b9f9284ac84d2a3259964703541760ffb73::8ddf4e9bc27dd15afcf02f5fc15f374db84ef79f::c92d81a115f05dbb279485460da94ac1c4075f02::58c74c3cb2049b352940658ed3d35dcd450d9860::e586e4da268f6dc4b56053a50546b25f96a80e17::f629e0b14992a845beca722f0162241fff7395b7::cf5f2212981c097847d9fc7372847b686fefe452::4f2e1353069bf5f252603e233945847c93af0f9c::adee6a827b0428c29a42e2bda35ba767e3ce474f::9582a74fcc9d3997e5f8f20a6aff674476e5abd6::281ac3d3710066d82ba942c9a9584ce40f949864::041b5bba4550df1fecac0b1f2af55e080961fee7::c1307a041a20a93ce7eea0025dd253dc6ed12b39::c19cf7a6b9c9d28b129aadb2ea18b378478afe9e::7206a1426036f26623cbbb017bb6571b33ac804f::ca51986f03c3353044b4030dd1c0122dc5202f9e::37405d384a6c5bd0d533191aea12780762cb5a45::7e406e74201825ca810aa35d245ec508b45b4652::00fa875eb4f7ae1d3075dac4eb1cf0d61d8d56ac::24d3f90c8dedb113200473f639d2f1fe0ccdfc41::a0024ddc42cb094170a7cd0a82e2b3be519b28de::9d016e63937b71935de0d23c1ad537c53b450365::e067177022000a53cebf8bc438109ae80daa1557::4ab91e7bb81e92edb67c5b549063d43ceaf9ba36::ddfeea9c89a9572b53e192844f4838a584bd7a80::eaaaf825188b7006d24839a50cbe1980eb296e14::6d4499c30975b878a49ea5a7a6ef1bc0187f5a69::56c0d94541bd7f62bde6394fb10d93795bc18c86::4f04811f7ff1a36ea44fccc2ad2f51b5ffd13f1c::c8394b82ecb598d03029361b090cde9382a5332a::51597e64358e3f57917c2143fa0654a9104ce5b5::9deacb776b39ec2bc07c948754b204823bd3865b::284ee7b70baf9f88ae45d9d5a43aeed8771917b2::9db93f06ac0a0b6a4441d689cb1132c4ec44223d::ecd7a3aa58596428776397033dde0c5f53504830::0bfec2ed818a11a546e2316c1addc1ddd7a1111a::47dc5607b428817b58247108ea8c6bf57471c731::2409fd48c495a91bfc72b883001a03baaec3a92b::0be93b1febf871cc6de4c3b4f9ef47974dd5d388::edb4fbd7419e74108bd0fcfdecda9911ff46169b::733aebb1c6885733526b4733062ad0a7b2d729df::b08184bbc1bb925f32ee0ec4c850efbd3ee5770f::a4b5fc6925bf3c66be7f755b1ad558927fe5ce96::697eb066789c49e04033c4a99b5104fe24578adf::71ea5b388bbf80c01afa125867345ae5cc5d6f66::2fa58d86cba8bf74efca3924c7910b0311602e68::7e54d67bc7fba1aa444e1075e2ba9debea69a45a::55538b063c4c0503480cac8d549949c8e95dca5a::7a8b86318a1a2ec89ba13bc8d221d106e3c9ea6e::476de544071afab92af07598f650692f527de602::016d36dde699937dfa7e9078d52c9da699beaff8::d2bc3de380daf9802c8095c57d721066b4124e92::a53efa17c59d07f059a1a6ad99cac3b05637fa84::12ea15c6d0e93950c7fe69627e3cbfe8ad321401::f1f85419d22d55c64412bd3aec806d895ef9550e::10e74f17028c01bfb6d39baf143e5cc877ed4ca9::05318e22b306f2043e88d9fd8566029301ba8f26::d8d4cdc496777f91263a517fd832abb300e82ce4::d2cba8af0aca198beea57090dcabfc4663b2757e::b2e2b8cb2b819a3833acb4d55eae7a7a6e943329::620c1ef3a087102f95a5d95abe7b358f4c287bd4::7186dd6a0127fc859207e9eb073e7bee42f334f9::fff50fd7ca6b410927cd2a815ccda02f1c0bd5c4::fafb12ce3f1464ab054b921709bb01e98167c657::f0712e782cafefdd69ad9cd5be1cd8499fcdfc6b::f0c3fa3a067feb95c1e27b1bf038576b0669f277::0a9ef8c75a877b61223d3b153042ecfd9e2b51ee::d048c43ccd26ed682b0225f60d370d68c68371c5::da420c0c9b8d8be1f3b71357eb4ef795308130ad::667cf4acc401246746c90b261da8aee02102d0f1::37ad803693bef71c1afedd55156b6382aeca0fea::1cd0c14b29de3c67ad662c4bd132bcfe4c7c29e9::4854814042507049e01bfbc88d2b1572ca2ce3fc::7c74d280c6b574073993ab57f27db5111e6feab5::cb2786380a9b445fa7f33829e8068d4c30ca6ab0::0d69234cdebd15c6388329f699ab5d169236f9a6::c87e6738df0283d87a17e0af7c1105bd030c754b::de1af76f0dec274f504829e116daeeb7f394b7cf::8ae59fa5c9b536136856ec6a2d96dcc1886595b6::bdbf92601749277cf5db56210feff3eeffd065ef::00d2ae41c5e2d645be0561c39470d57503609990::f971cbe31d65608a64acd4c4f6a420a5885ef5fd::934b20866a05b46f8d7ca889e0983874476bd365::6b7bb526448b92bebed8237b3e62c9112129fd02::a9785c51fb3289d0ceaab0747f6358b055255943::e2fb659c1f70a07552b2702c673217be4f3fd4fe::dd7862f187f13683ec40269dc1fb4219abfca4af::c189b238d8c5b44e34bb527636fb1a9640e1ac8c::caf4b9fe5ec36c7aba740ca53a8e8469c1e0f522::af2465acb9d82134fc0a9eb27eacee2e321e4035::13dfd7464e8d88b1d058b00a99cdb473efdd667b::c6caf98331c037d91b17b41de971306a0195f0d4::7f155324865e9d9677f7a68671c9a24e642e4e4f::7e359f1ef1b9fb04caf759e6d9f9a48f40e4e820::b2ff70917913abb59eec84946801293b37fc8662::bcf3872cba1a83235a4785bd512676d65c54e9a8::cb1a410de64a4250c56b22dd86a86c129b157136::0b767c8b3d5a9de3e55b8196f8f0984a70dc61fa::cd48c50e35831c5c3f5e51d02433bb18ac09c24a::11d6c2fb3557b8f7f5efc5d4eda657509cd5dee8::9c9e519318b9ff61899f64de180d70bfa7b28a37::e1317b8b7bb297ce80a0265ae742a141b5d20d9a::4d61e42de4fc38d772e57d6b68927c771a20934e::9aaad83e4301bcbb8ffe85896ed97a605f37c883::2517a751079a6f884fb213d7cf63c3ead56492d4::93f93c84b4e17ce0d079ea71be871ab61503f49f::8cfb2ead47180aaa87f9a70d56ef236b48969ade::703a72f4d3d6da9f617ac7d4ac679708037bd9ee::58e08f2407c85362c1c83c348eae0788eb5eaa68::50047bf4ecfda6659f51c3fa8d52c9531ed33b83::9d8c238b5c4551bde6cac8988ad7ce4795a1791d::edbad936cf0db23779bcbe1a181646e49e73ea97::4704cec55b71bdfc1e46d938a5ec52b69b5cce1c::5a3749e3b3426d42051cc6af7f742c3b9d3b2092::3c4de3121053b327965f4ec844e4602d71136fc6::da146f2efddfe5e0e13cdac0f8d9ba31211dad33::2c7d0b5362a1aaed77c684e2f4d39cd21ae2db2e::bd2b324906a0619e4c6b298d1bbacd9ba553f5e3::af9d19eceb91a9aad4e5b8829f5d817c14faccd5::bf7a38f6e44aa2f2674b0172bd4a7dbf282da00d::f8a343a48a508b4926cb53a4d312c12a699356a1::00aedd87ad66b21dcba627515db831395b333152::f55ce0fbff977ac336d94414b6932927aa6e4b4f::7ad37e2c59eab9bc870fb4923b778564be74963c::6eef604f8dd06973c209ee1a5c7ac1f8f37784ff::cd66846f9e7779373562b36a75f0eec607d1d49f::66315a8c75a735210da427094287f426958f4888::1370ed0a1270a51f2b24ba776bc569a34406396d::08af99b9ce8ce7401796f5ab29ca83f51f9b944a::d2687f571ff55c55e85b443f1d695c0e5734d395::4dc0285842ef829ab9b80c297bf0ba36b6731d08::216a8a11a33baa30da02a5541be413911e647004::b4360968ac9ce5c940106c3999d1cb7b18be3302::e812c88fc316f11ffe5f2884a845b774aa855cd6::c258f2df7682c0d182b30191d3786bdeda0c42f8::2d99c5c607a4f1cf916ad370273b5602825ffecd::803f883f6358c5fd7834cdc44bd3425b2cfb072e::4e6c9ed2ed20d0adbed615369e15b0852e1c8faa::6fd69ba58d4f6062ac7b3043afdd09af9f12b23e::d6222eb855dd57e2df63def93ed9e1bb50d0a306::aad938e5d399edf70f0e4ec59fae151f2b26565b::8b2a2a4e3b6903b1edbe98f9d0ed141cb8e2866f::d843d7b3d7b86580c87e93923b66dffcd6f035d2::990cb913ee3399f326e35cfb5d3487cfa3282f22::cd441a5d31f443db94faf1464f0d4aab70aad1fd::d1eeb643e21fa5ed00cb892df181791920d2b94a::73c6cfb3b07ef198eb3465e84a988dc497ba6ffe::b8e6470f1b4d9baa7df5bc257b361f57f760ca3f::40e3468ece971c1d89e7e93dd4e0e36fef1222c6::1e76bdd56b2ef12341ad8afb6ba67d5e70b22060::da85646164515f675bfdf1ef294858d4eecbd0ed::4c83a97c8ca4e24301680bd324dfa742380aa56e::06929e3f286118783e59fbf7e8ac71124f5048b7::297bac601aa4dc14cf44ca88bd6ea60e56921b67::bf9edc9e3831b20c9d15a5bb228505411d4d72a5::94ed06e3fadcc6a9c7fdaea123b09877a40c503f::948edf8f2662d7f1b5445aaf6d291edc029bb27b::0703985bef52771c9381520832476e147e4006bb::9c33a3ff21571fe83c07eb20bada89da0b3b5acc::06fc53857aa20db7cfcfdc330a4ce5308025437f::9b64ebbeb7e5ff96cfd72cb132f0804d794575d7::330ac8b3dcf1fbd76c21e05d4d88826799327d9c::268f2d1478c53f125cd8f4f53e8d2bae375591fe::eaeafe60f41ccf862165c03fc72dd49f13efa5a1::f0584c52fe74ad7ac7b0c6a0b800203880490977::0e5492a72c0fce516502a1fb1e2c81e2f67065e9::09924245424478db1c5d28b7d0ff8a54e33713bc::6d94553dde873a44a5d44bd5bb95c7b517cee478::346e1f020e4aab6cb899ed483593cf2a5c77dd4d::5e385615923059c8ca36b342b09806f1d3a66dd1::c9f3736a209b2b98201a8d67e24c2bb14ede9999::a737f6eee17574dfd2d375e6b80fce4853ed7b87::63c7390174eb4c35df44f3841bd38661775fb2dc::ea1923841ac09ece72a810bb522c8fefe41828c3::87e3d553cf645b2a3abb178d1baa66ae1a33eef1::20e21721c81a5b60f12c751d4af19b0355c8d5d3::4dd243706813549330244c2191fb6573883f1945::61afd7f80e8da3174917bdff0ea2eafbf205d910::dfc6578fc1c97419e73819fe9d39321c2781a65c::625fb27d68c103a6007b4b762ae814c08f9fc217::8ccd765d3775f80566bf19e48a21f527f0aa7e29::
https://api.github.com/repos/NixOS/nixpkgs,98308,20.09-update-graspy::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::8.has: package (new)::,"python3Packages.hyppo: init at 0.1.3 (backport of #97695.) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [NA] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",798a2e3a054da2116118bcba59ead18be2b3ce7a::98bfcfa915a2816029b5d63ec4352c1243d30008::
https://api.github.com/repos/NixOS/nixpkgs,98305,backport-lightparam::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change backport #98065 (cherry picked from commit 2a35f664394b379e0c0785cc769ff6ccc791be39) ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",201f25440b164638b1bc9f85cd30ed14739acce3::
https://api.github.com/repos/NixOS/nixpkgs,98252,backport-runway::release-20.09,0,merged,,"##### Motivation for this change backport #98063 ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",0b558d7fa48dcafccdfe0d448c759e062c43afff::
https://api.github.com/repos/NixOS/nixpkgs,98249,backport-hickle::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change backport  #98064 ``` Processing ./hickle-4.0.1-py2-none-any.whl ERROR: Package 'hickle' requires a different Python: 2.7.18 not in '>=3.5' ``` (cherry picked from commit f1325cdfe7da80f809c4c6f6d22a4d1a22c7422e) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",348bf044b83a938a730af259587a1c649d369b45::4be2dd0cfa193fa7530b0136a1b1e9ed8a28cbc3::
https://api.github.com/repos/NixOS/nixpkgs,98241,backport_topydo::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"##### Motivation for this change (cherry picked from commit [`9d30512`](https://github.com/NixOS/nixpkgs/commit/9d30512)) backport of #98110 ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] ~Ensured that relevant documentation is up to date~ - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",0fc6cda298e9c57571a9f0e74c5aa6ac3ec68b00::
https://api.github.com/repos/NixOS/nixpkgs,98240,backport_verilator::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change (cherry picked from commit [`9839c0b2`](https://github.com/NixOS/nixpkgs/commit/9839c0b2)) backport of #98109 ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] ~Ensured that relevant documentation is up to date~ - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",14b64adfece7d9c04b37e49424729830d3f2fed4::
https://api.github.com/repos/NixOS/nixpkgs,98226,backport-streamlit::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change (cherry picked from commit 07660b28bc74f2d0422731b60174cc16920a82a7) backport of #98062 ZHF: #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b8fb9861cbbfe818cf91662cd916e0218775d1da::
https://api.github.com/repos/NixOS/nixpkgs,98205,fix/haskellPackages.logging-effect::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"#### Motivation for this change This probably fixes another 10 packages that depend on this library. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Is this for ZHF?  If so, then it is basically fine as it is (assuming you will just commit straight to the `release-20.09` branch). If this isn't for ZHF, and you just want this fixed in `master`, can you do the following? 1. Change the base branch on github to `haskell-updates` (and probably rebase on `haskell-updates` as well). 2. Instead of using `markUnbroken` in this file, remove `logging-effect` from the `broken-packages` list in `configuration-hackage2nix.nix`. The `hackage-packages.nix` file gets regenerated daily on the `haskell-updates` branch. Since you've removed `logging-effect` from the list of broken packages, next time `hackage-packages.nix` is regenerated, it will be regenerated without the `logging-effect` package having `broken = true;`. ::Not directly but it will help with ZHF and can be backported to 20.09. Now that I have played with the patch more, I think a better solution is to pin the version to `logging-effect ==1.3.10` because otherwise, it will not work with those other libraries.::Will there be more updates to this pull request?::",66ff03f93d96f8a1b0a3fed9fdfd9bea1a92843c::
https://api.github.com/repos/NixOS/nixpkgs,98140,ntfy-python3::master,0,merged,0.kind: enhancement::10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Fixes test error (https://hydra.nixos.org/build/126783668): AttributeError: 'module' object has no attribute 'test_prowl' ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Should be backported to 20.09 for #97479 after merging.::",35593698d5dd49117d9d082174add68389f96e08::
https://api.github.com/repos/NixOS/nixpkgs,98061,backport-graphite::release-20.09,0,merged,,"###### Motivation for this change backport #98055 ZHF #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ``` https://github.com/NixOS/nixpkgs/pull/98061 3 packages built: python27Packages.graphite_beacon python37Packages.graphite_beacon python38Packages.graphite_beacon ```::",7d6ac65c6afcc3bfde21a9b6b855d0240b7bf221::
https://api.github.com/repos/NixOS/nixpkgs,98053,update-gist::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change https://github.com/defunkt/gist/releases/tag/v6.0.0 The current Gist is using a deprecated API to publish the Gist. Given the removal of the deprecated behavior is going away in March of next year, I do not think we need to backport to 20.03, but it should definitely be backported to 20.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b91421b22e42e5c39c64402881044f0392e4e59f::
https://api.github.com/repos/NixOS/nixpkgs,98028,softmaker-office-1020-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Upstream breaks hashes on updates, so we need to backport version updates. (cherry picked from commit e2c8ae9881c3e221d2736ed1eaddadd7ab8fa28b) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a46fae030f7c88251589592a105e8b5516885479::
https://api.github.com/repos/NixOS/nixpkgs,98017,tomcat-native::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/97942 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",af23c989e943925a96db5869953e5845af759abf::
https://api.github.com/repos/NixOS/nixpkgs,97959,backport::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"(cherry picked from commit 1d5fb043fa848fffd18512e47ea57168fce5de6f) original pr: #97920 upstream bug: https://github.com/nwg-piotr/nwg-launchers/issues/74 <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change nwggrid wasn't showing any apps because it didn't respect XDG's specs or something like that. I'm not sure if it's a good enough reason for a backport since it's my first one. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). /nix/store/ys5fpzziivrm1qk97z5khnfmfvpzqa91-nwg-launchers-0.2.0	 294.6M /nix/store/7g8rhw9zqss4p1zplcis456qy6r81r5j-nwg-launchers-0.3.3	 294.7M::",9f4ce77fa8679d2fdf0219596a71ba1fb419ce61::
https://api.github.com/repos/NixOS/nixpkgs,97939,update-cheesecutter-unstable-2020-04-03::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"ZHF: #97479 Also #81815, @fgaz here's the promised CheeseCutter PR. ###### Motivation for this change Updated upstream commit & derivation contains fixes for macOS (will backport for ZHF once it's confirmed working by someone & merged). This'll need a Darwin user to help me test the `ccutter` binary. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) (on Linux) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6463775d84f4abadb5e8657cc1aa1c23da7e343d::
https://api.github.com/repos/NixOS/nixpkgs,97883,feature/raspberrypi4-with-u-boot::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::8.has: package (new)::,"This is part of the effort to slowly move the Raspberry Pi 4 support to the mainline-based generic AArch64 image. With this change, the image is now structurally compatible with the mainline AArch64 image. This means that when mainline Linux has been verified to work on the Raspberry Pi 4 enough for the end-user to gain a foothold into ARM-land, we can finally remove the Raspberry Pi 4-specific SD image. The idea being that if mainline is not working well enough for specific use cases, or incompatible with the Raspberry Pi Foundation's ecosystem of hardware, drivers and software, the user now has the ability to either switch the running kernel and rebuild, or even now build AArch64 packages. The Raspberry Pi 4 might be that user's first and only way to build AArch64 things! With this change, we should be able to somewhat reduce the difficulties in supporting, and answering questions about the Raspberry Pi 4. It should work, structurally speaking, just like the Raspberry Pi 3 images. One last change, for the rpi-5.4.y kernel branch, we need to drop the `cma=` parameter from the kernel command line. The kernel command line takes precedence from the pre-configured CMA set in the FDT; which in turn allocates in an area that VC cannot read. The pre-configured CMA value works just fine. Using the configuration option (1) clears up the kernel command-line a bit, and (2) fixes that issue since it has lower precedence. This includes changes from: * Closes #97258 by including the commit directly (Thanks! @Luflosi) * Closes #70796 by being basically the same change (oops) * Closes #97732 by integrating its (fixed) changes **This changes nothing for existing Raspberry Pi 4B users.** Only images made from the moment this change lands are going to be different. Should this get backported? Well, the main part of this PR, changing to U-Boot for the Raspberry Pi 4 image, does not apply as there is no Raspberry Pi 4 image on stable. The kernel update might be relevant, but might bring breaking changes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc #63720 ::Note that the platform specific config is not always good. At least on rpi3, I had to set it to 256M to get plymouth to display properly.::So why is this one not picked up by `/dtbs/broadcom` in linux-rpi.nix?::Yes, though this becomes the *default*, which was previously set on the command-line. The command-line still has precedence over this value. It is actually hard to know what value should be used! It seems basically no one is in agreement. So for the time being I only *moved* the value so the Raspberry Pi 4B can use whatever the device tree defines.::Because otherwise for the default mainline image, which is not raspberry-pi specific, we would build *two whole kernels*! We lucked-out in the fact that (1) we already were using `raspberrypifw` and (2) the foundation ships ""golden"" FDTs for us. An alternative solution would have been to make the kernel building infra of NixOS able to only build device trees, so it would still have included another kernel's source in the build closure, but would have only built the minimum required to build the FDT. And finally, the real solution will be that we'll use whatever U-Boot ships *once it starts shipping a device tree for the Raspberry Pi 4B*.::Since you can reclaim cma not in use, a higher value may be a good idea. I wish rpi published defaults for it.::Yes, multiple angles on that: 1. Each board vendors should provide a device tree entry with what is needed to make them useful. Probably through an overlay. This is because some boards have *issues* that are specific! E.g. here the Pi4 can't use CMA higher than 1GiB! 1. We can provide known useful values per-board in some manner. As it seemingly can't be universal (see previous issue) 1. What even *is* a good universal value to use here? Right now I really only moved the current value to a location where it has the least precedence. Let's leave *changing* the value to a further PR. I don't want this change set to start breaking things :) (even though I'm pretty sure it would be fine).::Adding another note about `cma`. Through the device tree it's entirely possible that *multiple* CMA ranges are allocated, and needed for some devices. I haven't looked at it in details, but I saw that transpire in a Mobile NixOS device.::This comment about CMA is no longer needed.::I was looking today at similar changes b/c this never got merged to master. I found this (unified) config file for RPi 3 & 4 (arm64 == ``aarch64``): https://github.com/u-boot/u-boot/blob/0817daa7606ec55ba551acb0208eaba33a548804/configs/rpi_arm64_defconfig. Would it be worth merging these two configurations to reduce code overhead? I know that'll make this PR take slightly longer b/c more to review, so that might be a second step. There's also an updated UBoot for Raspberry Pi 3B+: https://github.com/u-boot/u-boot/blob/0817daa7606ec55ba551acb0208eaba33a548804/configs/rpi_3_b_plus_defconfig. Complete speculation, but might fix some of the issues tracked in #66960::It should be easy for anyone to use  these configs already with a custom buildUBoot. If it turns out there is a big difference, we can still switch to them or provide additional builds.::",2bd34a0ab77df7f788418814d5a873c5360716c6::a142d200d0baf5c78a02d9eeab092eef349e4f7f::3317aa8cd7c5c04df68af51011d23c5fbae72cc9::c673c5ea981d16239f0685275ff0e5bfa40f7792::
https://api.github.com/repos/NixOS/nixpkgs,97869,bp-kb-1.19.1::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::,"kubernetes: 1.18.8 -> 1.19.1 (cherry picked from commit 701064bb107aceb57371d2dd01986e9e111467b4) Backport of #96446 This is a more or less trivial backport of #96446 which contains a kubernetes (and NixOS easycerts) update, but also, especially important, release notes pertaining to the golang update that went through earlier and, perhaps surprisingly, impacts certificate validity in existing clusters. The update itself does *not* impact clusters (that already happened,) the release note just documents the impact of the previous golang update. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5115acdc7e421acd24ecdca6ce161dfabcf191b9::
https://api.github.com/repos/NixOS/nixpkgs,97809,20.09-python-fixes::release-20.09,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of #97209 ZHF: #97479 cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",82405833e72a63861e2d159c2a3c00026ace5fbf::77816d69d99d856e69c4c8a38e10dadc05dfb034::a3a4551cdbf61e8c8619d0cd37d9c2c19f10992b::15a8e665f7441784d3d5f174579dfefee73bc4d4::
https://api.github.com/repos/NixOS/nixpkgs,97780,can-isotp/fixbuild::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Fixes can-isotp build, also updates it to the latest version This will be backported to 20.09 as part of ZHF ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4dc07b680ff97457c420aa23259d2ba2c273ace0::
https://api.github.com/repos/NixOS/nixpkgs,97749,backport-j::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: darwin::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of #97525 ZHF: #97479 cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",efc358ed37cc1191b7f3d0480cfefffde9d005f7::
https://api.github.com/repos/NixOS/nixpkgs,97730,solc/fix-build::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Tests for 0.6.8 fail, and upstream has a new version anyways This will be backported to 20.09 as part of ZHF. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3fab5dda5ba1c7b4c0c5f79341c256abe631efc3::
https://api.github.com/repos/NixOS/nixpkgs,97713,backport-executor::release-20.09,0,merged,,"###### Motivation for this change backport #97494 ZHF: #97479 @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ``` https://github.com/NixOS/nixpkgs/pull/97713 6 packages built: executor python37Packages.executor python37Packages.rotate-backups python37Packages.update-dotdee rotate-backups update-dotdee ```::",0a89d16c2846c9c2b3b9170c64f5477851087a27::
https://api.github.com/repos/NixOS/nixpkgs,97689,issue-97433::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"This is a temporary fix for #97433. A more proper fix has been implemented upstream in systemd/systemd#17001, however until it gets backported, we are stuck with ignoring the error. After the backport lands, this commit should be reverted. CC: @flokli <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change See [this comment](https://github.com/NixOS/nixpkgs/issues/97433#issuecomment-690284011) on the issue. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b32701bc5404ae37cfa01429962588b833913d7d::
https://api.github.com/repos/NixOS/nixpkgs,97666,nextcloud-nginx::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::8.has: port to stable::,"###### Motivation for this change It seems as I misconfigured `nginx` for certain cases such as the `ldap`-plugin[1] in 42f6244899d1ef8839c6e0c0a9340e1334d40264. This patch fixes the `nginx`-config to match the upstream recommendations[2]. Also added a comment to the module to remind myself to ensure that `nginx` will work with both v19 and v20 as soon as the latter is released and can be packaged in `nixpkgs`. Co-authored-by: nivadis <nivadis@users.noreply.github.com> [1] https://github.com/nextcloud/server/issues/16194#issuecomment-688839888 [2] https://docs.nextcloud.com/server/19/admin_manual/installation/nginx.html cc @mweinelt @nivadis @flokli **Needs** backport to `20.09` and `20.03`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",8d8871c565373a46792fc0e4d3976a3c2ac58c18::
https://api.github.com/repos/NixOS/nixpkgs,97648,fix_ejabberd::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/97526 ZHF: https://github.com/NixOS/nixpkgs/issues/97479 cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1a8d8dd6a6ceafb2647ac9a6a56b55e10c1664aa::
https://api.github.com/repos/NixOS/nixpkgs,97647,fix-maintainersbuild::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"#### Motivation `build.nix` fails when it selects packages that have disabled Python pkgs (like with `disabled = !isPy3k;`) as dependencies. #### Example ``` nix-build --show-trace  maintainers/scripts/build.nix --argstr maintainer earvstedt # Output error: ... while evaluating ... 'python2.7-djangoql-0.14.0' ... Django-2.2.15 not supported for interpreter python2.7 ``` Explanation: `python27Packages.djangoql` is not `disabled` but has the `disabled` Py3k-only dependency `django`. #### Discussion To check which pkgs should be built, `build.nix` only evaluates the `meta.maintainers` attribute of each pkg. If the maintainer doesn't match or if evaluation of `meta.maintainers` fails, the package is skipped. When a pkg is selected to be built but one of its dependencies is disabled the build fails. The workaround to skip all packages whose closure doesn't evaluate is not ideal as this may ignore actual package defects. But most of these potential eval failures should already get caught by `ofborg` before merging. This is relevant for ZHF: #97479 I'll add a backport in case this PR gets merged.::",b56a46f527bf6884d37191475d54c367e40396be::
https://api.github.com/repos/NixOS/nixpkgs,97641,instead2009::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ZHF: #97479 backport of https://github.com/NixOS/nixpkgs/pull/97562 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). (note: result in the same derivation as https://github.com/NixOS/nixpkgs/pull/97562 as time of test)::",7a20d7ae9aa53dc769a959b09958e1e656b871af::
https://api.github.com/repos/NixOS/nixpkgs,97637,fix-pypkgs-20.09::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: python::,backport of #97283 ZHF: #97479 cc @NixOS/nixos-release-managers::,79693de9a7ad683e71a1760284915024171fbb8f::72c9c5bea55ab878ecb8b446a924d23b6dbb2969::83bc4e3caa3998f22d79bc784ab04af07b084256::
https://api.github.com/repos/NixOS/nixpkgs,97636,backport-lxpanel-20.03-zhf::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport: #97608 ZHF: #97479 cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",803517d3d1d9dd4e594f8e75a6f5a5bba2152799::
https://api.github.com/repos/NixOS/nixpkgs,97612,drop/firefox-esr-68::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: clean-up::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Upstream EOL. This also needs a backport to 20.09, because we missed the branch-off on this. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",264693f9d7e9f2404f4be879caced3574f8aacd9::
https://api.github.com/repos/NixOS/nixpkgs,97595,unnethack::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change As part of [ZHF](https://github.com/NixOS/nixpkgs/issues/97479), so it should be backported. Upgrading the version didn't fix the failure, but adding the bison include directive did. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::usually with patches, there's a comment on why it's necessary, and when it can be removed ```suggestion patches = [ # fix regression with bison, merged in master (fetchpatch { ```::Then there should be a comment in the manual on that. But there isn't: https://github.com/NixOS/nixpkgs/blob/master/doc/contributing/coding-conventions.xml#L862::In the case of the manual, the name of the patch gives away the intent. although we should probably add that maintainer-ship is a lot easier when the patches mention whether they should be removed when bumping.::",2098ab8ecb765e4c6eef90fbd7586e5694a2c9d1::fe4b357d496c4fcbe24d593229e3d812a3acbaa4::
https://api.github.com/repos/NixOS/nixpkgs,97593,fix-lxd-tests-backport-20.09::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,This pull request backports https://github.com/NixOS/nixpkgs/pull/97550 for 20.09.::,d5442b726fc497d6278714dba35adb40def2ac76::567bec03f54a29892b67d16b95c7cd81fc8966ef::5585bd755dc360ee8e003c1adab5a8c6333b9aa2::
https://api.github.com/repos/NixOS/nixpkgs,97587,arch-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"An error occurs when using a `platform.gcc.arch` that isn't one of the existing hard-coded options, for example: ``` error: attribute 'armv6-m' missing, at lib/systems/architectures.nix:63:56 ``` ###### Motivation for this change The error was introduced recently in #61019, and it'd be nice if this could be backported to 20.09 to avoid a regression from 20.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @volth ::",8f3efbde4e5d5d5f6af97e8f7e199f37d51d9faa::
https://api.github.com/repos/NixOS/nixpkgs,97573,recoll-qt5-20.09::release-20.09,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"(cherry picked from commit 9cdfa8adc25daaabe4e08de040826a088f2f0dc9) ###### Motivation for this change backport #97570 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ab77e4d4a476e35f10e28457237583f81e866d01::
https://api.github.com/repos/NixOS/nixpkgs,97570,recoll-qt5::master,0,merged,,"###### Motivation for this change fix recoll for nixos-20.09 (to be backported to release-20.09) #33239 #97479 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9cdfa8adc25daaabe4e08de040826a088f2f0dc9::
https://api.github.com/repos/NixOS/nixpkgs,97565,defaultPackages-nano::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Some people already have another editor installed and may want to get rid of applications they don't use. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::this has to go in the changelog of 21.03 (which might not exist yet)::Can't we just backport this pr? Nano is still installed by default, so this shouldn't affect any setups.::Yes, we could. I want that defaultPackages can really be set to empty without causing any issues, so i would like more testing on unstable... In this case it might be ok. I have micro installed and use it most of the time, but git still opens nano. I haven't made the effort to change that yet. Have you tested for example such a case? And there might be edgecases like with rsync and nixops.::I agree with @davidak - I'm a big fan of removing packages causing side effects but let's keep this in `unstable` to bake for the next 6 months... we'll catch most issues that way.::Thanks for the thorough answers. I didn't think about the edge cases, so stabilizing this first makes sense, I'll update the pr. Also, can someone proofread the release notes? English isn't my first language.::I'm also not a native speaker, but i see no issue. Thanks!::",e6cd793a74c75f01c48731ed97d55da916fad19a::
https://api.github.com/repos/NixOS/nixpkgs,97513,verilog::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"The build would previously fail due to a change in bison's behavior (see https://github.com/steveicarus/iverilog/commit/5b699c1be73e789831db01e779a41478c0c62309 for more information). Updating to a more recent version fixes this issue. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ZHF: #97479 Saw this was failing when looking for packages to fix for ZHF, and realized I need it for one of my classes this semester... Anyways, I tested this by compiling the first assignment (an 8-to-3 decoder) and verifying the output was the same. Test source can be found here: https://gist.github.com/cole-h/d499079a8ea0c58a80f415e9b5e2bafa. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- I'll backport this to 20.09 in the morning. @NixOS/nixos-release-managers::",339f6248f6408d9c303c998ccc1f40e99e247cf4::
https://api.github.com/repos/NixOS/nixpkgs,97507,gambatte-alsa-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"Add `alsaLib` dependency to `gambatte` to fix [failing build](https://hydra.nixos.org/build/126785495). Also bumps the version, although this is not necessary to fix the build. ###### Motivation for this change Fixing the build in preparation for backporting to ZHF 20.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9db2ca30ac8141c776ac2c6e170c848698de22e8::
https://api.github.com/repos/NixOS/nixpkgs,97499,update-python3-vtk::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: clean-up::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Unbreak python3Packages.vtk. Will backport to 20.09 for ZHF once approved/merged. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",16393d2e8bc387af3201a52fbed1be658f6eea3b::
https://api.github.com/repos/NixOS/nixpkgs,97495,backport-xdis::release-20.09,0,merged,,"###### Motivation for this change backport https://github.com/NixOS/nixpkgs/pull/97486 ZHF: #97479 @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",05a966fe1524fb26b36cd47c93ddbe6e742218b7::
https://api.github.com/repos/NixOS/nixpkgs,97459,backport-allegro::release-20.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change backport of #97432 closes #97458 ZHF: #97479 cc @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",bbcbe9e9050906d4c5634e156a68f607a2827cbe::
https://api.github.com/repos/NixOS/nixpkgs,97439,backport-caddy::release-20.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: clean-up::8.has: documentation::8.has: module (update)::8.has: package (new)::,"(cherry picked from commit 45d7f59da84623dae24841d858ae6c7f6c3c4545) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change This backports #97217. I very much would prefer this change to be in 20.09 release. I'm not sure if I cherry-picked this correctly. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e2b51af18a9a219dfa45f16fd8591bcc87fbf417::80a5560db99a673b1931b1399255cfcdabaad185::54ad14abfc3195c81b6d98285108d42da4d62d26::9527d0be184a93976d354de173f1ea6e9bcdeea1::05eb101fbbe36ae1ae85c29c396941ef861c9d76::efeb51f81d689e0074e04c3c4ebc07ca30dc25c8::17aa84a9f4cd8b2f2b224d974da0db0a922d45f7::
https://api.github.com/repos/NixOS/nixpkgs,97303,systemd-confinement-list::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"systemd-confinement's automatic package extraction does not work correctly if ExecStarts ExecReload etc are lists. Add an extra flatten to make things smooth. Fixes #96840. (will need backporting to 20.03 to properly fix it actually) ###### Motivation for this change #96840 describes the problem but basically recent nginx update broke confinement for it due to this bug in confinement handling. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",fd196452f03f77aea5f2cd5babda21534e3c7f2d::
https://api.github.com/repos/NixOS/nixpkgs,96592,tor-browser-954::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"Backport 14d8030618a753bc5ff50d2f40b58ef20dea0182 from #96436. ###### Motivation for this change Since this update includes security fixes, we should backport it to 20.03. (Also the version 9.5.3 might become unavailable as happened in #94252). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c1da480f51bb5c238dc8ce6f455e21eda9b8145d::
https://api.github.com/repos/NixOS/nixpkgs,96511,rtl_433_prom::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::8.has: package (new)::,"###### Motivation for this change NixOS already packages rtl_433, an SDR receiver that among other things can decode metrics broadcast by 433MHz appliances such as thermometers. This PR adds a lightweight Prometheus exporter written in Go for rtl_433 metrics. I had to add further pkgs/modules (see first commits) to make that work seamlessly: 1. upstream rtl-sdr (0.6.0) is using a very permissive udev ruleset that makes devices o+rw, which is not okay, so I backport a commit from their master branch to make it more locked-down 1. because of 1. I had to make sure the ""plugdev"" group exists, so I introduce a small hardware.rtl-sdr module that enables said udev rules and ensures the group exists 1. finally, I add the rtl_433_prometheus package and exporter module ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Could you add a comment explaining why the tests are disabled? (or enable them)::maintainers? If you're not already in the list, please add yourself (in a separate commit).::I'm in general not a big fan of ""with"", especially for something as broad as ""lib"". In some cases like for `meta = with lib; {` it's fairly well accepted but here it's not actually saving much imo.::Why is ""options"" in here? AFAICT it's not used anywhere.::I would rename to e.g. rtl433Flags to avoid confusion with extraFlags.::It's not used but it's [passed by Prometheus import](https://github.com/NixOS/nixpkgs/blob/97005a006c7a62aebdd79ccc2b2eb179991465bd/nixos/modules/services/monitoring/prometheus/exporters.nix#L53). Removing it fails the build.::Sure, removed.::Done.::That seems incorrect -- the flags are passed to rtl_433, not rtl_433_prometheus.::Good catch, fixed.::@willibutz Hi, I'm introducing a prom exporter that has a dependency on {a udev ruleset, the `plugdev` group}, which I've abstracted away through this `config.hardware.rtl-sdr` module (available in this PR). I'm trying to figure out the proper way to enable the `hardware.rtl-sdr` module when the `rtl_433` exporter is enabled too. The surrounding lines are doing the opposite (changing some exporter options when an external module is enabled) so I'm a bit confused what to do – I'm by no mean a NixOS expert. Thanks for your help!::This should be lib.mkEnableOption '' ... ''; (it doesn't take an attrset)::Done.::```suggestion { lib, buildGoModule, fetchFromGitHub, bash, nixosTests }: ```::```suggestion postPatch = ""substituteInPlace rtl_433_prometheus.go --replace /bin/bash ${bash}/bin/bash""; ```::```suggestion passthru.tests = { inherit (nixosTests.prometheus-exporters) rtl_433; }; ```::There is currently no nice way to do this, I'll need to take another look at moving these defaults in the exporter submodules. So I'd say this is fine, and better than setting this default in the `harware.rtl-sdr` module.::```suggestion pname = ""rtl_433-exporter""; ```::Maybe even rename the file and set pname to `prometheus-rtl_433-exporter`, since it is later referred to as that (starting with `all-packages.nix`). But as long as it is consistent in the end, I am fine with the current name as well :)::for future reference (but not relevant for this pr): instead of using `with lib;` to pull everything from `lib` in scope or specifying `lib.` everywhere, one can also pull in only the needed defintions as follows: ```nix { lib, ... }: let inherit (lib) mkOption # ... more stuff from lib types; in { options.example-module-option = mkOption { type = types.bool; # ... }; # ... } ```::ACK, not touching this.::Looking at neighboring files, they all use `pname` without the `prometheus-` suffix. Keeping it that way for consistency. Please reopen if you feel strongly about it :-)::Applied.::Applied.::Applied.::Oh right, that's fine :+1: ::",f816402fd0b1266d0bf3e7fc028b60da87f7ff5a::b9750a9b5769bd0669a9b1facc1d1b55c2e1c5f1::86fb21cde5d4c89fa3f10a77a79c6e46b45ff478::af28dac3ac66a51113b7b39cc6a056bba53945cb::121bc17ab970108a9b2c587f88fe9eafd87d0a8b::
https://api.github.com/repos/NixOS/nixpkgs,96364,matomo::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"#### Motivation for this chemail [Matomo 3.14.0](https://matomo.org/changelog/matomo-3-14-0/) released, should not require backporting to 20.03 in my opinion. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f0c65f21edc43dde27a732e39ff9d777d9cf05f4::
https://api.github.com/repos/NixOS/nixpkgs,96137,pelican/bump::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Bump to latest version. This version drops support for Python 2. See PR #87600 for discussion for backporting to `nixos-20.03`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",27960ecfa2e6f670f4195121132f3d8435e494f2::
https://api.github.com/repos/NixOS/nixpkgs,96033,buildbot-update::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Updates buildbot to the latest version. The SQLAlchemy fix patch has not been backported to the 2.8 branch, so we still need it. cc @nand0p @ryansydnor ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9422dd721a8871456135aa68bbdee96a71981f3c::
https://api.github.com/repos/NixOS/nixpkgs,95883,rescuetime-2.16.3.1::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: GNOME::6.topic: TeX::6.topic: emacs::6.topic: golang::6.topic: haskell::6.topic: nixos::6.topic: printing::6.topic: python::6.topic: qt/kde::6.topic: vim::8.has: changelog::8.has: documentation::8.has: module (update)::,"###### Motivation for this change I am trying to upgrade NixOS 20.03 but I can't because `rescuetime` is broken. See https://github.com/NixOS/nixpkgs/issues/87226. i.e. the following fails with a sha256 error: ```sh-session $ sudo nixos-rebuild switch --upgrade ``` I previously raised the PR https://github.com/NixOS/nixpkgs/pull/95860 to patch `nixos-20.03` but I think the process is to patch `master` first and then cherry-pick to backport. The shas were broken for 2.14.5.2 on `nixos-20.03` because the urls where pointing directly at the current version of rescuetime. The same is the case on `master` which has shas for the 2.16.2.1 `.deb` files. e.g. https://www.rescuetime.com/installers/rescuetime_current_amd64.deb So, I've upgraded to the latest version, fixed the urls, and changed the sha256s. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] ~macOS~ - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`). NOTE: only able to test amd64 platform. - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] ~Ensured that relevant documentation is up to date~ - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::```suggestion inherit version; pname = ""rescuetime""; ```::",4315835d63aa258615eb8ec977d52ff9cf7d5144::
https://api.github.com/repos/NixOS/nixpkgs,95688,backport_tor_browser_fix::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change tor-browser crash with certain website (like http://planet.blogsport.de/) in 20.03 original pull request: https://github.com/NixOS/nixpkgs/pull/93154 ###### Things done bissected the change and backported the change that fixed this <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",bfdf25f3ff5a9f1f379f4372aada780ba27f1892::
https://api.github.com/repos/NixOS/nixpkgs,95676,dovecot-2.3.11.3::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/95318 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",fcbe539d34435d0392e2c0d192c55c8813300e8a::c679e260980c15567af9355d1afa21e6fe471cd2::d24914ff0c8d700eb4cfaa534214fb18b8b4be39::
https://api.github.com/repos/NixOS/nixpkgs,95233,alpine-2-23-backport::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"(cherry picked from commit a8fa0269eebec8b75c6ed4f0cf47b83d76ce421f) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of #93087 to fix #92027; cc @ckauhaus ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",00c32cd3becf9ec84914041689318b1e7918ad6f::
https://api.github.com/repos/NixOS/nixpkgs,95206,gi-backport::staging-20.03,0,merged,10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 2501-5000::10.rebuild-linux: 501+::6.topic: nixos::8.has: module (update)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Backports the following PRs to stable: https://github.com/NixOS/nixpkgs/pull/86416 https://github.com/NixOS/nixpkgs/issues/85515 https://github.com/NixOS/nixpkgs/pull/85976 (so we can test that we didn't break wrapGAppsHook on stable with the backports) https://github.com/NixOS/nixpkgs/pull/85892 https://github.com/NixOS/nixpkgs/pull/85970  https://github.com/NixOS/nixpkgs/pull/85992 The following commits don't belong to a PR: https://github.com/NixOS/nixpkgs/commit/76f7fc1476cb046404b97a63cb861353d6097f16 https://github.com/NixOS/nixpkgs/commit/c9d988b0e19a2c7203af3b74388c0b754ac17e39 This is another minor bugfix that I thought I might as well backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4af94d33842555d2446f0c2ac1905d32667b1210::e1d83fcc0b0fc07d749a9512eaf21690b80462c0::7293136913c447f4b932f686300a3c846a78980d::572b49b1470fc1b3369927c59ec8c11da40f098b::c61471dde9fb4d9e646adbae53d396e54b3ae1cd::3419ccb5740ef84c6c357cdac8d9ecb3013fbcbd::2eda645134e52bed3a5b94f5fbacae2c8c9d7ea5::3e09a9537751bd33f3f69689c015bf547ad5fc45::0d341125c3de3f9506874f485b2bff5a58139784::22fdd693d8efc425d56c4f2c34626eeaba893b73::6a0f658dcfde3ac40796d44ef48b0af0d79cbc7d::b79747ead8fa0d4ea2294c04dcdd50f1d9ef55a0::
https://api.github.com/repos/NixOS/nixpkgs,95102,ris-openexr-2.4.1-r20.03::staging-20.03,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::,"###### Motivation for this change The `openexr` 2.3.x series hasn't had backports for at least 9 CVEs (see #88358) - I looked at doing them myself and the patches were just too dependent on other intervening changes for me to be able to have any confidence in them, especially what with `openexr` not having any tests enabled. They're also quite serious CVEs. So I think we've got to bite the bullet and bump 20.03 to ~2.4.1~ 2.4.2. Big rebuild, can't check it all myself, but I've checked `blender`, `gscan2pdf`, `gimp`, `opencv4`, `ufraw`, `openimageio`, `vips`, `imagemagick7`. Included fix from #86241 too to fix darwin. Tested macos 10.14. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a5449e7540b8559586bdc61c2589c7eb976db716::3c64d2addfa26b62f8245902ec60be94caeb011c::fceb87e537f0295a635221a88a07cceeb0005f72::
https://api.github.com/repos/NixOS/nixpkgs,94868,backport/openjdk8::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::,"###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` ``` ✘ asbachb@nixos  ~/dev/src/nix/nixpkgs   backport/openjdk8  nix-shell -p nixpkgs-review --run ""nixpkgs-review wip"" $ git -c fetch.prune=false fetch --force https://github.com/NixOS/nixpkgs master:refs/nixpkgs-review/0 remote: Enumerating objects: 85, done. remote: Counting objects: 100% (85/85), done. remote: Compressing objects: 100% (10/10), done. remote: Total 88 (delta 76), reused 78 (delta 75), pack-reused 3 Unpacking objects: 100% (88/88), 12.82 KiB | 397.00 KiB/s, done. From https://github.com/NixOS/nixpkgs 588940d405d..066c604eec6  master     -> refs/nixpkgs-review/0 $ git worktree add /home/asbachb/.cache/nixpkgs-review/rev-a3d104acfe7f3776779bfbdbb05ad4a035475303-dirty/nixpkgs 066c604eec6089e25aa5c4cc933decebdf8aa626 Preparing worktree (detached HEAD 066c604eec6) Updating files: 100% (22333/22333), done. HEAD is now at 066c604eec6 Merge pull request #94867 from Mic92/nixos-whitespace $ nix-env -f /home/asbachb/.cache/nixpkgs-review/rev-a3d104acfe7f3776779bfbdbb05ad4a035475303-dirty/nixpkgs -qaP --xml --out-path --show-trace No diff detected, stopping review... $ git worktree prune ``` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ec3bf7a909d4f4332286bc54839c65f56628ccc4::da0211c10d14631ee56d9c279f4415e0cb9bedee::a3d104acfe7f3776779bfbdbb05ad4a035475303::
https://api.github.com/repos/NixOS/nixpkgs,94817,backport-discord::release-20.03,0,merged,,"###### Motivation for this change backport #94811  #94814 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ``` https://github.com/NixOS/nixpkgs/pull/94817 3 packages built: discord discord-canary discord-ptb ```::",688b9fe2e1be411181e6f230050d84a8ffb7d969::aad66b9dc955a892fb29f0829a6f161aad623641::6bfe568bcedeadbb1635454ddd76296ac57f5909::
https://api.github.com/repos/NixOS/nixpkgs,94749,vala-update-20.03::staging-20.03,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 2501-5000::10.rebuild-linux: 501+::11.by: package-maintainer::6.topic: pantheon::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change So I can update elementary-files on stable. Alternative to https://github.com/NixOS/nixpkgs/pull/94711. It's likely the commit that fixed the build with vala in elementary-files in 0.48 was backported to 0.46. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",bebdaa353ec41ff44bded509c9a165cdcd27838d::e78679ed9817630af27df2696226fb9861a1c6ac::
https://api.github.com/repos/NixOS/nixpkgs,94746,backport/20.03/firefox-79::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: rust::8.has: clean-up::8.has: package (new)::,"cc @vcunat @andir @taku0 Thunderbird ~~is still compiling~~,seems to work fine. Although we could actually just not compile it with the newer rust. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::I would rather just remove the `rustcPatches` attribute from the 1.44 file instead of adding this here.::Should we also call this file `…_latest` like we did with a few other packages? It is always tiresome to rename it on every bump.::I am not a huge fan of updating cargo and rustc for all firefox packages. Why not just pull them in for those version of firefox where we need them like we do with `nss`, `nspr`, …?::Idk why I did it that way. I did it the other way now. Seems like a no-op `firefox`. `firefox-esr-78` still gets rebuilt, because of the nss/nspr bump, `firefox-esr-68` shouldn't be touched by this.::Last nitpick: SInce we are touching these lines how about we merge this block with the one above at line 19-22? Would be more consistent and we wouldn't have two ""blocks"" for backports :)::",39498eb9254558110484096e9261b11cd33045b0::3a9edda794bd6356efec2c78a2758740e25fa86c::de38facb667502825b3d4dcdfc406c45ff57db22::74ddece7310bded051942631ac5b7ccdc6a00b45::
https://api.github.com/repos/NixOS/nixpkgs,94703,94004-python-cve-2019-20907::staging,0,merged,10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::6.topic: python::,"###### Motivation for this change Patch issue directly instead of waiting for a new point release since I doubt that there will be another release for Python 2.7. Including the patch file in tree because the upstream patch target is Python 3 not Python 2. Needs backport to 20.03. Re #94004 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [x] other Linux distributions -> Ubuntu - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",dd8e5247e8ff10c949b9f2fc9c5ed6118415424c::
https://api.github.com/repos/NixOS/nixpkgs,94692,beets::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change 548 tests in beets were failing due to a breaking change to the ast module that was backported to python 3.8. https://github.com/beetbox/beets/pull/3621 https://github.com/python/cpython/pull/20649 The upstream patch did not apply cleanly onto 1.4.9, so here we are. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion ./compatibility-with-breaking-changes-to-the-ast-module.patch ```::",d55276d7c6c708512454c29bf6d8f733eed29208::
https://api.github.com/repos/NixOS/nixpkgs,94603,backport/openjdk11::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Backporting latest java release. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` ``` asbachb@nixos  ~/dev/src/nix/nixpkgs   backport/openjdk11  nix-shell -p nixpkgs-review --run ""nixpkgs-review wip"" these paths will be fetched (38.95 MiB download, 169.16 MiB unpacked): /nix/store/91qp2v2h0fd9d6b6hchzf13zki091grv-nixpkgs-review-2.3.1 /nix/store/b3zsk4ihlpiimv3vff86bb5bxghgdzb9-gcc-9.2.0 /nix/store/d43v6bx7r6fcaq3fbbfd5mwh1f5s7rmg-bash-interactive-4.4-p23-dev /nix/store/hrkc2sf2883l16d5yq3zg0y339kfw4xv-binutils-2.31.1 /nix/store/m6h7zh8w6s52clnyskffj5lbkakqgywn-gcc-wrapper-9.2.0 /nix/store/n48b8n251dwwb04q7f3fwxdmirsakllz-binutils-wrapper-2.31.1 /nix/store/sm7kk5n84vaisqvhk1yfsjqls50j8s0m-stdenv-linux /nix/store/y7bnk8yvamaqfh19vvfapp2412qniipl-expand-response-params copying path '/nix/store/91qp2v2h0fd9d6b6hchzf13zki091grv-nixpkgs-review-2.3.1' from 'https://cache.nixos.org'... copying path '/nix/store/y7bnk8yvamaqfh19vvfapp2412qniipl-expand-response-params' from 'https://cache.nixos.org'... copying path '/nix/store/b3zsk4ihlpiimv3vff86bb5bxghgdzb9-gcc-9.2.0' from 'https://cache.nixos.org'... copying path '/nix/store/d43v6bx7r6fcaq3fbbfd5mwh1f5s7rmg-bash-interactive-4.4-p23-dev' from 'https://cache.nixos.org'... copying path '/nix/store/hrkc2sf2883l16d5yq3zg0y339kfw4xv-binutils-2.31.1' from 'https://cache.nixos.org'... copying path '/nix/store/n48b8n251dwwb04q7f3fwxdmirsakllz-binutils-wrapper-2.31.1' from 'https://cache.nixos.org'... copying path '/nix/store/m6h7zh8w6s52clnyskffj5lbkakqgywn-gcc-wrapper-9.2.0' from 'https://cache.nixos.org'... copying path '/nix/store/sm7kk5n84vaisqvhk1yfsjqls50j8s0m-stdenv-linux' from 'https://cache.nixos.org'... $ git -c fetch.prune=false fetch --force https://github.com/NixOS/nixpkgs master:refs/nixpkgs-review/0 From https://github.com/NixOS/nixpkgs f9b0bc3f297..588940d405d  master     -> refs/nixpkgs-review/0 $ git worktree add /home/asbachb/.cache/nixpkgs-review/rev-c4bb2630f5add9ca417910bb1f285e21d6a8949f-dirty/nixpkgs 588940d405de503d60751bfe965fe772cbb91bde Preparing worktree (detached HEAD 588940d405d) Updating files: 100% (22285/22285), done. HEAD is now at 588940d405d Merge pull request #94570 from r-ryantm/auto-update/python2.7-autopep8 $ nix-env -f /home/asbachb/.cache/nixpkgs-review/rev-c4bb2630f5add9ca417910bb1f285e21d6a8949f-dirty/nixpkgs -qaP --xml --out-path --show-trace No diff detected, stopping review... $ git worktree prune ``` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5cf660465e29b160502103769004452f0bf33c8f::c4bb2630f5add9ca417910bb1f285e21d6a8949f::
https://api.github.com/repos/NixOS/nixpkgs,94346,qgis-3.10.8::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::2.status: merge conflict::,"###### Motivation for this change Update qo 3.10.8 and properly fix #37042 (again). I’ll backport to release-20.03 once accepted. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",811a868fd47b51bfc0b8c078b48b6f389eec08a5::58c2735d477fa6beb5b8ed78b5dc7a537c3f7b67::
https://api.github.com/repos/NixOS/nixpkgs,94309,graylog_3.3.3_backport::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: changelog::8.has: documentation::,"Backport of #94253 due to security fixes. When all the following conditions are met this change might break an existing setup: * Graylog LDAP authentication is used * LDAP communication is SSL/TLS secured * `Allow self-signed certificates` is *not enabled* (this toggle had no effect before and self-signed certs were *always* accepted) * The used certificate can not be validated with the information available from the local keystore Graylog release info notes: > To avoid this, please ensure that all certificates used are valid, their common name matches the host part of your configured LDAP server and your local keystore contains all CA/intermediate certs required for validation. How to deal with this issue was discussed between @Ma27 and me. We decided to backport this to 20.03 due to the very specific circumstances required to run into this issue, the fact that upstream is aware of the breaking change in a patch release and the infeasibility of creating a robust check for this <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3de1ba01fd68d3cea088e615c76cd1aea3e5472e::6a6cbf03d8ffd19fe992d5289718a7b9602b14ca::
https://api.github.com/repos/NixOS/nixpkgs,94200,tbb-fix-source::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change The 9.5 release doesn't seem to be present on torproject.org anymore; that made it impossible to build the package with 9.5, hence the upgrade. Also, Tor Browser updates are often about security fixes, so probably this is worth backporting to 20.03 too. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3fc3b98dd540dcc3d494288ad2bc9a5735294ed7::
https://api.github.com/repos/NixOS/nixpkgs,93846,epkowa-hases::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::9.needs: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change #93812 Also needs a backport to 20.03 please ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",309b881d74bb6c16a22d3a94ebe78d8ef4c8e8ad::
https://api.github.com/repos/NixOS/nixpkgs,93668,u-20.03/mattermost-desktop-4.5.2::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change This is a backport of #93667. Again, only the 64-bit build was tested. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",45d16145cd0fd6d8ed44fd0770e4d8bcf537da6d::
https://api.github.com/repos/NixOS/nixpkgs,93667,u/mattermost-desktop-4.5.2::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Fixes #93603. Tested only the 64-bit build, will also backport the PR. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ac32443ab31aac01944bdadc1a0bd881e8c85032::
https://api.github.com/repos/NixOS/nixpkgs,93550,haskell-streaming-osm-1.0.2::release-20.03,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: haskell::,"###### Motivation for this change This fixes a [bug in the parser](https://github.com/fosskers/streaming-osm/issues/3), where member IDs in Openstreetmap files were not correctly parsed. This update significantly increases the usability of the package. Also it's a leaf. ###### Things done Partial backport of 91a8ed37af2da06cd9808906440eadf3e9d3910f. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4a9973a0175b67d77bd7cb57c513689116ab5fd2::
https://api.github.com/repos/NixOS/nixpkgs,93496,backport-fontforge::staging-20.03,0,merged,10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::8.has: package (new)::,"###### Motivation for this change I noticed that the version in stable has vulnerabilities. https://repology.org/project/fontforge/cves?version=20190413 Not sure why it was not backported. https://github.com/NixOS/nixpkgs/issues/88291 ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a7447ffc77d20ce1a1f02ed2fd3a737833b079b2::99b72d2248d1264bb1ac828df896c54cd3637b4d::
https://api.github.com/repos/NixOS/nixpkgs,93279,20.03.nextcloud1807::release-20.03,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"(cherry picked from commit 34ec5c7b67c7e92c817fba56e9dcff6da49c9bc3) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of #93278 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4f5fb2b2b3842aee531b1210d6deeded2dfecec9::
https://api.github.com/repos/NixOS/nixpkgs,93114,gnome-20.03::release-20.03,1,merged,10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::6.topic: GNOME::8.has: documentation::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change I have: * ran `update.nix` * excluded updates that didn't make sense * did one's outside the version bound that did make sense * did backports from master where possible I haven't built anything, not sure if I should split this into a `staging-20.03` PR and a `release-20.03` PR. --- This is a re-PR of https://github.com/NixOS/nixpkgs/pull/85974, but on a gnome-20.03 branch in nixpkgs because I need a hydra jobset. https://hydra.nixos.org/jobset/nixpkgs/gnome-stable#tabs-evaluations ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",55440620d288fbba110106227eb4a6b3f03b1c0a::cc62e4ac9b119ee8f1cc8a7c61380d48511f4b5a::c86b30d0b79c02ef9ebf228a1082a8fa933e6948::04605a2c82103877c80f91af0d2db41b6b9d79cd::7f9b768c68b94a865f93001f1ad6ceddae9a93c9::41b761ff80ce0f3dd48035996c14111e2a9f9508::c1cbbf6f9e253a8020c9216296afbc9eff9a02ab::b76158233d838a10b1c5a2e0d6ee9f2416478ffa::9f2f229eda15a126b3b2c329df2e6a1193ffec9e::6a961d5f7a7df4df270f642a0086fba9bfab690e::ca3907b93b69bfc9b18ecd5ce1b0f74cce015626::f43adfa039459f648a599ee96c1144a2cfa08245::a8d9ec140b64ab835e2dd3e5a1ac0158874e7d0f::b5c93910de4b7ae2f4edaa54bb440f02cc597317::da73ececa6a45a9b22126cc401993c919e46c81f::ac6215132462c2e540c23902e991dde5c16aa18d::23204c349cb0837b530167026d043962604103f1::2fb313472aaf6f3ea4729c1e21b3362478d3458f::f4113b6b74891fd228a847108f5a396ec0ed1b09::d2d5b0298d58641c33f2d63c2a8cc7dcd7a213a6::014f823beb235a257661135da525adf2e14955d5::8a4114904781bc72d8d299408f5ad61b5b9e8c73::6501ad94ad341ec72ed7b9523bbfe288c9246186::fe069c98e3d3d7018e140eb9791f57f2327353e8::72093330e18956741462df52c726f0ef6b1674cc::e0d46efffbeb4f88e1b00dca08ebed37e7251d4a::3d3b1313b05451f5ca2f5aac39c4f20664164cb2::8dc1cc4b40300ef4c2411c9be15224f0ece6bf90::88d9fd28bc7b2fd82ceaf77329d53594fe5e76b1::1304fc40c6a6ed1c94be59e8e94d735906f2af67::c04621c281a0c6483297a4b7ccecb6040bbd7260::551c8f38ef70d73002a8f44e06ddfc4c07c8895c::fb96add048b748e887c9d2ebadd60c0cdcd3940e::22462acdd943e2fe2610e090cdd0d0ec014327c5::414c8e550394b5847dd8f7fd60cbfb5597ec4fcd::8fe78f848368aa380835075e50690da9e63b1f7e::2ab643a1db54c6751e5fbb45d6d902e7d65b8d7c::ef322888e933ed9eb3bca365a2852bcc620f57ec::e099a669a448f6747b91315995ca551138f521dd::c5d806df573152741ccec29caf0ca1c9ce812e40::a9068c92aa63f22cc692f4e9dce3ac9ef375fcfe::74c6d7a867e16ee26ebd4917895ffa12abd14647::2b617db5198e5864fa3ac3046735aad5537f9163::9921ec16b34f095c3b1a9126c6b5194b58e51c77::b299ce23600ab5197f0ac84dfe5b00b318eb2f98::4548430d37b155be139f9bba4389d810c290f258::eb95a265d050b56109b3599b75f05c790ad709b2::d769ff6f86c71134c42e24f74077c9e979e189f6::3893b59bc8c4cfd69eacc5ee7ccc2f1bbe821292::3dd742586a45aa90d3b5f0c4b80240dc2d6cc8fd::d7a350e27c5e1bfbde70668d3a06238704e10d2c::26ef93b868c71b14a4a334138076013c367eff63::2e5c1808b32611c19d652a47efb37a93e09c5504::e78b7aa1269eb21abc50880b29498b56f23a1390::
https://api.github.com/repos/NixOS/nixpkgs,92977,mesa-20.1::staging,0,merged,10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"###### Motivation for this change Updates `mesa` to latest stable release (20.1.3). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion version = ""20.1.3""; ``` I thought this **might** make sense but I do now think it's actually a bad idea (since #92807 is already the first reported bug that is fixed with the next feature release and feature releases will most likely often include fixes that won't get backported, especially to an EOL release).::",d49b8e7ff5d374bc6ae9053b547d415982f11b6a::5b10687a10bde46b71fb17922e35192a6965a56e::
https://api.github.com/repos/NixOS/nixpkgs,92856,yarn2nix-yarnNix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change The generated yarnNix file doesn't need to be part of the mkDerivation. And doing so prevents other platforms from reproducibly instantiating it. With this change you can e.g. do ```nix darwinPkgs.yarn2nix.mkYarnPackage { # ... yarnNix = pkgs.yarn2nix.mkYarnNix { yarnLock = ./yarn.lock; }; } ``` Which is a darwin derivation, but can still be instantiated reproducibly on Linux. Ping @zimbatm @moretea @petabyteboy I will backport this to stable when merged. This PR is sponsored by [Niteo](https://niteo.co/) :sparkles: ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",713826c35ec84f0d222d5c464e3da8aad19b1588::
https://api.github.com/repos/NixOS/nixpkgs,92845,ruamel-backport::release-20.03,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change This is a backport of https://github.com/NixOS/nixpkgs/pull/80400. Original text: > It looks like the ruamel python packages have moved from bitbucket to sourceforge. See for example https://bitbucket.org/ruamel/yaml.clib > This mainly affects ruamel.yaml.clib which was getting source from bitbucket, which now 404s. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7cc021257aef2617fe731734f11407fcf0cc8674::a8688c7b992b8b0789e91c967161b015ccab4ede::
https://api.github.com/repos/NixOS/nixpkgs,92791,ceph-15::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::6.topic: python::8.has: package (new)::,"###### Motivation for this change Bump ceph to newest major release. Singlenode and Multinode tests pass locally. I also performed a full upgrade from Nautilus to Octopus on our test cluster. Everything works as expected. Regarding the SPDK-build-env patch: I re-aligned the patch, as it didn't apply correctly. However; I hope someone can help me verify at some point whether this patch is even needed anymore? I don't know what it does in detail other than enabling some machine arch specific features. Regarding scipy: ceph-mgr hangs during startup due to incompatibility with newer scipy versions, thus the version downgrade. Thanks @srhb. Ceph has changed a lot of config defaults and it is recommended to read the release notes before upgrading: https://docs.ceph.com/docs/master/releases/octopus/#v15-2-4-octopus ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::propagatedBuildInputs or nativeBuildInputs, depending on whether they are needed only during build-time of the wheel, or during runtime.::Done. Changed to propagatedBuildInputs. :)::From the PR description: > ceph-mgr hangs during startup due to incompatibility with newer scipy versions, thus the version downgrade. Thanks @srhb. Please put a comment on this here. What is known about this bug? Is there an upstream issue? I tried to upgrade our Ceph (packaged via a separate derivation), noticed the `ceph-mgr` hang, but did not figure out how to fix it. How did you find out @srhb?::Upstream issues are here: https://tracker.ceph.com/issues/42764 and here: https://tracker.ceph.com/issues/45147. AFAIK, the current official upstream solution is to disable the diskprediction_local module if python is >= 3.8 instead of trying to fix the actual problem (https://github.com/ceph/ceph/pull/34846/files), since Python 3.8 is not officially supported. However, @srhb figured that downgrading scipy made diskprediction_local runnable. Better wait for her to give an explanation on that part :)::@nh2 I can add a comment with the links on monday. I figured it out with strace on the mgr threads and noticing that one of them was stuck deep in scipy land. From there, I found the above issues, which upstream doesn't seem terribly keen on fixing, because RHEL/Ubuntu don't use a new enough python/scipy to even experience the problem yet. As such, I consider the scipy downgrade our best path, because local disk prediction is a potentially nice feature to have, and hopefully upstream will become compatible in time so that we can drop the old scipy. I'll comment to that effect in the pr. :smile: ::er, not strace, gdb*::Oh, by the way, currently they don't intend to backport the diskprediction_local disable ""hotfix"" for the same reasons (RHEL/Ubuntu are unaffected) so the alternative solution would be to patch it in from ceph master which also works, but I don't think that's as nice. I also expect they will eventually change stance on the backport once more non-RHEL/Ubuntu ceph users upgrade to octopus.::We could also just flip to python 3.7 here instead of 3.8, couldn't we? It's probably less maintenance overhead than manually verifying compatibility with each python module.::I'm not sure I actually tested that, but I can certainly try and see if it works. :+1: ::No go with `pythonPackages37` -- and with `pythonPackages36` I run into dependency hell with a load of other deps. I'm inclined to keep this solution. I've added the issue links inline, PTAL. :smile: ::Fair enough.::Thanks! :+1: ::",0dea5dff3639a4729fce9ec453c4f69cb59d31a1::4f39f93d8eea89516a4db0d69a618a8d85342e27::7994b9405793abb0aa7930761797ed956cf817c5::
https://api.github.com/repos/NixOS/nixpkgs,92724,backport/rippled-1.5.0::release-20.03,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"(cherry picked from commit 3fc86629ed549e18102fcc2f6b71f2a88d2e5ebd) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change The ripple blockchain network has undergone a couple of upgrades which prevent nodes <1.5.0 from interacting with the network. This is a breaking upgrade, and thus 1.5.0 should be backported Cherry picks from #92308 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",03bb38b1955536ace13bfc4c27825546ac3b4816::
https://api.github.com/repos/NixOS/nixpkgs,92684,pantheon-updates-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: nixos::6.topic: pantheon::8.has: documentation::8.has: module (update)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backports https://github.com/NixOS/nixpkgs/pull/92587 and some depending commits ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1f0e4434a9964982f17d2d61328a229f2d5b2c19::c90edd394b5b11d65cfa6d92d6193136bf28ba5d::68264dc20e9c32a3c38e4a1f5f4827d6dffe5f80::1919b1f310b14f68e5661f23ec2fc0a9ff95126e::d622da56d733cbd713a95bf7d01993ec57654d1a::e2a3caa678d9bda3ca4becbe5d8959a6e646ec25::d7511a6864b9ef0645f0ec50594bc03a95187227::93a3d2f1885225f50f18dd3b4c996224215efba0::3e4657510613b1b8f6fecb49c0472139a7882a2a::59d798ec615518582fa2fd0452194d96224aa08e::fdd815515f94c5b5005c210970d1d5ac998be31b::d5a4a823039a85633a54384f60f30061c53a981a::579cdb89d9cc4e32731678792a4f6318e5f05f4b::
https://api.github.com/repos/NixOS/nixpkgs,92615,backport::release-20.03,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Stable backport of #91327 I've check locally that: * `rustup` builds and works * nightly rust downloaded by rustup works () ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7fb99d675a10db65962fb7387920486341ba6080::
https://api.github.com/repos/NixOS/nixpkgs,92230,teams-backport::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change - because of electron and since it depends on external services, we should backport applications such as teams cc @devhell @liff ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5f739b6131e7312c16f7519972adbd4d03d8716e::97f8181843671138b18af2fd21b607dc739eab30::
https://api.github.com/repos/NixOS/nixpkgs,92101,2003-synapse-1152::release-20.03,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"(cherry picked from commit e5c4f3777fb999b098c8961efb91fe0a15487e73) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of #92098 Security release, see https://github.com/matrix-org/synapse/blob/release-v1.15.2/CHANGES.md#synapse-1152-2020-07-02 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",8365941177f19d357a7d1151f2d5e583f5f0ab3e::
https://api.github.com/repos/NixOS/nixpkgs,92099,deprecate-python2-pkgs::staging,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: clean-up::,"###### Motivation for this change felt like this is overdue. Python has been EOL for >5 months now, also has active CVEs. This isn't to kill the package set, but rather not have hydra build the packages, and `nixpkgs-review` will no longer test python2 packages for breakages. https://discourse.nixos.org/t/what-should-i-expect-to-find-in-cache-nixos-org/7935/5 cc @FRidh ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ``` 1 package added: svg2tikz (init at 1.0.0) 2413 packages removed: addic7ed-cli (†1.4.6) appleseed (†2.0.5-beta) avahi (†0.7) behave (†1.2.6) boost (†1.69.0) codespell (†1.17.1) dtc (†1.6.0) eccodes (†2.12.5) egg-build-hook.sh (†) egg-install-hook.sh (†) egg-unpack-hook.sh (†) fontforge (†20200314) gaia (†2.4.6) galario (†1.2.1) gdal (†3.0.4) gdown (†3.11.1) google-compute-engine (†20190124) gpgme (†1.13.1) gprof2dot (†2019-11-30) grib-api (†1.28.0) gwyddion (†2.55) hepmc3 (†3.2.0) hook (†) hoomd-blue (†2.3.4) jsbeautifier (†1.11.0) libiio (†0.20) libmodulemd (†2.9.2) libnl (†3.5.0) libpam-wrapper (†1.1.3) libplist (†2019-04-04) librepo (†1.11.3) libselinux (†2.9) libtorrent-rasterbar (†1.2.6) libxml2 (†2.9.10) libxslt (†1.1.34) mininet (†2.3.0d6) mypy-protobuf (†1.21) neuron (†7.5) neuron (†7.5) nghttp2 (†1.40.0) nixpart (†0.4.1) nixpart (†1.0.0) opencv (†3.4.8) opencv (†4.3.0) opencv (†4.3.0) or-tools (†7.6) ovito (†3.0.0) pip-build-hook.sh (†) pip-install-hook (†) py3buddy-unstable (†2019-09-29) pyblock (†0.53) pyside2 (†5.12.3) pyside2-tools (†5.12.3) pytest-check-hook (†) python (†2.7.18) python-catch-conflicts-hook (†) python-imports-check-hook.sh (†) python-namespaces-hook.sh (†) python-notify (†0.1.1) python-recompile-bytecode-hook (†) python-recursive-pth-loader (†1.0) python-remove-bin-bytecode-hook (†) python-remove-tests-dir-hook (†) python2.7-aafigure (†0.6) python2.7-absl-py (†0.9.0) python2.7-acme (†1.3.0) python2.7-acme-tiny (†4.1.0) python2.7-adal (†1.2.4) python2.7-adb-homeassistant (†1.3.1) python2.7-aenum (†2.2.3) python2.7-affine (†2.3.0) python2.7-affinity (†0.1.0) python2.7-agate (†1.6.1) python2.7-agate-dbf (†0.2.1) python2.7-agate-excel (†0.2.3) python2.7-agate-sql (†0.5.4) python2.7-aioconsole (†0.1.16) python2.7-aiodns (†2.0.0) python2.7-aioeventlet (†0.5.2) python2.7-ajpy (†0.0.5) python2.7-alabaster (†0.7.12) python2.7-alembic (†1.4.2) python2.7-allpairspy (†2.5.0) python2.7-amazon_kclpy (†1.5.0) python2.7-amqp (†2.6.0) python2.7-amqplib (†1.0.2) python2.7-androguard (†3.3.5) python2.7-aniso8601 (†8.0.0) python2.7-annexremote (†1.3.1) python2.7-annoy (†1.16.3) python2.7-anonip (†1.0.0) python2.7-ansi (†0.1.5) python2.7-ansi2html (†1.5.2) python2.7-ansible (†2.9.10) python2.7-ansicolor (†0.2.6) python2.7-ansicolors (†1.1.8) python2.7-ansiconv (†1.0.0) python2.7-ansiwrap (†0.8.4) python2.7-antlr4-python2-runtime (†4.7.2) python2.7-anyjson (†0.3.3) python2.7-anytree (†2.8.0) python2.7-apache-libcloud (†2.8.2) python2.7-apipkg (†1.5) python2.7-appdirs (†1.4.4) python2.7-applicationinsights (†0.11.9) python2.7-apprise (†0.8.5) python2.7-approvaltests (†0.2.6) python2.7-APScheduler (†3.6.3) python2.7-apsw (†3.32.2-r1) python2.7-area (†1.1.1) python2.7-argcomplete (†1.11.1) python2.7-argh (†0.26.2) python2.7-argon2_cffi (†19.2.0) python2.7-args (†0.1.0) python2.7-Arpeggio (†1.9.2) python2.7-arrow (†0.15.6) python2.7-arxiv2bib (†1.0.8) python2.7-asana (†0.8.2) python2.7-asciimatics (†1.11.0) python2.7-asciitree (†0.3.3) python2.7-ase (†3.17.0) python2.7-asn1ate (†0.6) python2.7-asn1crypto (†1.3.0) python2.7-aspy.yaml (†1.3.0) python2.7-astor (†0.8.1) python2.7-astroid (†1.6.6) python2.7-asttokens (†2.0.4) python2.7-astunparse (†1.6.3) python2.7-atlassian-python-api (†1.15.9) python2.7-atomiclong (†0.1.1) python2.7-atomicwrites (†1.4.0) python2.7-atsim.potentials (†0.2.1) python2.7-attrdict (†2.0.1) python2.7-attrs (†19.3.0) python2.7-audioread (†2.1.8) python2.7-audiotools (†3.1.1) python2.7-augeas (†1.1.0) python2.7-auth0-python (†3.10.0) python2.7-authheaders (†0.13.0) python2.7-authlib (†0.14.3) python2.7-authres (†1.2.0) python2.7-autograd (†1.3) python2.7-Autologging (†1.3.2) python2.7-Automat (†20.2.0) python2.7-autopep8 (†1.5.3) python2.7-avro (†1.9.2) python2.7-awesome-slugify (†1.6.5) python2.7-awkward (†0.12.21) python2.7-aws-lambda-builders (†0.8.0) python2.7-aws-sam-translator (†1.24.0) python2.7-aws-xray-sdk (†2.5.0) python2.7-azure-applicationinsights (†0.1.0) python2.7-azure-batch (†9.0.0) python2.7-azure-common (†1.1.25) python2.7-azure-cosmos (†3.1.2) python2.7-azure-cosmosdb-nspkg (†2.0.2) python2.7-azure-cosmosdb-table (†1.0.6) python2.7-azure-datalake-store (†0.0.48) python2.7-azure-eventgrid (†1.3.0) python2.7-azure-functions-devops-build (†0.0.22) python2.7-azure-graphrbac (†0.61.1) python2.7-azure-keyvault-nspkg (†1.0.0) python2.7-azure-loganalytics (†0.1.0) python2.7-azure-mgmt-advisor (†4.0.0) python2.7-azure-mgmt-applicationinsights (†0.3.0) python2.7-azure-mgmt-authorization (†0.60.0) python2.7-azure-mgmt-batch (†9.0.0) python2.7-azure-mgmt-batchai (†2.0.0) python2.7-azure-mgmt-billing (†0.2.0) python2.7-azure-mgmt-cdn (†4.0.0) python2.7-azure-mgmt-cognitiveservices (†6.2.0) python2.7-azure-mgmt-commerce (†1.0.1) python2.7-azure-mgmt-common (†0.20.0) python2.7-azure-mgmt-compute (†12.0.0) python2.7-azure-mgmt-consumption (†3.0.0) python2.7-azure-mgmt-containerinstance (†1.5.0) python2.7-azure-mgmt-containerservice (†9.0.1) python2.7-azure-mgmt-cosmosdb (†0.14.0) python2.7-azure-mgmt-datafactory (†0.10.0) python2.7-azure-mgmt-datalake-analytics (†0.6.0) python2.7-azure-mgmt-datalake-nspkg (†3.0.1) python2.7-azure-mgmt-datalake-store (†0.5.0) python2.7-azure-mgmt-datamigration (†4.0.0) python2.7-azure-mgmt-devspaces (†0.2.0) python2.7-azure-mgmt-devtestlabs (†4.0.0) python2.7-azure-mgmt-dns (†3.0.0) python2.7-azure-mgmt-eventgrid (†2.2.0) python2.7-azure-mgmt-eventhub (†3.1.0) python2.7-azure-mgmt-hanaonazure (†0.14.0) python2.7-azure-mgmt-iotcentral (†3.0.0) python2.7-azure-mgmt-iothub (†0.12.0) python2.7-azure-mgmt-iothubprovisioningservices (†0.2.0) python2.7-azure-mgmt-keyvault (†2.2.0) python2.7-azure-mgmt-loganalytics (†0.6.0) python2.7-azure-mgmt-logic (†3.0.0) python2.7-azure-mgmt-machinelearningcompute (†0.4.1) python2.7-azure-mgmt-managementgroups (†0.2.0) python2.7-azure-mgmt-managementpartner (†0.1.1) python2.7-azure-mgmt-maps (†0.1.0) python2.7-azure-mgmt-marketplaceordering (†0.2.1) python2.7-azure-mgmt-media (†2.1.0) python2.7-azure-mgmt-monitor (†0.9.0) python2.7-azure-mgmt-msi (†1.0.0) python2.7-azure-mgmt-network (†10.2.0) python2.7-azure-mgmt-notificationhubs (†2.1.0) python2.7-azure-mgmt-nspkg (†3.0.2) python2.7-azure-mgmt-policyinsights (†0.5.0) python2.7-azure-mgmt-powerbiembedded (†2.0.0) python2.7-azure-mgmt-rdbms (†2.2.0) python2.7-azure-mgmt-recoveryservices (†0.5.0) python2.7-azure-mgmt-recoveryservicesbackup (†0.7.0) python2.7-azure-mgmt-redis (†6.0.0) python2.7-azure-mgmt-relay (†0.2.0) python2.7-azure-mgmt-reservations (†0.7.0) python2.7-azure-mgmt-resource (†10.0.0) python2.7-azure-mgmt-scheduler (†2.0.0) python2.7-azure-mgmt-search (†2.1.0) python2.7-azure-mgmt-servicebus (†0.6.0) python2.7-azure-mgmt-servicefabric (†0.4.0) python2.7-azure-mgmt-signalr (†0.4.0) python2.7-azure-mgmt-sql (†0.18.0) python2.7-azure-mgmt-storage (†10.0.0) python2.7-azure-mgmt-subscription (†0.5.0) python2.7-azure-mgmt-trafficmanager (†0.51.0) python2.7-azure-mgmt-web (†0.47.0) python2.7-azure-nspkg (†3.0.2) python2.7-azure-servicebus (†0.50.3) python2.7-azure-servicefabric (†7.1.0.45) python2.7-azure-servicemanagement-legacy (†0.20.7) python2.7-azure-storage (†0.36.0) python2.7-azure-storage-blob (†2.1.0) python2.7-azure-storage-common (†2.1.0) python2.7-azure-storage-file (†2.1.0) python2.7-azure-storage-nspkg (†3.1.0) python2.7-azure-storage-queue (†2.1.0) python2.7-Babel (†2.7.0) python2.7-babelfish (†0.5.5) python2.7-backcall (†0.1.0) python2.7-backports.csv (†1.0.7) python2.7-backports.functools_lru_cache (†1.6.1) python2.7-backports.lzma (†0.0.14) python2.7-backports.os (†0.1.1) python2.7-backports.shutil_get_terminal_size-unstable (†2016-02-21) python2.7-backports.shutil_which (†3.5.2) python2.7-backports.ssl_match_hostname (†3.7.0.1) python2.7-backports.tempfile (†1.0) python2.7-backports.unittest_mock (†1.5) python2.7-backports.weakref (†1.0.post1) python2.7-backports_abc (†0.5) python2.7-bacpypes (†0.18.0) python2.7-bap (†1.3.1) python2.7-bashlex (†0.14) python2.7-batinfo (†0.4.2) python2.7-bayesian-optimization (†1.1.0) python2.7-bcdoc (†0.16.0) python2.7-bcrypt (†3.1.7) python2.7-beanstalkc (†0.5.2) python2.7-beautifulsoup4 (†4.9.1) python2.7-BespON (†0.4.0) python2.7-betamax (†0.8.1) python2.7-betamax-matchers (†0.4.0) python2.7-betamax-serializers (†0.2.1) python2.7-bibtexparser (†1.1.0) python2.7-bids-validator (†1.5.2) python2.7-billiard (†3.6.3.0) python2.7-binaryornot (†0.4.4) python2.7-binwalk (†2.2.0) python2.7-binwalk-full (†2.2.0) python2.7-bitarray (†1.2.2) python2.7-bitbucket-api (†0.5.0) python2.7-bitbucket-cli (†0.5.1) python2.7-bitcoin-price-api (†0.0.4) python2.7-bitmath (†1.3.3.1) python2.7-bitstring (†3.1.5) python2.7-bitstruct (†8.11.0) python2.7-bjoern (†3.1.0) python2.7-bkcharts (†0.2) python2.7-bleach (†3.1.5) python2.7-blessed (†1.15.0) python2.7-blessings (†1.7) python2.7-blinker (†1.4) python2.7-BlinkStick (†1.1.8) python2.7-blis (†0.4.1) python2.7-blist (†1.3.6) python2.7-blivet (†0.67) python2.7-bluepy (†1.3.0) python2.7-boltons (†20.1.0) python2.7-boolean.py (†3.7) python2.7-bootstrapped-pip (†20.1.1) python2.7-boto (†2.49.0) python2.7-boto3 (†1.14.3) python2.7-botocore (†1.17.3) python2.7-bottle (†0.12.18) python2.7-Bottleneck (†1.3.2) python2.7-Box2D (†2.3.2) python2.7-bpython (†0.19) python2.7-braintree (†4.1.0) python2.7-branca (†0.4.1) python2.7-broadlink (†0.14.0) python2.7-brotli (†1.0.7) python2.7-brotlipy (†0.7.0) python2.7-browsermob-proxy (†0.8.0) python2.7-bsddb3 (†6.2.7) python2.7-bt-proximity (†0.0.20180217) python2.7-btchip-python (†0.1.28) python2.7-bugsnag (†3.6.1) python2.7-bugz (†0.9.3-0.13) python2.7-bumps (†0.7.14) python2.7-bunch (†1.0.1) python2.7-bz2file (†0.98) python2.7-CacheControl (†0.12.6) python2.7-cached-property (†1.5.1) python2.7-cachelib (†0.1) python2.7-cachetools (†3.1.1) python2.7-cachy (†0.3.0) python2.7-cairocffi (†0.9.0) python2.7-CairoSVG (†1.0.22) python2.7-caldav (†0.7.0) python2.7-caldavclientlibrary-asynk-asynkdev (†) python2.7-canmatrix (†0.8) python2.7-canonicaljson (†1.1.4) python2.7-canopen (†0.5.1) python2.7-capstone (†4.0.2) python2.7-capturer (†3.0) python2.7-carbon (†1.1.7) python2.7-carrot (†0.10.7) python2.7-case (†1.5.3) python2.7-cassandra-driver (†3.23.0) python2.7-casttube (†0.2.1) python2.7-cbor (†1.0.0) python2.7-cbor2 (†5.1.0) python2.7-cchardet (†2.1.6) python2.7-CDDB (†1.4) python2.7-cdecimal (†2.3) python2.7-Cerberus (†1.3.2) python2.7-certifi (†2020.4.5.1) python2.7-certipy (†0.1.3) python2.7-cffi (†1.14.0) python2.7-cfn-flip (†1.2.2) python2.7-cfn-lint (†0.33.0) python2.7-cgen (†2020.1) python2.7-cgroup-utils (†0.8) python2.7-chai (†1.1.2) python2.7-chainmap (†1.0.3) python2.7-chalice (†1.14.1) python2.7-Chameleon (†3.7.2) python2.7-characteristic (†14.3.0) python2.7-chardet (†3.0.4) python2.7-chart-studio (†1.0.0) python2.7-check-manifest (†0.42) python2.7-cheetah (†2.4.4) python2.7-chevron (†0.13.1) python2.7-ciso8601 (†2.1.3) python2.7-citeproc-py (†0.5.1) python2.7-cld2-cffi (†0.1.4) python2.7-clf (†0.5.7) python2.7-cliapp (†1.20150305) python2.7-click (†7.1.2) python2.7-click-default-group (†1.2.2) python2.7-click-didyoumean (†0.0.3) python2.7-click-log (†0.3.2) python2.7-click-plugins (†1.1.1) python2.7-click-repl (†0.1.6) python2.7-click-threading (†0.4.4) python2.7-clickclick (†1.2.2) python2.7-cligj (†0.5.0) python2.7-clint (†0.5.1) python2.7-clize (†4.1.1) python2.7-cli_helpers (†2.0.1) python2.7-closure-linter (†2.3.19) python2.7-cloudflare (†2.7.1) python2.7-ClusterShell (†1.8.3) python2.7-cma (†2.7.0) python2.7-cmarkgfm (†0.4.2) python2.7-cmdline (†0.2.0) python2.7-cmdtest (†0.32) python2.7-CNTK (†2.7) python2.7-cocotb (†1.3.1) python2.7-codecov (†2.1.4) python2.7-cogapp (†3.0.0) python2.7-coinmarketcap (†5.0.3) python2.7-colander (†1.7.0) python2.7-ColanderAlchemy (†0.3.3) python2.7-colorama (†0.4.3) python2.7-colorclass (†2.2.0) python2.7-colored (†1.4.2) python2.7-coloredlogs (†10.0) python2.7-colorlog (†4.1.0) python2.7-colorlover (†0.3.0) python2.7-colormath (†3.0.0) python2.7-colorspacious (†1.1.2) python2.7-colour (†0.1.5) python2.7-commonmark (†0.9.1) python2.7-compiledb (†0.10.1) python2.7-conda (†4.3.16) python2.7-ConfigArgParse (†1.2.3) python2.7-configobj (†5.0.6) python2.7-configparser (†4.0.2) python2.7-configshell (†1.1.28) python2.7-confluent-kafka (†1.4.2) python2.7-consonance (†0.1.3) python2.7-constantly (†15.1.0) python2.7-construct (†2.9.45) python2.7-contexter (†0.1.4) python2.7-contextlib2 (†0.6.0.post1) python2.7-convertdate (†2.2.1) python2.7-cookiecutter (†1.7.2) python2.7-cookies (†2.2.1) python2.7-coreschema (†0.0.4) python2.7-cov-core (†1.15.0) python2.7-coverage (†5.1) python2.7-cram (†0.7) python2.7-crayons (†0.3.0) python2.7-crc16 (†0.1.1) python2.7-crc32c (†2.0) python2.7-crccheck (†0.6) python2.7-crcmod (†1.7) python2.7-credstash (†1.17.1) python2.7-cryptography (†2.9.2) python2.7-cryptography_vectors (†2.9.2) python2.7-css-parser (†1.0.4) python2.7-csscompressor (†0.9.5) python2.7-cssmin (†0.2.0) python2.7-cssselect (†1.1.0) python2.7-cssutils (†1.0.2) python2.7-cufflinks (†0.17.3) python2.7-cupy (†7.5.0) python2.7-curtsies (†0.3.0) python2.7-curve25519-donna (†1.3) python2.7-cvxopt (†1.2.5) python2.7-cx_Freeze (†6.1) python2.7-cx_Oracle (†7.3.0) python2.7-cycler (†0.10.0) python2.7-cymem (†2.0.3) python2.7-cypari2 (†2.1.1) python2.7-cysignals (†1.10.2) python2.7-Cython (†0.29.19) python2.7-cytoolz (†0.10.1) python2.7-d2to1 (†0.2.12.post1) python2.7-daemonize (†2.5.0) python2.7-darcsver (†1.7.4) python2.7-dash (†1.13.3) python2.7-dash_core_components (†1.10.1) python2.7-dash_html_components (†1.0.3) python2.7-dash_renderer (†1.5.0) python2.7-dash_table (†4.8.1) python2.7-databricks-cli (†0.11.0) python2.7-datadiff (†1.1.6) python2.7-datadog (†0.36.0) python2.7-DataModelDict (†0.9.6) python2.7-datashape (†0.5.4) python2.7-dateparser (†0.7.4) python2.7-datrie (†0.7.1) python2.7-dbf (†0.98.3) python2.7-dbfread (†2.0.7) python2.7-dbus-python (†1.2.12) python2.7-ddt (†1.4.1) python2.7-deap (†1.3.1) python2.7-decorator (†4.4.1) python2.7-deeptoolsintervals (†0.1.9) python2.7-deform (†2.0.8) python2.7-defusedxml (†0.6.0) python2.7-delegator.py (†0.1.1) python2.7-deluge-client (†1.9.0) python2.7-demjson (†2.2.4) python2.7-DendroPy (†4.4.0) python2.7-denonavr (†0.8.1) python2.7-dependency-injector (†3.15.6) python2.7-Deprecated (†1.2.10) python2.7-deprecation (†2.1.0) python2.7-derpconf (†0.8.3) python2.7-descartes (†1.1.0) python2.7-deskcon (†0.3) python2.7-detox (†0.19) python2.7-devpi-common (†3.5.0) python2.7-diceware (†0.9.6) python2.7-dict2xml (†1.7.0) python2.7-dictionaries (†0.0.2) python2.7-dicttoxml (†1.7.4) python2.7-diff-match-patch (†20181111) python2.7-dill (†0.3.1.1) python2.7-discid (†1.2.0) python2.7-discogs-client (†2.3.0) python2.7-dissononce (†0.34.3) python2.7-distlib (†0.3.0) python2.7-distorm3 (†3.3.4) python2.7-distro (†1.5.0) python2.7-distutils-extra (†2.39) python2.7-dj-database-url (†0.5.0) python2.7-dj-email-url (†1.0.1) python2.7-dj-search-url (†0.1) python2.7-Django (†1.11.28) python2.7-django-cache-url (†3.1.2) python2.7-django-gravatar2 (†1.4.4) python2.7-django-paintstore (†0.2) python2.7-django-versatileimagefield (†2.0) python2.7-django-webpack-loader (†0.7.0) python2.7-dkimpy (†1.0.4) python2.7-dlib (†19.20) python2.7-dlx (†1.0.4) python2.7-dmenu-python (†0.2.1) python2.7-dnslib (†0.9.13) python2.7-dnspython (†1.16.0) python2.7-dnspython (†1.16.0) python2.7-doc8 (†0.8.1) python2.7-docker (†4.2.1) python2.7-docker-pycreds (†0.4.0) python2.7-dockerfile-parse (†0.0.18) python2.7-dockerpty (†0.4.1) python2.7-docloud (†1.0.375) python2.7-docopt (†0.6.2) python2.7-docplex (†2.14.186) python2.7-docrep (†0.2.7) python2.7-doctest-ignore-unicode (†0.1.2) python2.7-docutils (†0.16) python2.7-dogpile.cache (†0.9.2) python2.7-dogpile.core (†0.4.1) python2.7-dominate (†2.5.1) python2.7-dopy (†2016-01-04) python2.7-dot2tex (†2.11.3) python2.7-dpkt (†1.9.2) python2.7-drms (†0.5.7) python2.7-dropbox (†10.2.0) python2.7-ds4drv (†0.5.1) python2.7-dtopt (†0.1) python2.7-duckdb (†0.1.7) python2.7-dulwich (†0.19.16) python2.7-dyn (†1.8.1) python2.7-easydict (†1.9) python2.7-easygui (†0.98.1) python2.7-EasyProcess (†0.3) python2.7-easysnmp (†0.2.5) python2.7-easywatch (†0.0.5) python2.7-ecdsa (†0.15) python2.7-ECPy (†1.2.3) python2.7-ed25519 (†1.5) python2.7-editorconfig (†0.12.2) python2.7-elasticsearch (†7.7.1) python2.7-elasticsearch-dsl (†7.2.1) python2.7-elasticsearch-dsl (†7.2.1) python2.7-email_validator (†1.1.1) python2.7-emcee (†3.0.2) python2.7-emoji (†0.5.4) python2.7-entrypoints (†0.3) python2.7-enum (†0.4.7) python2.7-enum-compat (†0.0.3) python2.7-enum34 (†1.1.10) python2.7-envs (†1.3) python2.7-enzyme (†0.4.1) python2.7-epc (†0.0.5) python2.7-ephem (†3.7.7.1) python2.7-eradicate (†1.0) python2.7-escapism (†1.0.1) python2.7-etcd (†2.0.8) python2.7-et_xmlfile (†1.0.1) python2.7-evdev (†1.3.0) python2.7-Eve (†1.1.1) python2.7-eventlet (†0.25.2) python2.7-Events (†0.3) python2.7-evernote (†1.25.3) python2.7-ewmh (†0.1.6) python2.7-exchangelib (†1.12.2) python2.7-execnet (†1.7.1) python2.7-executor (†21.3) python2.7-ExifRead (†2.1.2) python2.7-extras (†1.0.0) python2.7-fabric (†2.5.0) python2.7-face (†20.1.1) python2.7-facebook-sdk (†3.1.0) python2.7-face_recognition (†1.3.0) python2.7-face_recognition_models (†0.3.0) python2.7-factory_boy (†2.12.0) python2.7-fake-factory (†9999.9.9) python2.7-fake-useragent (†0.1.11) python2.7-Faker (†4.1.0) python2.7-falcon (†2.0.0) python2.7-fastcache (†1.1.0) python2.7-fastdtw (†0.3.4) python2.7-fasteners (†0.15) python2.7-fastentrypoints (†0.12) python2.7-fastimport (†0.9.8) python2.7-fastpair (†2016-07-05) python2.7-fastpbkdf2 (†0.2) python2.7-fastrlock (†0.5) python2.7-fasttext (†0.9.2) python2.7-faulthandler (†3.2) python2.7-favicon (†0.7.0) python2.7-fb-re2 (†1.0.7) python2.7-fdint (†2.0.2) python2.7-feedgen (†0.9.0) python2.7-feedgenerator (†1.9.1) python2.7-feedparser (†5.2.1) python2.7-ffmpeg-python (†0.2.0) python2.7-fido2 (†0.8.1) python2.7-file (†5.39) python2.7-filebytes (†0.10.2) python2.7-filelock (†3.0.12) python2.7-filetype (†1.0.7) python2.7-Fiona (†1.8.13.post1) python2.7-fipy (†3.4.1) python2.7-fire (†0.3.1) python2.7-firetv (†1.0.9) python2.7-first (†2.0.2) python2.7-fitbit (†0.3.1) python2.7-fixtures (†3.0.0) python2.7-flake8 (†3.8.3) python2.7-flake8-blind-except (†0.1.1) python2.7-flake8-debugger (†3.2.1) python2.7-flake8-future-import (†0.4.6) python2.7-flake8-import-order (†0.18.1) python2.7-flake8-polyfill (†1.0.2) python2.7-flaky (†3.6.1) python2.7-flammkuchen (†0.9.2) python2.7-Flask (†1.1.2) python2.7-flask-admin (†1.5.6) python2.7-Flask-API (†2.0) python2.7-Flask-Assets (†2.0) python2.7-Flask-AutoIndex (†0.6.6) python2.7-Flask-Babel (†1.0.0) python2.7-Flask-Babel (†1.0.0) python2.7-flask-babelex (†0.9.4) python2.7-flask-bcrypt (†0.7.1) python2.7-Flask-Bootstrap (†3.3.7.1) python2.7-Flask-Compress (†1.5.0) python2.7-Flask-Cors (†3.0.8) python2.7-Flask-Elastic (†0.2) python2.7-Flask-HTTPAuth (†4.1.0) python2.7-Flask-JWT-Extended (†3.24.1) python2.7-flask-ldap-login (†0.3.4) python2.7-Flask-Limiter (†1.3.1) python2.7-Flask-Login (†0.5.0) python2.7-Flask-Mail (†0.9.1) python2.7-Flask-Migrate (†2.5.3) python2.7-flask-mongoengine (†0.9.5) python2.7-flask-paginate (†0.5.4) python2.7-Flask-Principal (†0.4.0) python2.7-flask-pymongo (†2.3.0) python2.7-Flask-RESTful (†0.3.8) python2.7-flask-restplus (†0.13.0) python2.7-Flask-Script (†2.0.6) python2.7-Flask-Silk (†2018-06-28) python2.7-Flask-Sockets (†0.2.1) python2.7-Flask-SQLAlchemy (†2.4.3) python2.7-flask-swagger (†0.2.14) python2.7-flask-swagger-ui (†3.25.0) python2.7-Flask-Testing (†0.8.0) python2.7-Flask-Versioned (†0.9.4-20101221) python2.7-Flask-WTF (†0.14.3) python2.7-flexmock (†0.10.4) python2.7-flickrapi (†2.4.0) python2.7-fluent-logger (†0.9.6) python2.7-flup (†1.0.3) python2.7-fn (†0.4.3) python2.7-foolscap (†20.4.0) python2.7-forbiddenfruit (†0.1.3) python2.7-FormEncode (†1.3.1) python2.7-foundationdb (†5.1.7) python2.7-foundationdb (†5.2.8) python2.7-foundationdb (†6.0.18) python2.7-foundationdb (†6.1.12) python2.7-FoxDot (†0.8.8) python2.7-fpdf (†1.7.2) python2.7-fpylll (†0.5.1dev) python2.7-freezegun (†0.3.15) python2.7-frozendict (†1.2) python2.7-fs (†2.4.11) python2.7-fs-s3fs (†1.1.1) python2.7-ftputil (†3.4) python2.7-fudge (†1.1.1) python2.7-funcparserlib (†0.3.6) python2.7-funcsigs (†1.0.2) python2.7-functools32 (†3.2.3-2) python2.7-funcy (†1.14) python2.7-furl (†2.1.0) python2.7-fuse-python (†1.0.0) python2.7-fusepy (†3.0.1) python2.7-future (†0.18.2) python2.7-future-fstrings (†1.0.0) python2.7-futures (†3.3.0) python2.7-fuzzywuzzy (†0.18.0) python2.7-fx2-unstable (†2020-01-25) python2.7-gast (†0.3.3) python2.7-gateone (†1.2-0d57c3) python2.7-gcovr (†4.2) python2.7-gdata (†2.0.18) python2.7-geeknote (†2015-05-11) python2.7-genpy (†2016.1.3) python2.7-Genshi (†0.7.3) python2.7-gentools (†1.1.0) python2.7-genzshcomp (†0.6.0) python2.7-GeoAlchemy2 (†0.8.3) python2.7-geographiclib (†1.50) python2.7-GeoIP (†1.3.2) python2.7-geoip2 (†3.0.0) python2.7-geojson (†2.5.0) python2.7-geopy (†1.22.0) python2.7-getmac (†0.8.2) python2.7-gevent (†20.5.2) python2.7-gevent-socketio (†0.3.6) python2.7-gevent-websocket (†0.10.1) python2.7-geventhttpclient (†1.4.2) python2.7-ghdiff (†0.4) python2.7-gin-config (†0.3.0) python2.7-gipc (†1.1.0) python2.7-github-webhook (†1.0.4) python2.7-github3.py (†1.3.0) python2.7-glob2 (†0.7) python2.7-globus-sdk (†1.9.0) python2.7-glom (†20.5.0) python2.7-gmpy (†1.17) python2.7-gmpy2 (†2.1a4) python2.7-gmusicapi (†13.0.0) python2.7-gnureadline (†8.0.0) python2.7-google-apputils (†0.4.2) python2.7-google-auth (†1.17.0) python2.7-google-auth-httplib2 (†0.0.3) python2.7-google-auth-oauthlib (†0.4.1) python2.7-google-cloud-testutils-unstable (†36ffa923c7037e8b4fdcaa76272cb6267e908a9d) python2.7-google-i18n-address (†2.3.5) python2.7-google-pasta (†0.2.0) python2.7-google-resumable-media (†0.5.1) python2.7-googleapis-common-protos (†1.52.0) python2.7-googletrans (†2.4.0) python2.7-gorilla (†0.3.0) python2.7-gphoto2 (†2.2.2) python2.7-gpsoauth (†0.4.1) python2.7-gpxpy (†1.3.5) python2.7-GPy (†1.9.9) python2.7-GPyOpt-unstable (†2019-09-25) python2.7-grandalf (†0.6) python2.7-graph-tool (†2.31) python2.7-graphite_beacon (†0.27.0) python2.7-graphviz (†0.10.1) python2.7-grappelli_safe (†0.5.2) python2.7-green (†3.1.4) python2.7-greenlet (†0.4.16) python2.7-grequests (†0.6.0) python2.7-grip (†4.5.2) python2.7-grpc-google-iam-v1 (†0.12.3) python2.7-grpcio (†1.29.0) python2.7-grpcio-gcp (†0.2.2) python2.7-grpcio-tools (†1.29.0) python2.7-gsd (†1.9.3) python2.7-gspread (†3.6.0) python2.7-gssapi (†1.6.2) python2.7-gst-python (†1.16.2) python2.7-gtimelog (†0.9.1) python2.7-gtts-token (†1.1.3) python2.7-guessit (†3.1.1) python2.7-guestfs (†1.40.1) python2.7-gunicorn (†19.10.0) python2.7-gurobipy (†7.5.2) python2.7-guzzle_sphinx_theme (†0.7.11) python2.7-gyp (†2015-06-11) python2.7-h11 (†0.9.0) python2.7-h2 (†3.2.0) python2.7-h3 (†3.6.3) python2.7-h5py (†2.9.0) python2.7-h5py (†2.9.0) python2.7-hawkauthlib (†0.1.1) python2.7-hcloud (†1.7.0) python2.7-hdbscan (†0.8.26) python2.7-hdmedians (†0.13) python2.7-HeapDict (†1.0.1) python2.7-helpdev (†0.7.1) python2.7-helper (†2.4.2) python2.7-hetzner (†0.8.2) python2.7-hg-evolve (†10.0.0) python2.7-hg-git (†0.8.12) python2.7-hgsvn (†0.3.15) python2.7-hidapi (†0.9.0.post2) python2.7-hieroglyph (†1.0.0) python2.7-hiredis (†1.0.1) python2.7-hiro (†0.5.1) python2.7-HiYaPyCo (†0.4.16) python2.7-hkdf (†0.0.3) python2.7-hmmlearn (†0.2.3) python2.7-hocr-tools (†1.3.0) python2.7-holidays (†0.10.2) python2.7-hopcroftkarp (†1.2.5) python2.7-howdoi (†1.2.1) python2.7-hpack (†3.0.0) python2.7-hsaudiotag (†1.1.1) python2.7-html-sanitizer (†1.9.1) python2.7-html2text (†2018.1.9) python2.7-html5-parser (†0.4.9) python2.7-html5lib (†1.0.1) python2.7-htmllaundry (†2.2) python2.7-htmlmin (†0.1.12) python2.7-htmltreediff (†0.1.2) python2.7-HTSeq (†0.12.4) python2.7-httmock (†1.3.0) python2.7-httpauth (†0.3) python2.7-httplib2 (†0.18.1) python2.7-httpretty (†0.9.7) python2.7-httpsig (†1.3.0) python2.7-http_ece (†1.1.0) python2.7-http_signature (†0.1.4) python2.7-huey (†2.2.0) python2.7-humanfriendly (†8.2) python2.7-hupper (†1.10.2) python2.7-hvac (†0.10.3) python2.7-hydra (†0.11.3) python2.7-hypchat (†0.21) python2.7-hyperframe (†5.2.0) python2.7-hyperlink (†19.0.0) python2.7-hypothesis (†4.57.1) python2.7-hypothesis (†4.57.1) python2.7-i3-py (†0.6.4) python2.7-iapws (†1.4.1) python2.7-icalendar (†4.0.6) python2.7-identify (†1.4.19) python2.7-idna (†2.9) python2.7-idna-ssl (†1.1.0) python2.7-ifaddr (†0.1.6) python2.7-ifconfig-parser (†0.0.5) python2.7-ihatemoney (†4.1) python2.7-ijson (†3.0.4) python2.7-imagesize (†1.2.0) python2.7-IMAPClient (†2.1.0) python2.7-imaplib2 (†2.45.0) python2.7-imbalanced-learn (†0.4.3) python2.7-impacket (†0.9.21) python2.7-importlib-metadata (†1.6.0) python2.7-importlib_resources (†1.5.0) python2.7-importmagic (†0.1.7) python2.7-imutils (†0.5.3) python2.7-incremental (†17.5.0) python2.7-influxdb (†5.3.0) python2.7-infoqscraper (†0.1.0) python2.7-inifile (†0.3) python2.7-iniparse (†0.5) python2.7-inotify-simple (†1.2.1) python2.7-inquirer (†2.6.3) python2.7-intelhex (†2.2.1) python2.7-internetarchive (†1.9.4) python2.7-interruptingcow (†0.8) python2.7-intervaltree (†3.0.2) python2.7-intreehooks (†1.0) python2.7-invoke (†1.4.1) python2.7-iocapture (†0.1.2) python2.7-iowait (†0.2) python2.7-ipaddr (†2.2.0) python2.7-ipaddress (†1.0.23) python2.7-ipdb (†0.13.2) python2.7-ipdbplugin (†1.5.0) python2.7-iptools (†0.7.0) python2.7-IPy (†1.00) python2.7-ipykernel (†4.10.1) python2.7-ipympl (†0.5.6) python2.7-ipython (†5.8.0) python2.7-ipython_genutils (†0.2.0) python2.7-ipywidgets (†7.5.1) python2.7-irclib (†0.4.8) python2.7-isbnlib (†3.10.3) python2.7-islpy (†2019.1.2) python2.7-iso (†639-0.4.5) python2.7-iso3166 (†0.8) python2.7-iso8601 (†0.1.12) python2.7-isodate (†0.6.0) python2.7-isort (†4.3.21) python2.7-isoweek (†1.3.3) python2.7-itanium_demangler (†1.0) python2.7-itsdangerous (†1.1.0) python2.7-itypes (†1.2.0) python2.7-j2cli (†0.3.10) python2.7-jabberbot (†0.16) python2.7-jaraco.functools (†2.0) python2.7-jaraco.stream (†2.0) python2.7-jaraco.text (†3.2.0) python2.7-javaobj-py3 (†0.4.1) python2.7-javaproperties (†0.7.0) python2.7-jdatetime (†3.6.2) python2.7-jdcal (†1.4.1) python2.7-jedi (†0.17.0) python2.7-jenkins-job-builder (†3.4.0) python2.7-jenkinsapi (†0.3.11) python2.7-jieba (†0.42.1) python2.7-Jinja2 (†2.11.2) python2.7-jinja2-time (†0.2.0) python2.7-jmespath (†0.10.0) python2.7-joblib (†0.15.1) python2.7-josepy (†1.3.0) python2.7-jpylyzer (†1.18.0) python2.7-jq (†0.1.6) python2.7-jsmin (†2.2.2) python2.7-json-merge-patch (†0.2) python2.7-jsondate (†0.1.3) python2.7-jsondiff (†1.2.0) python2.7-jsonlines (†1.2.0) python2.7-jsonmerge (†1.7.0) python2.7-jsonnet (†0.16.0) python2.7-jsonpatch (†1.25) python2.7-jsonpath (†0.82) python2.7-jsonpath-rw (†1.4.0) python2.7-jsonpickle (†1.4.1) python2.7-jsonpointer (†2.0) python2.7-jsonref (†0.2) python2.7-jsonrpc-base (†1.0.3) python2.7-jsonrpclib (†0.1.7) python2.7-jsonrpclib-pelix (†0.4.1) python2.7-jsonschema (†3.2.0) python2.7-jsonwatch (†0.2.0) python2.7-Jug (†2.0.0) python2.7-junit-xml (†1.9) python2.7-junitparser (†1.4.1) python2.7-junos-eznc (†2.4.1) python2.7-jupyter (†1.0.0) python2.7-jupyter_client (†5.3.4) python2.7-jupyter_console (†5.2.0) python2.7-jupyter_core (†4.6.3) python2.7-jupytext (†1.4.2) python2.7-jwcrypto (†0.7) python2.7-k5test (†0.9.2) python2.7-kaa-base (†0.99.2dev-384-2b73caca) python2.7-kaa-metadata (†0.7.8dev-r4569-20111003) python2.7-kafka-python (†2.0.1) python2.7-kaitaistruct (†0.8) python2.7-Kajiki (†0.8.2) python2.7-kaptan (†0.5.12) python2.7-kazoo (†2.7.0) python2.7-kconfiglib (†14.1.0) python2.7-keepalive (†0.5) python2.7-Keras (†2.3.1) python2.7-Keras_Applications (†1.0.8) python2.7-Keras_Preprocessing (†1.1.2) python2.7-kerberos (†1.3.0) python2.7-keyring (†18.0.1) python2.7-keyutils (†0.6) python2.7-kitchen (†1.2.6) python2.7-kiwisolver (†1.1.0) python2.7-klein (†17.10.0) python2.7-kmapper (†1.2.0) python2.7-kmsxx (†2020-02-14) python2.7-konfig (†1.1) python2.7-kubernetes (†11.0.0) python2.7-labelbox (†2.4) python2.7-langdetect (†1.0.7) python2.7-larch (†1.20131130) python2.7-lark-parser (†0.8.8) python2.7-Lasagne (†0.1) python2.7-latexcodec (†2.0.0) python2.7-lazr.config (†2.2.2) python2.7-lazr.delegates (†2.0.4) python2.7-lazy (†1.4) python2.7-lazy-object-proxy (†1.5.0) python2.7-lazy_import (†0.2.2) python2.7-ldap3 (†2.7) python2.7-ldappool (†2.4.1) python2.7-ldaptor (†19.1.0) python2.7-le (†1.4.29) python2.7-leather (†0.3.3) python2.7-ledgerblue (†0.1.31) python2.7-lektor (†3.1.3) python2.7-leveldb (†0.201) python2.7-libais (†0.17) python2.7-libarchive (†3.1.2-1) python2.7-libarchive (†3.1.2-1) python2.7-libarchive-c (†2.9) python2.7-libasyncns-python (†0.7.1) python2.7-libgpuarray (†0.7.5) python2.7-libkeepass (†0.3.1.post1) python2.7-libmr (†0.1.9) python2.7-libnacl (†1.7.1) python2.7-libsoundtouch (†0.4.0) python2.7-libtmux (†0.8.2) python2.7-libusb1 (†1.8) python2.7-libvirt (†5.9.0) python2.7-license-expression (†1.2) python2.7-lightblue (†0.4) python2.7-lightgbm (†2.3.1) python2.7-lightning-python (†1.2.1) python2.7-limitlessled (†1.1.3) python2.7-limits (†1.5.1) python2.7-linecache2 (†1.0.0) python2.7-line_profiler (†3.0.2) python2.7-linode (†0.4) python2.7-linode-api (†4.1.8b1) python2.7-linuxfd (†1.4.4) python2.7-livestreamer (†1.12.2) python2.7-livestreamer-curses (†1.5.2) python2.7-llfuse (†1.3.6) python2.7-lmdb (†0.98) python2.7-lmtpd (†6.1.0) python2.7-localzone (†0.9.6) python2.7-locket (†0.2.0) python2.7-lockfile (†0.12.2) python2.7-locustio (†0.14.4) python2.7-Logbook (†1.5.3) python2.7-logfury (†0.1.2) python2.7-logster (†1.0.1) python2.7-logutils (†0.3.5) python2.7-logzero (†1.5.0) python2.7-loo-py (†2017.2) python2.7-lsi (†0.4.0) python2.7-lxml (†4.5.0) python2.7-lzstring (†1.0.4) python2.7-M2Crypto (†0.35.2) python2.7-m2r (†0.2.1) python2.7-m3u8 (†0.6.0) python2.7-magic-wormhole-transit-relay (†0.2.1) python2.7-mahotas (†1.4.9) python2.7-mail-parser (†3.12.0) python2.7-mailcap-fix (†1.0.1) python2.7-mailchimp (†2.0.9) python2.7-maildir-deduplicate (†2.1.0) python2.7-Mako (†1.1.3) python2.7-managesieve (†0.6) python2.7-manhole (†1.6.0) python2.7-manifestparser (†1.1) python2.7-mapbox (†0.18.0) python2.7-mapsplotlib (†1.2.0) python2.7-marionette-harness (†5.0.0) python2.7-marionette_driver (†3.0.0) python2.7-marisa (†1.3.40) python2.7-marisa-trie (†0.7.5) python2.7-Markdown (†3.1.1) python2.7-markdown-macros (†0.1.2) python2.7-markdown2 (†2.3.6) python2.7-MarkdownSuperscript (†2.1.1) python2.7-markerlib (†0.6.0) python2.7-Markups (†3.0.0) python2.7-MarkupSafe (†1.1.1) python2.7-matplotlib (†2.2.3) python2.7-matrix_client (†0.3.2) python2.7-maxminddb (†1.5.4) python2.7-mccabe (†0.6.1) python2.7-MDP (†3.6) python2.7-mecab-python3 (†0.996.5) python2.7-MechanicalSoup (†0.12.0) python2.7-mechanize (†0.4.5) python2.7-meinheld (†1.0.2) python2.7-meld3 (†2.0.1) python2.7-meliae (†0.4.0) python2.7-memcached (†1.51-1.51) python2.7-memory_profiler (†0.55.0) python2.7-merkletools (†1.0.3) python2.7-MeshLabXML (†2018.3) python2.7-metaphone (†0.6) python2.7-micawber (†0.5.1) python2.7-MIDIUtil (†1.2.1) python2.7-milksnake (†0.1.5) python2.7-minimock (†1.2.8) python2.7-miniupnpc (†2.0.2) python2.7-misaka (†2.1.1) python2.7-mistune (†0.8.4) python2.7-mkl-service (†2.3.0) python2.7-mmpython (†0.4.10) python2.7-mnemonic (†0.19) python2.7-mnist (†0.2.2) python2.7-mock (†3.0.5) python2.7-mock-open (†1.3.1) python2.7-mockito (†1.2.1) python2.7-modeled (†0.1.8) python2.7-ModestMaps (†1.4.7) python2.7-moinmoin (†1.9.10) python2.7-mongodict (†0.3.1) python2.7-mongoengine (†0.18.2) python2.7-monkeyhex (†1.7.1) python2.7-monotonic (†1.5) python2.7-more-itertools (†5.0.0) python2.7-moretools (†0.1.12) python2.7-morphys (†1.0) python2.7-moto (†1.3.14) python2.7-mox (†0.5.3) python2.7-mox3 (†1.1.0) python2.7-mozcrash (†1.1.0) python2.7-mozdevice (†3.0.7) python2.7-mozfile (†2.1.0) python2.7-mozhttpd (†0.7) python2.7-mozinfo (†1.1.0) python2.7-mozlog (†5.0) python2.7-moznetwork (†1.0.0) python2.7-mozprocess (†1.0.0) python2.7-mozprofile (†2.4.0) python2.7-mozrunner (†7.7.0) python2.7-mozterm (†1.0.0) python2.7-moztest (†0.8) python2.7-mozversion (†2.2.0) python2.7-mpi4py (†3.0.3) python2.7-mplleaflet (†0.0.5) python2.7-mpmath (†1.1.0) python2.7-mpyq (†0.2.5) python2.7-mr-bob (†0.1.2) python2.7-msal (†1.3.0) python2.7-msal-extensions (†0.2.2) python2.7-msgpack (†1.0.0) python2.7-msgpack-numpy (†0.4.6.post0) python2.7-msrest (†0.6.13) python2.7-msrestazure (†0.6.3) python2.7-mt (†940-4.21.0) python2.7-multipledispatch (†0.6.0) python2.7-multiprocess (†0.70.9) python2.7-multiset (†2.1.1) python2.7-multi_key_dict (†2.0.3) python2.7-munch (†2.5.0) python2.7-murmurhash (†1.0.2) python2.7-musicbrainzngs (†0.7.1) python2.7-mutagen (†1.43.0) python2.7-muttils (†1.3) python2.7-mwclient (†0.10.0) python2.7-mwlib (†0.16.1) python2.7-mwlib.ext (†0.13.2) python2.7-mwlib.rl (†0.14.5) python2.7-mwoauth (†0.3.7) python2.7-mwparserfromhell (†0.5.4) python2.7-mxnet (†1.6.0) python2.7-mypgoclient (†1.8) python2.7-mypy-extensions (†0.4.3) python2.7-mysql-connector (†8.0.20) python2.7-mysqlclient (†1.4.6) python2.7-namebench (†1.3.1) python2.7-namedlist (†1.7) python2.7-nameparser (†1.0.6) python2.7-names (†0.3.0) python2.7-nanoleaf (†0.4.1) python2.7-nanomsg-python (†1.0.20190114) python2.7-nanotime (†0.5.2) python2.7-naturalsort (†1.5.1) python2.7-nbconflux (†0.7.0) python2.7-nbconvert (†5.6.1) python2.7-nbformat (†4.4.0) python2.7-nbmerge-unstable (†2017-10-23) python2.7-nbval (†0.9.5) python2.7-nbxmpp (†0.6.10) python2.7-ncclient (†0.6.7) python2.7-ndg-httpsclient (†0.5.1) python2.7-neo (†0.8.0) python2.7-netaddr (†0.7.19) python2.7-netifaces (†0.10.9) python2.7-networkx (†2.2) python2.7-neuronpy (†0.1.6) python2.7-Nevow (†0.14.5) python2.7-nidaqmx (†0.5.7) python2.7-nimfa (†1.4.0) python2.7-nine (†1.1.0) python2.7-nitpick (†1.1) python2.7-nltk (†3.5) python2.7-node-semver (†0.7.0) python2.7-nodeenv (†1.3.3) python2.7-noise (†1.2.2) python2.7-nose (†1.3.7) python2.7-nose-cov (†1.6) python2.7-nose-cover3 (†0.1.0) python2.7-nose-cprof (†0.2.1) python2.7-nose-exclude (†0.5.0) python2.7-nose-focus (†0.1.3) python2.7-nose-of-yeti (†1.8) python2.7-nose-pattern-exclude (†0.1.3) python2.7-nose-progressive (†1.5.2) python2.7-nose-randomly (†1.2.6) python2.7-NoseJS (†0.9.4) python2.7-nosexcover (†1.0.11) python2.7-notebook (†5.7.8) python2.7-notedown (†1.5.1) python2.7-notify2 (†0.3.1) python2.7-notmuch (†0.29.3) python2.7-ntlm-auth (†1.4.0) python2.7-ntplib (†0.3.3) python2.7-Nuitka (†0.6.8.1) python2.7-num2words (†0.5.10) python2.7-numcodecs (†0.6.4) python2.7-numexpr (†2.7.1) python2.7-numpy (†1.16.5) python2.7-numpy-stl (†2.11.2) python2.7-numpydoc (†1.0.0) python2.7-numtraits (†0.2) python2.7-nxt-python-unstable (†20160819) python2.7-oath (†1.4.3) python2.7-oauth (†1.0.1) python2.7-oauth2 (†1.9.0.post1) python2.7-oauth2client (†4.1.3) python2.7-oauthlib (†3.1.0) python2.7-obfsproxy (†0.2.13) python2.7-objgraph (†3.4.1) python2.7-od (†1.0) python2.7-odfpy (†1.4.1) python2.7-offtrac (†0.1.0) python2.7-ofxclient (†2.0.3) python2.7-ofxhome (†0.3.3) python2.7-ofxparse (†0.20) python2.7-olefile (†0.46) python2.7-omegaconf (†1.4.1) python2.7-onkyo-eiscp (†1.2.7) python2.7-openant-unstable (†2017-02-11) python2.7-openapi-spec-validator (†0.2.8) python2.7-openidc-client (†0.6.0) python2.7-openpyxl (†2.6.4) python2.7-opentracing (†2.3.0) python2.7-opt_einsum (†2.3.2) python2.7-ordereddict (†1.1) python2.7-orderedmultidict (†1.0.1) python2.7-orderedset (†2.0.3) python2.7-oscrypto (†1.1.1) python2.7-oset (†0.1.3) python2.7-osqp (†0.6.1) python2.7-ovh (†0.5.0) python2.7-oyaml (†0.9) python2.7-packaging (†20.4) python2.7-packet-python (†1.42.0) python2.7-pafy (†0.5.5) python2.7-pagelabels (†1.2.0) python2.7-pagerduty (†0.2.1) python2.7-paho-mqtt (†1.5.0) python2.7-palettable (†3.3.0) python2.7-pamela (†1.0.0) python2.7-pamqp (†2.3.0) python2.7-pandas (†0.24.2) python2.7-pandoc-attributes (†0.1.7) python2.7-pandocfilters (†1.4.2) python2.7-paperspace (†0.2.0) python2.7-papis-python-rofi (†1.0.2) python2.7-param (†1.9.3) python2.7-parameterized (†0.7.4) python2.7-paramiko (†2.7.1) python2.7-paramz (†0.9.5) python2.7-parse (†1.15.0) python2.7-parsedatetime (†2.6) python2.7-parsel (†1.6.0) python2.7-parse_type (†0.5.2) python2.7-parsimonious (†0.8.1) python2.7-Parsley (†1.3) python2.7-parso (†0.7.0) python2.7-parver (†0.3.0) python2.7-passlib (†1.7.2) python2.7-paste (†3.4.0) python2.7-PasteDeploy (†2.1.0) python2.7-pastel (†0.2.0) python2.7-PasteScript (†3.2.0) python2.7-patch (†1.16) python2.7-patch-ng (†1.17.4) python2.7-path-and-address (†2.0.1) python2.7-path.py (†11.5.2) python2.7-pathlib (†1.0.1) python2.7-pathlib2 (†2.3.5) python2.7-pathos (†0.2.5) python2.7-pathspec (†0.8.0) python2.7-pathtools (†0.1.2) python2.7-patsy (†0.5.1) python2.7-Paver (†1.3.4) python2.7-paypalrestsdk (†1.13.1) python2.7-pbkdf2 (†1.3) python2.7-pbr (†5.4.5) python2.7-pc-ble-driver-py (†0.11.4) python2.7-pcpp (†1.21) python2.7-pdf2image (†1.13.1) python2.7-pdfkit (†0.6.1) python2.7-pdfrw (†0.4) python2.7-pdftools.pdfposter (†0.7.post1) python2.7-pdftotext (†2.1.4) python2.7-peewee (†3.13.3) python2.7-pefile (†2019.4.18) python2.7-pendulum (†2.1.0) python2.7-pep257 (†0.7.0) python2.7-pep8 (†1.7.1) python2.7-pep8-naming (†0.10.0) python2.7-peppercorn (†0.6) python2.7-percol (†0.2.1) python2.7-periodictable (†1.5.2) python2.7-persim (†0.1.2) python2.7-persisting-theory (†0.2.1) python2.7-pex (†2.1.11) python2.7-pexif (†0.15) python2.7-pexpect (†4.8.0) python2.7-pg8000 (†1.12.5) python2.7-pgpdump (†1.5) python2.7-pgpy (†0.5.2) python2.7-pgsanity (†0.2.9) python2.7-pgspecial (†1.11.10) python2.7-phonenumbers (†8.12.5) python2.7-phonopy (†2.4.2) python2.7-phpserialize (†1.3) python2.7-pickleshare (†0.7.5) python2.7-picos (†2.0) python2.7-pid (†3.0.3) python2.7-piep (†0.9.2) python2.7-piexif (†1.1.3) python2.7-pika (†1.1.0) python2.7-pika-pool (†0.1.3) python2.7-pilkit (†2.0) python2.7-Pillow (†6.2.2) python2.7-pillowfight (†0.3) python2.7-pip (†20.1.1) python2.7-pip-tools (†5.2.0) python2.7-pip2nix (†0.7.0) python2.7-pivy (†0.6.5a2) python2.7-pkgconfig (†1.5.1) python2.7-pkginfo (†1.5.0.1) python2.7-plac (†1.2.0) python2.7-plaid-python (†4.0.0) python2.7-plaster (†1.0) python2.7-plaster_pastedeploy (†0.6) python2.7-playsound (†1.2.2) python2.7-PlexAPI (†3.6.0) python2.7-plone.testing (†8.0.0) python2.7-plotly (†4.8.1) python2.7-pluggy (†0.13.1) python2.7-pluginbase (†1.0.0) python2.7-plumbum (†1.6.9) python2.7-ply (†3.11) python2.7-plyfile (†0.7.2) python2.7-PlyPlus (†0.7.5) python2.7-plyvel (†1.2.0) python2.7-Pmw (†2.0.1) python2.7-pocket (†0.3.6) python2.7-podcastparser (†0.6.5) python2.7-podcats (†0.5.0) python2.7-polib (†1.1.0) python2.7-polyline (†1.4.0) python2.7-pomegranate (†0.11.2) python2.7-pony (†0.7.13) python2.7-ponywhoosh (†1.7.8) python2.7-portalocker (†1.7.0) python2.7-portpicker (†1.3.1) python2.7-posix_ipc (†1.0.4) python2.7-power (†1.4) python2.7-pox (†0.2.7) python2.7-poyo (†0.5.0) python2.7-ppft (†1.6.6.1) python2.7-pplpy (†0.8.4) python2.7-pprintpp (†0.4.0) python2.7-prance (†0.18.3) python2.7-praw (†6.3.1) python2.7-prawcore (†1.4.0) python2.7-preggy (†1.4.4) python2.7-premailer (†3.7.0) python2.7-preshed (†3.0.2) python2.7-pretend (†1.0.9) python2.7-prettytable (†0.7.2) python2.7-priority (†1.3.0) python2.7-prison (†0.1.2) python2.7-privacyidea-ldap-proxy (†0.6.1) python2.7-proboscis (†1.2.6.0) python2.7-process-tests (†2.0.2) python2.7-proglog (†0.1.9) python2.7-progress (†1.5) python2.7-progressbar (†2.5) python2.7-progressbar2 (†3.51.4) python2.7-progressbar231 (†2.3.1) python2.7-progressbar33 (†2.4) python2.7-prometheus_client (†0.8.0) python2.7-prompt_toolkit (†1.0.18) python2.7-property-manager (†2.3.1) python2.7-Protego (†0.1.16) python2.7-protobuf (†3.8.0) python2.7-prov (†1.5.3) python2.7-prox-tv (†3.3.0) python2.7-psd-tools (†1.9.13) python2.7-psutil (†5.7.0) python2.7-psycopg2 (†2.8.5) python2.7-ptable-unstable (†2019-06-14) python2.7-ptest (†1.7.4) python2.7-ptyprocess (†0.6.0) python2.7-publicsuffix (†1.1.1) python2.7-publicsuffix2 (†2.20191221) python2.7-pudb (†2019.2) python2.7-PuLP (†2.1) python2.7-pulsectl (†20.5.1) python2.7-pure-python-adb-homeassistant (†0.1.6.dev0) python2.7-purepng (†0.2.0) python2.7-purl (†1.5) python2.7-pushbullet.py (†0.11.0) python2.7-pushover-complete (†1.1.1) python2.7-pwntools (†4.1.1) python2.7-py (†1.8.1) python2.7-py-cpuinfo (†5.0.0) python2.7-py-lru-cache (†0.1.4) python2.7-py-radix (†0.10.0) python2.7-py-vapid (†1.7.0) python2.7-py2bit (†0.3.0) python2.7-py3to2 (†1.1.1) python2.7-py4j (†0.10.9) python2.7-pyacoustid (†1.2.0) python2.7-pyaes (†1.6.1) python2.7-PyAMF (†0.8.0) python2.7-pyamg (†4.0.0) python2.7-pyaml (†20.4.0) python2.7-pyannotate (†1.2.0) python2.7-pyasn1 (†0.4.8) python2.7-pyasn1-modules (†0.2.8) python2.7-pyatmo (†3.3.1) python2.7-PyAudio (†0.2.11) python2.7-pybase64 (†1.0.1) python2.7-pybfd (†-0.1.1.2017-12-31) python2.7-pyBigWig (†0.3.17) python2.7-pybind11 (†2.4.3) python2.7-PyBindGen (†0.21.0) python2.7-pyblake2 (†1.1.2) python2.7-pyblosxom (†1.5.3) python2.7-pybluez-unstable (†20160819) python2.7-pybotvac (†0.0.17) python2.7-PyBrowserID (†0.14.0) python2.7-pybtex (†0.22.2) python2.7-pybtex-docutils (†0.2.2) python2.7-pybullet (†2.8.1) python2.7-pycairo (†1.18.2) python2.7-pycallgraph (†1.0.1) python2.7-pycapnp (†0.6.4) python2.7-pycarddav (†0.7.0) python2.7-pycares (†3.1.1) python2.7-pycassa (†1.11.2) python2.7-pycdio (†2.1.0) python2.7-pychart (†1.39) python2.7-PyChef (†0.3.0) python2.7-pyclipper (†1.1.0.post3) python2.7-pycodestyle (†2.6.0) python2.7-pycoin (†0.90.20200322) python2.7-pycollada (†0.7.1) python2.7-PyContracts (†1.8.14) python2.7-pycosat (†0.6.3) python2.7-pycountry (†19.8.18) python2.7-pycparser (†2.20) python2.7-PyCRC (†1.21) python2.7-pycrypto (†3.9.7) python2.7-pycryptodome (†3.9.7) python2.7-pycryptodomex (†3.9.7) python2.7-pycryptopp (†0.7.1.869544967005693312591928092448767568728501330214) python2.7-pyct (†0.4.6) python2.7-pycuda (†2019.1.2) python2.7-pycups (†1.9.73) python2.7-pycurl (†7.43.0.5) python2.7-pycurl2 (†7.20.0) python2.7-pydbus (†0.6.0) python2.7-pydenticon (†0.3.1) python2.7-pydispatcher (†2.0.5) python2.7-pydns (†2.3.6) python2.7-pydocstyle (†2.1.1) python2.7-pydocumentdb (†2.3.5) python2.7-pydot (†1.4.1) python2.7-pydotplus (†2.0.2) python2.7-pydot_ng (†2.0.0) python2.7-pydub (†0.24.0) python2.7-pydy (†0.5.0) python2.7-pyechonest (†9.0.0) python2.7-pyelftools (†0.26) python2.7-pyemd (†0.5.1) python2.7-pyepsg (†0.4.0) python2.7-pyexcelerator (†0.6.4.1) python2.7-pyexiv2 (†0.3.2) python2.7-pyext (†0.8) python2.7-pyfaidx (†0.5.8) python2.7-pyfakefs (†4.0.2) python2.7-pyfantom-unstable (†2013-12-18) python2.7-pyfcm (†1.4.7) python2.7-pyfiglet (†0.8.post1) python2.7-pyflakes (†2.2.0) python2.7-pyfma (†0.1.1) python2.7-pyfribidi (†0.12.0) python2.7-pyftgl (†0.4b) python2.7-pyftpdlib (†1.5.6) python2.7-pyfttt (†0.3.2) python2.7-PyFxA (†0.7.3) python2.7-pygal (†2.4.0) python2.7-pygame (†1.9.6) python2.7-pygame_sdl2 (†2.1.0-7.2.0) python2.7-pygccxml (†1.9.1) python2.7-pygdbmi (†0.9.0.2) python2.7-pygeoip (†0.3.2) python2.7-pyglet (†1.4.2) python2.7-Pygments (†2.5.2) python2.7-pygments-markdown-lexer (†0.1.0.dev39) python2.7-pygobject (†2.28.7) python2.7-pygobject (†3.36.0) python2.7-pygpgme (†0.3) python2.7-pygraphviz (†1.5) python2.7-pygtail (†0.8.0) python2.7-pygtk (†2.24.0) python2.7-pygtk (†2.24.0) python2.7-pygtksourceview (†2.10.1) python2.7-PyHamcrest (†1.10.1) python2.7-pyhocon (†0.3.53) python2.7-PyICU (†2.3.1) python2.7-pyinotify (†0.9.6) python2.7-pyinputevent (†2016-10-18) python2.7-pyjet (†1.6.0) python2.7-pyjks (†20.0.0) python2.7-pyjson5 (†0.8.5) python2.7-pyjwkest (†1.4.2) python2.7-PyJWT (†1.7.1) python2.7-pykdtree (†1.3.1) python2.7-pykeepass (†3.2.0) python2.7-pykerberos (†1.2.1) python2.7-pykickstart (†1.99.39) python2.7-pykka (†2.0.1) python2.7-pylama (†7.7.1) python2.7-pylatexenc (†2.4) python2.7-pyld (†1.0.5) python2.7-pylev (†1.3.0) python2.7-pylibacl (†0.5.4) python2.7-pylibconfig2 (†0.2.5) python2.7-pylibftdi (†0.18.1) python2.7-pyliblo (†0.10.0) python2.7-pylibmc (†1.6.1) python2.7-pylint (†1.9.5) python2.7-pylru (†1.2.0) python2.7-pyls-isort (†0.1.1) python2.7-PyLTI (†0.7.0) python2.7-pymacaroons (†0.13.0) python2.7-pymaging-png-unstable (†2016-11-16) python2.7-pymaging-unstable (†2016-11-16) python2.7-pymavlink (†2.4.8) python2.7-pymbolic (†2020.1) python2.7-pymediainfo (†4.2.1) python2.7-PyMeeus (†0.3.7) python2.7-pymemoize (†1.0.3) python2.7-pyment (†0.3.3) python2.7-pymongo (†3.10.1) python2.7-Pympler (†0.8) python2.7-PyMsgBox (†1.0.6) python2.7-PyMuPDF (†1.17.0) python2.7-PyMVGLive (†1.1.4) python2.7-PyMySQL (†0.9.3) python2.7-pymysql-sa (†1.0) python2.7-pymystem3 (†0.2.0) python2.7-pynac (†0.2) python2.7-pynacl (†1.3.0) python2.7-PyNamecheap (†0.0.3) python2.7-pynisher (†0.5.0) python2.7-pynmea2 (†1.15.0) python2.7-pynput (†1.6.8) python2.7-pynrrd (†0.4.2) python2.7-pynvim (†0.4.1) python2.7-pynzb (†0.1.0) python2.7-pyodbc (†4.0.30) python2.7-PyOgg (†0.6.9a1) python2.7-pyopencl (†2020.2) python2.7-pyopengl (†3.1.4) python2.7-pyOpenSSL (†19.1.0) python2.7-pyosmium (†2.15.3) python2.7-pyotp (†2.3.0) python2.7-pypandoc (†1.5) python2.7-pyparser (†1.0) python2.7-pyparsing (†2.4.6) python2.7-pyparted (†3.11.4) python2.7-pypcap (†1.2.3) python2.7-pyPdf (†1.13) python2.7-PyPDF2 (†1.26.0) python2.7-pypeg2 (†2.15.2) python2.7-pyperclip (†1.8.0) python2.7-pyperf (†2.0.0) python2.7-Pyphen (†0.9.5) python2.7-PyPlatec (†1.4.0) python2.7-pypoppler (†0.12.2) python2.7-PyPrind (†2.11.2) python2.7-pyprof2calltree (†1.4.5) python2.7-pyptlib (†0.0.6) python2.7-PyQRCode (†1.2.1) python2.7-PyQt-x11-gpl (†4.12) python2.7-PyQt5 (†5.14.2) python2.7-PyQt5 (†5.14.2) python2.7-PyQt5 (†5.14.2) python2.7-pyqtgraph (†0.10.0) python2.7-PyQtWebEngine (†5.14.0) python2.7-pyquery (†1.2.9) python2.7-pyrabbit2 (†1.0.7) python2.7-pyrad (†2.3) python2.7-PyReadability (†0.4.0) python2.7-pyreport (†0.3.4c) python2.7-pyres (†1.5) python2.7-pyRFC3339 (†1.1) python2.7-pyroma (†2.6) python2.7-pyroute2 (†0.5.12) python2.7-pyrr (†0.10.3) python2.7-pyrsistent (†0.16.0) python2.7-PyRSS2Gen (†1.1) python2.7-pyrtlsdr (†0.2.7) python2.7-pysam (†0.15.4) python2.7-pyscard (†1.9.9) python2.7-pyschedule (†0.2.34) python2.7-pyscreenshot (†2.2) python2.7-pyscrypt (†1.6.2) python2.7-pyScss (†1.3.7) python2.7-PySDL2 (†0.9.6) python2.7-pysendfile (†2.0.1) python2.7-pysensors (†2017-07-13) python2.7-pyserial (†3.4) python2.7-pysftp (†0.2.9) python2.7-pysha3 (†1.0.2) python2.7-pyshp (†2.1.0) python2.7-pyside (†1.2.4) python2.7-pyside-shiboken (†1.2.4) python2.7-pyside-tools (†0.2.15) python2.7-pysigset (†0.3.2) python2.7-pyslurm (†19-05-0) python2.7-pysmb (†1.2.1) python2.7-pysmbc (†1.0.21) python2.7-pysmf (†0.1.1) python2.7-pysmi (†0.3.4) python2.7-pysnmp (†4.4.12) python2.7-pysnooper (†0.4.1) python2.7-pysnow (†0.7.16) python2.7-pysocks (†1.7.1) python2.7-pysolr (†3.9.0) python2.7-pyspark (†2.4.6) python2.7-pysparse (†1.3-dev) python2.7-pyspf (†2.0.14) python2.7-pyspinel (†1.0.1) python2.7-pyspotify (†2.1.3) python2.7-pysptk (†0.1.18) python2.7-pysqlite (†2.8.3) python2.7-pysrim (†0.5.10) python2.7-pysrt (†1.1.2) python2.7-pyssim (†0.4) python2.7-pystache (†0.5.4) python2.7-PyStemmer (†2.0.0.1) python2.7-pystray (†0.15.0) python2.7-PyStringTemplate (†3.2b1) python2.7-pysvn (†1.8.0) python2.7-PyTado (†0.2.7) python2.7-pytaglib (†1.4.5) python2.7-pyte (†0.8.0) python2.7-pyTelegramBotAPI (†3.7.1) python2.7-pytesseract (†0.3.4) python2.7-pytest (†4.6.9) python2.7-pytest (†4.6.9) python2.7-pytest-annotate (†1.0.3) python2.7-pytest-ansible (†2.1.1) python2.7-pytest-arraydiff (†0.3) python2.7-pytest-bdd (†3.2.1) python2.7-pytest-benchmark (†3.2.2) python2.7-pytest-cache (†1.0) python2.7-pytest-catchlog (†1.2.2) python2.7-pytest-check (†0.3.9) python2.7-pytest-click (†0.3) python2.7-pytest-cov (†2.9.0) python2.7-pytest-cram (†0.2.0) python2.7-pytest-datadir (†1.3.1) python2.7-pytest-datafiles (†2.0) python2.7-pytest-dependency (†0.5.1) python2.7-pytest-env (†0.6.2) python2.7-pytest-expect (†1.1.0) python2.7-pytest-fixture-config (†1.7.0) python2.7-pytest-flake8 (†1.0.6) python2.7-pytest-flakes (†4.0.0) python2.7-pytest-flask (†1.0.0) python2.7-pytest-forked (†1.1.3) python2.7-pytest-freezegun (†0.4.1) python2.7-pytest-helpers-namespace (†2019.1.8) python2.7-pytest-isort (†1.0.0) python2.7-pytest-lazy-fixture (†0.6.3) python2.7-pytest-localserver (†0.5.0) python2.7-pytest-metadata (†1.9.0) python2.7-pytest-mock (†2.0.0) python2.7-pytest-mpl (†0.11) python2.7-pytest-ordering-unstable (†2019-06-19) python2.7-pytest-pep257 (†0.0.5) python2.7-pytest-pep8 (†1.0.6) python2.7-pytest-qt (†3.3.0) python2.7-pytest-quickcheck (†0.8.4) python2.7-pytest-raisesregexp (†2.1) python2.7-pytest-relaxed (†1.1.5) python2.7-pytest-remotedata (†0.3.2) python2.7-pytest-repeat (†0.8.0) python2.7-pytest-runner (†5.2) python2.7-pytest-server-fixtures (†1.7.0) python2.7-pytest-services (†2.0.1) python2.7-pytest-shutil (†1.7.0) python2.7-pytest-socket (†0.3.3) python2.7-pytest-subtesthack (†0.1.1) python2.7-pytest-sugar (†0.9.3) python2.7-pytest-testmon (†1.0.2) python2.7-pytest-timeout (†1.3.3) python2.7-pytest-tornado (†0.8.0) python2.7-pytest-twisted (†1.12) python2.7-pytest-virtualenv (†1.7.0) python2.7-pytest-warnings (†0.3.0) python2.7-pytest-watch (†4.2.0) python2.7-pytest-xdist (†1.32.0) python2.7-pytest-xprocess (†0.13.1) python2.7-python-application (†2.8.0) python2.7-python-axolotl (†0.2.3) python2.7-python-axolotl-curve25519 (†0.4.1.post2) python2.7-python-baseconv (†1.2.2) python2.7-python-can (†3.3.3) python2.7-python-cjson (†1.2.2) python2.7-python-constraint (†1.4.0) python2.7-python-consul (†1.1.0) python2.7-python-ctags3 (†1.3.0) python2.7-python-dateutil (†2.8.1) python2.7-python-dateutil (†2.8.1) python2.7-python-dbusmock (†0.19) python2.7-python-debian (†0.1.37) python2.7-python-digitalocean (†1.15.0) python2.7-python-docx (†0.8.10) python2.7-python-dotenv (†0.13.0) python2.7-python-editor (†1.0.4) python2.7-python-efl (†1.24.0) python2.7-python-etcd (†0.4.5) python2.7-python-eventlib (†0.2.4) python2.7-python-fedora (†1.0.0) python2.7-Python-fontconfig (†0.5.1) python2.7-python-forecastio (†1.4.0) python2.7-python-gflags (†3.1.2) python2.7-python-gnupg (†0.4.6) python2.7-python-gnutls (†3.1.3) python2.7-python-hglib (†2.6.1) python2.7-python-hosts (†1.0.0) python2.7-python-igraph (†0.8.2) python2.7-python-imread (†0.7.0) python2.7-python-jenkins (†1.7.0) python2.7-python-jose (†3.1.0) python2.7-python-json-logger (†0.1.11) python2.7-python-jsonrpc-server (†0.3.4) python2.7-python-keyczar (†0.716) python2.7-python-language-server (†0.33.1) python2.7-python-ldap (†3.2.0) python2.7-python-ldap-test (†0.3.1) python2.7-python-Levenshtein (†0.12.0) python2.7-python-logstash (†0.4.6) python2.7-python-lpod (†1.1.7) python2.7-python-lxc-unstable (†2016-08-25) python2.7-python-ly (†0.9.6) python2.7-python-lz4 (†2.1.10) python2.7-python-lz4 (†2.1.10) python2.7-python-lzf (†0.2.4) python2.7-python-lzo (†1.12) python2.7-python-magic (†0.4.18) python2.7-python-mapnik-unstable (†2020-02-24) python2.7-python-markdown-math (†0.6) python2.7-python-mimeparse (†1.6.0) python2.7-python-mnist (†0.7) python2.7-python-mpd (†0.3.0) python2.7-python-mpd2 (†1.0.0) python2.7-python-msrplib (†0.19.2) python2.7-python-multipart (†0.0.5) python2.7-python-nomad (†1.2.1) python2.7-python-oauth2 (†1.1.1) python2.7-python-olm (†3.1.5) python2.7-python-otr (†1.2.0) python2.7-python-packer (†0.1.2) python2.7-python-pam (†1.8.4) python2.7-python-pam (†1.8.4) python2.7-python-periphery (†2.1.0) python2.7-python-pipedrive (†0.4.0) python2.7-python-poppler-qt5 (†0.24.2) python2.7-python-potr (†1.0.2) python2.7-python-prctl (†1.7) python2.7-python-ptrace (†0.9.5) python2.7-python-pushover (†0.4) python2.7-python-redis-lock (†3.5.0) python2.7-python-simple-hipchat (†0.4.0) python2.7-python-simple-hipchat (†0.4.0) python2.7-python-slugify (†4.0.0) python2.7-python-snappy (†0.5.4) python2.7-python-sql (†1.1.0) python2.7-python-statsd (†2.1.0) python2.7-python-stdnum (†1.13) python2.7-python-sybase (†0.40pre2) python2.7-python-twitter (†3.5) python2.7-python-u2flib-host (†3.0.3) python2.7-python-uinput (†0.11.2) python2.7-python-unshare-unstable (†2018-05-20) python2.7-python-utils (†2.4.0) python2.7-python-vagrant (†0.5.15) python2.7-python-vipaccess (†0.13) python2.7-python-vlc (†3.0.9113) python2.7-python-vxi11 (†0.9) python2.7-python-wifi (†0.6.1) python2.7-python-xcaplib (†1.2.1) python2.7-python-xmp-toolkit (†2.0.2) python2.7-python2-pythondialog (†3.5.1) python2.7-pythonmagick (†0.9.16) python2.7-pythonnet (†2.4.0) python2.7-pytidylib (†0.3.2) python2.7-pytimeparse (†1.1.8) python2.7-pytmx (†3.21.7) python2.7-pytoml (†0.1.20) python2.7-pytools (†2020.2) python2.7-pytrends (†4.7.3) python2.7-pytricia-unstable (†2019-01-16) python2.7-pytun (†2.2.1) python2.7-pytz (†2020.1) python2.7-pytzdata (†2019.3) python2.7-pyu2f (†0.1.4) python2.7-pyudev (†0.22.0) python2.7-pyunifi (†2.20.1) python2.7-pyusb (†1.0.2) python2.7-pyutil (†3.3.0) python2.7-pyutilib (†5.7.2) python2.7-pyuv (†1.2.0) python2.7-pyvcd (†0.2.1) python2.7-PyVCF (†0.6.8) python2.7-PyVirtualDisplay (†1.3.2) python2.7-pyviz_comms (†0.7.4) python2.7-pyvmomi (†7.0) python2.7-pyvoro (†1.3.2) python2.7-pywatchman (†1.4.1) python2.7-pywbem (†0.17.2) python2.7-PyWebDAV (†0.9.8) python2.7-pywebpush (†1.11.0) python2.7-pywinrm (†0.4.1) python2.7-pyxattr (†0.6.1) python2.7-pyxdg (†0.26) python2.7-PyXML (†0.8.4) python2.7-PyYAML (†5.3.1) python2.7-pyzmq (†19.0.1) python2.7-PyZufall (†0.13.2) python2.7-py_stringmatching (†0.4.1) python2.7-qdarkstyle (†2.8.1) python2.7-qpid-python (†0.32) python2.7-qrcode (†6.1) python2.7-qscintilla (†2.11.2) python2.7-qscintilla (†2.11.2) python2.7-qscintilla (†2.11.2) python2.7-qserve (†0.2.8) python2.7-QtAwesome (†0.7.2) python2.7-qtconsole (†4.7.5) python2.7-QtPy (†1.9.0) python2.7-quantities (†0.12.4) python2.7-queuelib (†1.5.0) python2.7-qutip (†2.2.0) python2.7-r2pipe (†1.4.2) python2.7-rabbitpy (†1.0.0) python2.7-radicale_infcloud (†2017-07-27) python2.7-rainbowstream (†1.5.2) python2.7-ramlfications (†0.1.9) python2.7-random2 (†1.0.1) python2.7-rarfile (†3.0) python2.7-rasterio (†1.1.4) python2.7-ratelimiter (†1.2.0.post0) python2.7-raven (†6.10.0) python2.7-rawkit (†0.6.0) python2.7-rcssmin (†1.0.6) python2.7-rdflib (†5.0.0) python2.7-readchar (†2.0.0) python2.7-readme (†0.7.1) python2.7-readme_renderer (†26.0) python2.7-readthedocs-sphinx-ext (†1.0.4) python2.7-rebulk (†2.0.1) python2.7-recaptcha-client (†1.0.6) python2.7-recommonmark (†0.6.0) python2.7-redis (†3.5.3) python2.7-rednose (†1.3.0) python2.7-regex (†2020.5.14) python2.7-regional (†1.1.2) python2.7-reikna (†0.7.5) python2.7-relatorio (†0.9.1) python2.7-remotecv (†2.2.2) python2.7-rencode-git20150810 (†) python2.7-repeated_test (†1.0.1) python2.7-repocheck (†2015-08-05) python2.7-reportlab (†3.5.42) python2.7-repoze.lru (†0.7) python2.7-repoze.sphinx.autointerface (†0.8) python2.7-repoze.who (†2.4) python2.7-requests (†2.23.0) python2.7-requests-aws4auth (†0.9) python2.7-requests-cache (†0.5.2) python2.7-requests-file (†1.5.1) python2.7-requests-http-signature (†0.1.0) python2.7-requests-kerberos (†0.12.0) python2.7-requests-mock (†1.8.0) python2.7-requests-oauthlib (†1.3.0) python2.7-requests-toolbelt (†0.9.1) python2.7-requests-toolbelt (†0.9.1) python2.7-requests-unixsocket (†0.2.0) python2.7-requestsexceptions (†1.4.0) python2.7-requests_download (†0.1.2) python2.7-requests_ntlm (†1.1.0) python2.7-responses (†0.10.14) python2.7-RestrictedPython (†5.0) python2.7-restructuredtext_lint (†1.3.1) python2.7-restview (†2.9.1) python2.7-rethinkdb (†2.4.7) python2.7-retry (†0.9.2) python2.7-retrying (†1.3.3) python2.7-retry_decorator (†1.1.1) python2.7-rfc3986 (†1.4.0) python2.7-rfc3987 (†1.3.8) python2.7-rfc6555 (†0.0.0) python2.7-rfc7464 (†17.7.0) python2.7-rhpl (†0.218) python2.7-rig (†2.4.1) python2.7-ripser (†0.4.1) python2.7-rjsmin (†1.1.0) python2.7-rnc2rng (†2.6.4) python2.7-RoboMachine (†0.9.0) python2.7-robot-detection (†0.4) python2.7-robotframework (†3.2.1) python2.7-robotframework-databaselibrary (†1.2.4) python2.7-robotframework-requests (†0.7.0) python2.7-robotframework-ride (†1.2.3) python2.7-robotframework-selenium2library (†3.0.0) python2.7-robotframework-seleniumlibrary (†3.3.1) python2.7-robotframework-sshlibrary (†3.4.0) python2.7-robotframework-tools (†0.1rc4) python2.7-robotstatuschecker (†1.3) python2.7-robotsuite (†2.2.1) python2.7-rocket-errbot (†1.2.5) python2.7-roman (†2.0.0) python2.7-rope (†0.17.0) python2.7-ROPGadget (†6.3) python2.7-rotate-backups (†6.0) python2.7-rpdb (†0.1.6) python2.7-rply (†0.7.7) python2.7-rpmfluff (†0.5.7.1) python2.7-rpy2 (†2.8.6) python2.7-rpyc (†4.1.3) python2.7-rq (†1.4.2) python2.7-rsa (†4.0) python2.7-rtmidi-python (†0.2.2) python2.7-Rtree (†0.9.4) python2.7-rtslib (†2.1.72) python2.7-ruamel.base (†1.0.0) python2.7-ruamel.ordereddict (†0.4.14) python2.7-ruamel.yaml (†0.16.10) python2.7-ruamel.yaml.clib (†0.2.0) python2.7-ruffus (†2.8.1) python2.7-runsnakerun (†2.0.5) python2.7-rx (†1.6.1) python2.7-rxv (†0.6.0) python2.7-s2clientprotocol (†3.19.1.58600.0) python2.7-s3transfer (†0.3.3) python2.7-sabyenc (†3.3.6) python2.7-sacremoses (†0.0.35) python2.7-Safe (†0.4) python2.7-sampledata (†0.3.7) python2.7-sandboxlib (†0.31) python2.7-sapi-python-client (†0.1.3) python2.7-sarge (†0.1.5.post0) python2.7-sasmodels (†1.0.1) python2.7-scales (†1.0.9) python2.7-scandir (†1.10.0) python2.7-scapy (†2.4.3) python2.7-schedule (†0.6.0) python2.7-schema (†0.7.2) python2.7-scikit-build (†0.10.0) python2.7-scikit-fmm (†2019.1.30) python2.7-scikit-learn (†0.20.4) python2.7-scikit-optimize (†0.6) python2.7-scikits.odes (†2.6.1) python2.7-scikits.samplerate (†0.3.3) python2.7-scipy (†1.2.2) python2.7-scour (†0.37) python2.7-scp (†0.13.2) python2.7-scripttest (†1.3) python2.7-scrypt (†0.8.15) python2.7-scs (†2.1.1) python2.7-sdnotify (†0.3.2) python2.7-seaborn (†0.9.1) python2.7-seabreeze (†0.6.0) python2.7-secp256k1 (†0.13.2) python2.7-secretstorage (†2.3.1) python2.7-seekpath (†2.0.1) python2.7-selectors2 (†2.0.1) python2.7-selectors34 (†1.2) python2.7-selenium (†3.141.0) python2.7-semantic (†1.0.3) python2.7-semantic_version (†2.8.5) python2.7-semver (†2.10.2) python2.7-Send2Trash (†1.5.0) python2.7-sentencepiece (†0.1.91) python2.7-sentinel (†0.1.2) python2.7-serpent (†1.30.2) python2.7-serpy (†0.3.1) python2.7-serverlessrepo (†0.1.10) python2.7-service_identity (†18.1.0) python2.7-setproctitle (†1.1.10) python2.7-setuptools (†44.0.0) python2.7-setuptools-git (†1.2) python2.7-setuptools-lint (†0.6.0) python2.7-setuptools-scm-git-archive (†1.1) python2.7-setuptools_darcs (†1.2.11) python2.7-setuptools_scm (†4.1.2) python2.7-setuptools_trial (†0.6.0) python2.7-sexpdata (†0.0.3) python2.7-sfepy_2019.4 (†) python2.7-sh (†1.12.14) python2.7-Shapely (†1.7.0) python2.7-sharedmem (†0.3.7) python2.7-shellingham (†1.3.2) python2.7-shippai (†0.3.2) python2.7-shodan (†1.23.0) python2.7-shortuuid (†1.0.1) python2.7-should-dsl (†2.1.2) python2.7-shouldbe (†0.1.2) python2.7-showit (†1.1.4) python2.7-shutilwhich (†1.1.0) python2.7-sievelib (†1.1.1) python2.7-signedjson (†1.1.0) python2.7-sigtools (†2.0.2) python2.7-simanneal (†0.4.2) python2.7-simple-salesforce (†0.74.3) python2.7-simple-websocket-server (†20180414) python2.7-simpleai (†0.8.2) python2.7-simplebayes (†1.5.8) python2.7-simpleeval (†0.9.10) python2.7-simplefix (†1.0.12) python2.7-simplegeneric (†0.8.1) python2.7-simplejson (†3.17.0) python2.7-simplekml (†1.3.5) python2.7-simpleparse (†2.2.0) python2.7-singledispatch (†3.4.0.3) python2.7-sip (†4.19.22) python2.7-sipsimple (†3.4.2) python2.7-six (†1.15.0) python2.7-sklearn-deap (†0.2.3) python2.7-sleekxmpp (†1.3.3) python2.7-slicerator (†1.0.0) python2.7-slimit (†0.8.1) python2.7-slowaes (†0.1a1) python2.7-smartdc (†0.2.0) python2.7-smartypants (†1.8.6) python2.7-smart_open (†2.0.0) python2.7-smmap (†3.0.4) python2.7-smpplib (†2.1.0) python2.7-smugpy (†20131218) python2.7-snakebite (†2.11.0) python2.7-snakeviz (†2.1.0) python2.7-Snapper-GUI (†0.1) python2.7-snowballstemmer (†2.0.0) python2.7-snug (†1.3.4) python2.7-snuggs (†1.4.7) python2.7-sockjs-tornado (†1.0.7) python2.7-SocksiPy-branch (†1.01) python2.7-sorl-thumbnail (†12.6.3) python2.7-sortedcollections (†1.1.2) python2.7-sortedcontainers (†2.1.0) python2.7-sounddevice (†0.3.15) python2.7-soundfile (†0.10.3.post1) python2.7-soundfile (†0.10.3.post1) python2.7-soupsieve (†1.9.6) python2.7-spake2 (†0.8) python2.7-spambayes (†1.1b3) python2.7-spark_parser (†1.8.9) python2.7-SPARQLWrapper (†1.8.5) python2.7-speaklater (†1.3) python2.7-speedtest-cli (†2.1.2) python2.7-spglib (†1.15.1) python2.7-sphfile (†1.0.3) python2.7-sphinx (†1.7.9) python2.7-sphinx (†1.8.5) python2.7-sphinx-argparse (†0.2.5) python2.7-sphinx-jinja (†1.1.1) python2.7-sphinx-navtree (†0.3.0) python2.7-Sphinx-PyPI-upload (†0.2.1) python2.7-sphinx-testing (†1.0.1) python2.7-sphinxcontrib-applehelp (†1.0.2) python2.7-sphinxcontrib-devhelp (†1.0.2) python2.7-sphinxcontrib-htmlhelp (†1.0.3) python2.7-sphinxcontrib-httpdomain (†1.7.0) python2.7-sphinxcontrib-jsmath (†1.0.1) python2.7-sphinxcontrib-newsfeed (†0.1.4) python2.7-sphinxcontrib-openapi (†0.7.0) python2.7-sphinxcontrib-plantuml (†0.18) python2.7-sphinxcontrib-qthelp (†1.0.3) python2.7-sphinxcontrib-serializinghtml (†1.1.4) python2.7-sphinxcontrib-tikz (†0.4.8) python2.7-sphinxcontrib-websupport (†1.1.2) python2.7-sphinx_rtd_theme (†0.4.3) python2.7-splinter (†0.13.0) python2.7-spotipy (†2.12.0) python2.7-SQLAlchemy (†1.3.17) python2.7-sqlalchemy-citext (†1.6.3) python2.7-SQLAlchemy-ImageAttach (†1.0.0) python2.7-sqlalchemy-migrate (†0.12.0) python2.7-sqlalchemy-utils (†0.36.5) python2.7-sqlite3dbm (†0.1.4) python2.7-sqlitedict (†1.6.0) python2.7-sqlmap (†1.4.6) python2.7-SQLObject (†3.8.0) python2.7-sqlparse (†0.3.1) python2.7-sqlsoup (†0.9.1) python2.7-squaremap (†1.0.5) python2.7-srp (†1.0.16) python2.7-srptools (†1.0.0) python2.7-srvlookup (†2.0.0) python2.7-ssdeep (†3.4) python2.7-sseclient (†0.0.26) python2.7-sshpubkeys (†3.1.0) python2.7-sshtunnel (†0.1.5) python2.7-staticjinja (†0.3.5) python2.7-statistics (†1.0.3.5) python2.7-statsd (†3.3.0) python2.7-statsmodels (†0.11.1) python2.7-stem (†1.8.0) python2.7-stevedore (†2.0.0) python2.7-stm32loader (†0.5.1) python2.7-stompclient (†0.3.2) python2.7-strategies (†0.2.3) python2.7-stravalib (†0.10.2) python2.7-strict-rfc3339 (†0.7) python2.7-strictyaml (†1.0.6) python2.7-stringcase (†1.2.0) python2.7-stripe (†2.48.0) python2.7-subdownloader (†2.0.18) python2.7-subliminal (†2.1.0) python2.7-subprocess32 (†3.5.4) python2.7-subunit (†1.4.0) python2.7-suds (†0.4) python2.7-suds-jurko (†0.6) python2.7-supervise_api (†0.6.0) python2.7-supervisor (†4.2.0) python2.7-sure (†1.4.11) python2.7-svg.path (†4.0.2) python2.7-svg2tikz (†1.0.0) python2.7-swagger-spec-validator (†2.5.0) python2.7-swagger-ui-bundle (†0.0.6) python2.7-symengine (†0.4.0) python2.7-sympy (†1.5.1) python2.7-systemd (†234) python2.7-sysv_ipc (†1.0.1) python2.7-tableaudocumentapi (†0.6) python2.7-tables (†3.5.2) python2.7-tabulate (†0.8.7) python2.7-tadasets (†0.0.4) python2.7-tarman (†0.1.3) python2.7-tasklib (†2.1.1) python2.7-taskw (†1.2.0) python2.7-tblib (†1.6.0) python2.7-telegram (†0.0.1) python2.7-tempita (†0.5.3-2016-09-28) python2.7-tenacity (†6.2.0) python2.7-tensorflow (†1.14.0) python2.7-tensorflow (†1.14.0) python2.7-tensorflow (†2.1.0) python2.7-tensorflow-estimator (†1.15.1) python2.7-tensorflow-estimator (†1.15.1) python2.7-tensorflow-estimator (†2.1.0) python2.7-tensorflow-tensorboard (†1.15.0) python2.7-tensorflow-tensorboard (†1.15.0) python2.7-tensorflow-tensorboard (†2.1.0) python2.7-termcolor (†1.1.0) python2.7-terminado (†0.8.3) python2.7-terminaltables (†3.1.0) python2.7-termstyle (†0.1.11) python2.7-tess-unstable (†2019-05-07) python2.7-tesserocr (†2.5.1) python2.7-testfixtures (†6.14.1) python2.7-testpath (†0.4.4) python2.7-testrepository (†0.0.20) python2.7-testresources (†2.0.1) python2.7-testscenarios (†0.5.0) python2.7-testtools (†2.4.0) python2.7-text-unidecode (†1.3) python2.7-texttable (†1.6.2) python2.7-textwrap3 (†0.9.2) python2.7-Theano (†1.0.4) python2.7-Theano (†1.0.4) python2.7-Theano (†1.0.4) python2.7-thespian (†3.10.0) python2.7-threadpool (†1.3.2) python2.7-thrift (†0.13.0) python2.7-thumbor-pexif (†0.14.1) python2.7-tifffile (†2020.6.3) python2.7-tilestache (†1.51.14) python2.7-timelib (†0.2.4) python2.7-timeout-decorator (†0.4.1) python2.7-tinycss (†0.4) python2.7-tinydb-v3.14.1 (†) python2.7-tiros (†1.0.44) python2.7-tissue (†0.9.2) python2.7-titlecase (†0.12.0) python2.7-tkinter (†2.7.18) python2.7-tl-eggdeps (†0.4) python2.7-tld (†0.12.2) python2.7-tldextract (†2.2.2) python2.7-tlsh (†3.4.5) python2.7-tlslite-ng (†0.7.5) python2.7-tmdb3 (†0.7.2) python2.7-todoist-python (†8.1.1) python2.7-tokenlib (†0.3.1) python2.7-toml (†0.10.1) python2.7-tomlkit (†0.6.0) python2.7-toolz (†0.10.0) python2.7-toposort (†1.5) python2.7-tornado (†4.5.3) python2.7-tornado (†5.1.1) python2.7-tox (†3.15.1) python2.7-tqdm (†4.47.0) python2.7-traceback2 (†1.4.0) python2.7-tracing (†0.8) python2.7-trackpy (†0.4.2) python2.7-traitlets (†4.3.3) python2.7-transaction (†3.0.0) python2.7-transformers (†2.2.1) python2.7-transip-api (†2.0.0) python2.7-transitions (†0.8.1) python2.7-translationstring (†1.3) python2.7-transmissionrpc (†0.11) python2.7-treq (†20.4.1) python2.7-trimesh (†3.6.43) python2.7-trollius (†2.2.post1) python2.7-trueskill (†0.4.5) python2.7-trustme (†0.6.0) python2.7-ttystatus (†0.23) python2.7-tunigo (†1.0.0) python2.7-TurboCheetah (†1.0) python2.7-tvdb_api (†3.0.2) python2.7-tvnamer (†2.5) python2.7-tweepy (†3.8.0) python2.7-Twiggy (†0.5.0) python2.7-twilio (†6.39.0) python2.7-twill (†2.0) python2.7-Twisted (†20.3.0) python2.7-twitter (†1.18.0) python2.7-twitter.common.collections (†0.3.11) python2.7-twitter.common.confluence (†0.3.11) python2.7-twitter.common.dirutil (†0.3.11) python2.7-twitter.common.lang (†0.3.11) python2.7-twitter.common.log (†0.3.11) python2.7-twitter.common.options (†0.3.11) python2.7-twofish (†0.3.0) python2.7-txAMQP (†0.8.2) python2.7-txdbus (†1.1.1) python2.7-txgithub (†15.0.0) python2.7-txrequests (†0.9.6) python2.7-txtorcon (†20.0.0) python2.7-typesentry (†0.2.7) python2.7-typing (†3.7.4.1) python2.7-typing_extensions (†3.7.4.2) python2.7-tzlocal (†2.1) python2.7-u-msgpack-python (†2.6.0) python2.7-ua-parser (†0.10.0) python2.7-uamqp (†1.2.8) python2.7-ujson (†3.0.0) python2.7-UkPostcodeParser (†1.1.2) python2.7-umalqurra (†0.2) python2.7-umemcache (†1.6.3) python2.7-uncertainties (†3.1.2) python2.7-unicode-slugify (†0.1.3) python2.7-unicodecsv (†0.14.1) python2.7-unicorn (†1.0.1) python2.7-Unidecode (†1.1.1) python2.7-unidiff (†0.6.0) python2.7-unifi (†1.2.5) python2.7-units (†0.07) python2.7-unittest-data-provider (†1.0.1) python2.7-unittest-xml-reporting (†3.0.2) python2.7-unittest2 (†1.1.0) python2.7-unpaddedbase64 (†1.1.0) python2.7-untangle (†1.1.1) python2.7-upass (†0.1.4) python2.7-update-dotdee (†5.0) python2.7-update_checker (†0.17) python2.7-uproot (†3.11.7) python2.7-uproot-methods (†0.7.4) python2.7-uptime (†3.0.1) python2.7-uritemplate (†3.0.1) python2.7-urlgrabber (†4.1.0) python2.7-urllib3 (†1.25.9) python2.7-urwid (†2.1.0) python2.7-urwidtrees (†1.0.2) python2.7-usbtmc (†0.8) python2.7-user-agents (†2.1.0) python2.7-uuid (†1.30) python2.7-validate-email (†1.3) python2.7-validators (†0.15.0) python2.7-validictory (†1.1.2) python2.7-variants (†0.2.0) python2.7-varint (†1.0.2) python2.7-vcversioner (†2.16.0.0) python2.7-vdf (†3.3) python2.7-vega (†3.4.0) python2.7-vega_datasets (†0.8.0) python2.7-venusian (†3.0.0) python2.7-verboselogs (†1.7) python2.7-versioneer (†0.18) python2.7-versiontools (†1.9.1) python2.7-vertica-python (†0.10.4) python2.7-veryprettytable (†0.8.1) python2.7-vidstab (†1.7.3) python2.7-vine (†1.3.0) python2.7-virtkey (†0.63.0) python2.7-virtualenv (†20.0.21) python2.7-virtualenv-clone (†0.5.4) python2.7-virtualenvwrapper (†4.8.4) python2.7-visitor (†0.1.3) python2.7-vmprof (†0.4.15) python2.7-vobject (†0.9.6.1) python2.7-voluptuous (†0.11.7) python2.7-vowpalwabbit (†8.8.1) python2.7-vsts (†0.1.25) python2.7-vsts-cd-manager (†1.0.2) python2.7-vultr (†0.1.2) python2.7-w3lib (†1.22.0) python2.7-waitress (†1.4.4) python2.7-wakeonlan (†1.1.6) python2.7-Wand (†0.6.1) python2.7-warlock (†1.3.3) python2.7-warrant (†0.6.1) python2.7-wasabi (†0.6.0) python2.7-watchdog (†0.10.2) python2.7-WazeRouteCalculator (†0.12) python2.7-wcwidth (†0.2.3) python2.7-web.py (†0.51) python2.7-webapp2 (†2.5.2) python2.7-webassets (†2.0) python2.7-webencodings (†0.5.1) python2.7-WebOb (†1.8.6) python2.7-webrtcvad (†2.0.10) python2.7-websocket_client (†0.57.0) python2.7-websockify (†0.9.0) python2.7-Werkzeug (†1.0.1) python2.7-wfuzz (†2.4.2) python2.7-wget (†3.2) python2.7-wheel (†0.33.6) python2.7-whichcraft (†0.6.1) python2.7-whisper (†1.1.7) python2.7-Whoosh (†2.7.4) python2.7-widgetsnbextension (†3.5.1) python2.7-willow (†1.3) python2.7-worldengine (†0.19.0) python2.7-wptserve (†3.0) python2.7-wrapt (†1.12.1) python2.7-WSGIProxy (†0.2.2) python2.7-WSGIProxy2 (†0.4.2) python2.7-wsgitools (†0.3.1) python2.7-wsproto (†0.15.0) python2.7-wtf-peewee (†3.0.0) python2.7-WTForms (†2.3.1) python2.7-wurlitzer (†2.0.0) python2.7-wxPython (†3.0.2.0) python2.7-wxPython (†3.0.2.0) python2.7-wxPython (†4.0.7.post2) python2.7-x11_hash (†1.4) python2.7-x256 (†0.0.3) python2.7-xapian (†1.4.15) python2.7-xapp (†2.0.1) python2.7-xattr (†0.9.7) python2.7-xcffib (†0.9.0) python2.7-xhtml2pdf (†0.2.4) python2.7-xkcdpass (†1.17.3) python2.7-xlib (†0.25) python2.7-xlrd (†1.2.0) python2.7-xlsx2csv (†0.7.6) python2.7-XlsxWriter (†1.2.8) python2.7-xlwt (†1.3.0) python2.7-xmltodict (†0.12.0) python2.7-xmodem (†0.4.5) python2.7-xmpp.py (†0.5.0rc1) python2.7-XStatic (†1.0.2) python2.7-XStatic-Bootbox (†4.4.0.1) python2.7-XStatic-Bootstrap (†4.1.3.1) python2.7-XStatic-jQuery (†3.4.1.0) python2.7-XStatic-jQuery-File-Upload (†9.23.0.1) python2.7-XStatic-jquery-ui (†1.12.1.1) python2.7-XStatic-Pygments (†2.2.0.1) python2.7-xvfbwrapper (†0.2.9) python2.7-xxhash (†1.4.3) python2.7-yamllint (†1.23.0) python2.7-yanc (†0.3.3) python2.7-yapf (†0.30.0) python2.7-yappi (†1.2.5) python2.7-Yapsy (†1.12.2) python2.7-yarg (†0.1.9) python2.7-yattag (†1.13.2) python2.7-ydiff (†1.1) python2.7-yenc (†0.4.0) python2.7-youtube-dl (†2020.06.16.1) python2.7-youtube-dl (†2020.06.16.1) python2.7-yt (†3.6.0) python2.7-yubico-client (†1.13.0) python2.7-z3c-checkversions (†1.1) python2.7-zake (†0.2.2) python2.7-zarr (†2.4.0) python2.7-zbase32 (†1.1.5) python2.7-zc.buildout (†2.13.3) python2.7-zc.buildout (†2.13.3) python2.7-zc.buildout (†2.13.3) python2.7-zc.lockfile (†2.0) python2.7-zeep (†3.4.0) python2.7-zeroc-ice (†3.7.4) python2.7-zerorpc (†0.6.3) python2.7-zetup (†0.2.64) python2.7-zfec (†1.5.3) python2.7-zict (†2.0.0) python2.7-zipp (†1.0.0) python2.7-zipstream (†1.1.4) python2.7-zodbpickle (†2.0.0) python2.7-zope-deferredimport (†4.3) python2.7-zope-hookable (†5.0.1) python2.7-zope.broken (†3.6.0) python2.7-zope.component (†4.6.1) python2.7-zope.configuration (†4.4.0) python2.7-zope.contenttype (†4.5.0) python2.7-zope.copy (†4.2) python2.7-zope.deprecation (†4.4.0) python2.7-zope.dottedname (†4.3) python2.7-zope.event (†4.4) python2.7-zope.exceptions (†4.3) python2.7-zope.filerepresentation (†5.0.0) python2.7-zope.i18n (†4.7.0) python2.7-zope.i18nmessageid (†5.0.1) python2.7-zope.interface (†5.1.0) python2.7-zope.lifecycleevent (†4.3) python2.7-zope.location (†4.2) python2.7-zope.proxy (†4.3.5) python2.7-zope.schema (†6.0.0) python2.7-zope.size (†4.3) python2.7-zope.testing (†4.7) python2.7-zope.testrunner (†5.1) python2.7-zstandard (†0.13.0) python2.7-zstd (†1.4.5.1) python2.7-zxcvbn (†4.4.28) pythonocc-core (†0.18.1) pyunbound (†1.9.3) ropper (†1.13.3) screeninfo (†0.6.5) setuptools-check-hook (†) setuptools-setup-hook (†) shiboken2 (†5.12.3) smugline (†20160106) soapysdr (†0.7.2) soapysdr (†0.7.2) sybil (†1.3.0) syncthing-gtk (†0.9.4.4) trytond (†5.6.2) vtk (†7.1.1) wheel-unpack-hook.sh (†) yoda (†1.8.2) z3 (†4.8.7) zeitgeist (†1.0.2) ```::",ea5dd712b8b1c64a16fdd0b095e9d4badb1ac909::
https://api.github.com/repos/NixOS/nixpkgs,92046,owncloud-libsecret::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"The libsecret dependency is required to access secrets from the gnome keyring. (The same is included in the (nearly identical) [nextcloud-client](https://github.com/NixOS/nixpkgs/blob/84cf00f98031e93f389f1eb93c4a7374a33cc0a9/pkgs/applications/networking/nextcloud-client/default.nix#L51)) If possible, it would be great if we could backport this to 20.03. ###### Motivation for this change I would like to use the account login from my gnome-keyring with the owncloud-client package. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4f276b8b3c956b9a1cffa281c36e277791f88c8c::
https://api.github.com/repos/NixOS/nixpkgs,91901,fix_91710::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"**Not a backport,** just a bug that does not happen on newer revisions of upstream. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",214d063d1a166bb53abd19e806df27f605807cce::
https://api.github.com/repos/NixOS/nixpkgs,91848,lorri-1.1-backport-20.03::release-20.03,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::,"backported from master Minor release, no breaking changes, mostly bugfixes ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a49feb5f965c3b04ae99de046d07a80fe0913b6a::
https://api.github.com/repos/NixOS/nixpkgs,91553,fix-termdown-20.03::release-20.03,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Termdown is currently broken on 20.03 because of a missing dependency on `setuptools`. This is fixed in master by https://github.com/NixOS/nixpkgs/pull/87535/ which updates it to a newer version and add the missing dependency, but hasn't been backported. This MR just backports the addition of `setuptools`, and add a quick test ensuring that the executable works fine. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",94ae3f10f352cafeb961da11a6dbc99e1b4bf6ec::33544680856ff265598612c018344d4ece7bb290::
https://api.github.com/repos/NixOS/nixpkgs,91402,mp4v2::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change This switches to a new upstream for mp4v2. I searched the git logs and the commit message indicate that the following CVEs are fixed: * CVE-2018-14054 * CVE-2018-14403 * CVE-2018-14379 * CVE-2018-14326 * CVE-2018-14446 * CVE-2018-14325 Given the CVEs, this should probably be backported to 20.03. Also see: #90888 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",78e2687decaf1eecfc585328a14c5b097fd18885::
https://api.github.com/repos/NixOS/nixpkgs,91357,bump-hydra::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::8.has: port to stable::,"###### Motivation for this change Fixes the build the changes from b505bf202b0c23e3bd22d2555d79d6fbb2fa498c. Can be backported if the `nixFlakes` bump is backported as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",39e3c15706c8e68fb37d3c71074dabe34cfb3a1e::
https://api.github.com/repos/NixOS/nixpkgs,91226,backport-linux-latest-and-testing-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::8.has: clean-up::8.has: package (new)::,"###### Motivation for this change My new laptop needs linux >= 5.7 for graphics support and release-20.03 only has linux <= 5.6. This backports `linuxPackages_latest` and `linuxPackages_testing` from master. This is a much smaller version of https://github.com/NixOS/nixpkgs/pull/91225, where nothing but the `*latest` and `*testing` kernels are being updated, and none of the strictly unneeded configuration changes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5bc40483e58282baafddc77497c4f2edfc8f3d7b::87a110ff23d48f521f7cb9a9ac74ebba484097d7::7dabe08aa5cd4841486c9940205c590d8e8d737d::3328c69d359a91fd5e33af87ce1a6f0689bd8b00::61e1b66b9a5c0e6ffa81b3917f60c596d53adb94::48c7203ebe5c06b4fcee5a6daddbfd934058069e::760436a0225264a88091a588aebbe45878cbd79c::392f8e128249787a87c46fc6e4965acdc7bff10e::62c2df452f71f40b0ac0adf0f7159db2ded9dd33::86a9689852f6e867d364e62f98b2ce0c50621c39::e268676f5892b489e4afdf1efd069d19dc7e624b::1bc943ec83040c99b6e597b775fbed5603399cf8::18253518e11e3703baec465a5550dbe7575ace68::979b757b2aa937721d8ccec988a8584c90e3ef10::58f3e7b88fffae060162f6b27b453d7a996b7e9b::
https://api.github.com/repos/NixOS/nixpkgs,91225,backport-all-kernel-updates-20.03::release-20.03,0,closed,6.topic: nixos::8.has: module (update)::,"###### Motivation for this change My new laptop needs linux >= 5.7 for graphics support and release-20.03 only has linux <= 5.6. Initially I wanted to only backport `linuxPackages_latest` and `linuxPackages_testing` but found some patch dependencies in there and decided to look at the full history difference between master and release-20.03. The result is this PR which backports everything. I figure backporting everything is good for: * hardware support. * ease future backporting efforts. * misc fixes that appear in there. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",fea3370c2b9fff9c4561f9c6ad885909be0f2bb2::c3097c65a879e476774afb6eb057dd6347c1da46::b8a211dddfa81f0885fb90418d942c7f5fe2a1c5::3b0273bb25e255132d9409f099987455496f2d1b::b8fbedeccf3c6f11ab1a6b63ed55fe3767e903ed::da04b7e3fdbd1acefba8d24291255d139fc14388::eac54e9ca81406bbded7394c61339add0f6e1258::fbf44a437453c1d17073f88b4a71f07a527e9a06::df233697e68574c7cf6aa05f498e96bc658fa44e::b416bffdace9cd1bc527852c5605c940f7c265f7::90ed4d0ec5530a73a8673744acadf0299be48661::bee7ff676a883a4f597c89153efaace1111fc1e7::39a2dc62b07d7395c277137a6005fae408aae947::e7d81ab7e3248d5e5747b5c3b49ad6c32cc87dd0::678e884a8fc16c8444a90a7adb14ce0ab8d1a262::79b573563156f633603e21db9372e6de08f637f9::8847c048acb4f29f7d5065c55b2dd5627f5cfe5b::20f826e61bdb7525e0908c1bacf6bdab472dd3ff::541303e01c835c6bd6a6c8ecdb02c11ac315d7c3::5845e7db24e02804204b0a26a215ea234720bd7b::7ef298e1411488c024f8c413dbb10522afc21c5a::363f3107a2f95bdfa29769bac0e02707484f12fe::93be038e4dec90eb6f96fa88d78c23d0df8f2853::0f55aaab2bf10ed05cc9d62cc50cc91ede37e0c7::7692110376afb4c403adbe24e5a9ba308844334d::e0ca0d17dbbf54eb7b4710ca90b5955032b8b939::66bd5be017fc387bb00652af544a0ae1ed5912cf::15a2b4a41fc12b55bbbabf43dd3c28495a0683f8::b1f11de7f569787220ff799dc448d0082abcfcac::af1cec0957f5f41186ca4761f2364475a3527fd3::3b9eec875f37d5299bc820fe1ad7c5406b6f55f8::c6f4fab7037049f22dbb312384783edce0a2bfa8::b8f07b6b726559a513fa9aa65f23703612d9efce::1cc3589320560919fee519d103be0c13865d1e03::f6798566bd2302695e1d833c8c5476fd19f61733::f7efcf1287e5600978498babc14504712a947c90::afa0321d094b157596354486b0e6264dc91028d4::6366f7e7980e134305725c68d61e70d812554784::83102704b3020987b71138f240b94bb769077022::bb4c4f3e740440fd058497fbe999b2a5f09599af::9497710c298674f612e8d2146e6d79472a6c204d::bd0aba20de7d627311a681583913d079089357b6::bdab477c829f6a22a040da8abf6f74a54aa9c213::8fc2ee179f738d948724de1327d235525d7e218c::81cf99a4f2d85557194bccfc6de3cf625f1c1a33::054820d4a9980064a4fb4f9851ecc9a53934d5dd::484da78a093ae26dead9222f27b962340dbfc7f1::8e8dd6527020abbb3cf45a5c107020c7906b4209::76510890c50c11e1cfcd58e1c4a2d8fd112278e6::da5113ef184e70565825a08e651fa49bdfbdb5f5::c2a0966c0f3a7632520016e15c8c7401f3c51a12::e313e0a019b22c0a1a213b41b7e70a78dc2dc378::770dc248c1781f4608b7f5e89e16030ec1bf1c1e::7aa7a77def41fd58356156c95c269ae913b04851::03e4b555d073932c70412aa16836221670d4bc17::ea280be9c5526539f1d840c88dddf91a859e3399::79d028e69a2923c8738ffc4d249c7209cdc06d85::78299ee93e266ad474fdd04d874da8fb14777d35::fbe39652b8114977c29f9d34e67a1dbf20477d5d::032aaa74947474a166d352e02ab3e1628d05ad7b::c61460ed11975b655fa0c77055d4bda9739f7fa8::7ca39d9d91276be62354842914cfccd4e1427847::70cc0e067d18b7cad47cb2c13571eb50dfe03e02::c6ee3b0fda05e175f662d446139b41851d5b2b83::163fdcd324dea5b3621e28c5280f0e288d5dd0b8::4130ddd4025b909fde9a8d20be3641498290d1df::fb775c17dac7eae1c0e1649a8ea39d3ecd12a159::1c5a373dd6d9e491cb34e0fbbbb36625b7d246f9::e57ad5f8ba7b5c325dfbe22c7792c6f19af0fbdf::f0c8c0148fe738c566d69d9cc8ddf46d2f905c16::df628ebe05e619d17533248f88bada9af2baa640::e71ae3452d4261924eb186bc6cb276ba25aa71b4::90c8ef22b55865c3193eeff92660ccc0850c21b3::ce37c40370083133eaba1a1841abbf84f6554aae::6cee7fa6904d62bc399fb4afa8737dd1946a4501::c691bcd4aa711cd51ea9cc2eb2cebef5db52237a::02abee19e55d488b0282197048101505a3fbe780::0dd99e366151e835ab551f4d620fa476720961e0::cb408b9944bc3c8624042b7cbb758b0df12f2106::d8de855cf40206fc24e9f866be92c480453a7fc1::1712ec6e080dd01cda28e89d41b85c0d2d1280a7::9fc399ca15e739a44ef978bbf749d9bd683f63d6::cdb025e0e32ca1725f5c0e7750d4d1b94923b8a4::00b1c8a8e5460d97d52004308166941d84a0d1bd::16956e90223ec098165bdc42f1d85f0dc055cb17::ef495a9298516f0c73c8ec61c5c87b17e15d2548::6d997cc4fb57ba0278405a4b36d0ff74be3ef5fd::86038746e69ac4d9342351b3fa8398357cb07f6b::f58ca537bfea21ba76f67bf079088e0129669d56::363d0faa0f687d390c1c9d7c43e0f02d8fb49c19::5186fd317985aaebaf4f0928831b1b4bac9a2d9f::f5a1eb0df38e2bcde63836a7545738fab06c75ee::3e30b89f1fc1e5bd2ebf751a24977cc80a541fe6::4171043dbcf30f6c4dd7ee6a5470f0da4baa84a1::ee7c7102aefc423305be975cc2ca2e9e71204d51::fa01d61af4a0f3f3ad117dffb6c05da38735cba2::7930c5735a9a6e5b2575893b55e84ffe6c79fb79::3ed679a028c8ae488e3aa80bc5fe35948abe570c::da9155373be04eb33490c6f607ab003ca7fcc848::1957b1cedbe107b7ba9e856370618e55b3abe416::aa4a4b0d20c9af8577149dc5e2ec063b74fa9ff8::0a5117973d80a92debcc55ac06cb58bb595e7e2e::853cd9a3aa9923b263e08b2a8cecae15a7278a3e::ff2bf3a39570482fd4443285e1d336c8042274b1::da0b88ef1df6a2eb3b92ca8f410091c8a3c16f8b::b8375941fa7d0fe197b77131aa9ea44c8d4707a1::a73e2731d1e023ddb1591d9defe7cf4c1692f260::4abdfc44c6b145f9f2f938002d68b64435fa0f8b::4d454e88489fbe896374f2b6a9c60fb439d69d04::ab701962d74d8cfb77552452f49dcaac624a6d5d::cc014c47e260625e79954e938b37fa68e0d8160f::d68e6e003b48f88a060eb793ef7a59df35521fda::54466cbeeed5a5bdc756b3b40299faa9eeba1b18::2e008807de54c9c0dedace7ed63b3404fa622406::876b8af58bf59e5ad50eb7c16a7669efa4b047eb::aa11d8e34e0fb735269e2d2e8eac784a54180818::ecd1d308b4114aa22d24edbc2d701e70cfea4baf::185c978f62da066dc3af98a23e86dd3239dd1200::55687f9c40c21332bee0888ae43da7fe5a199f3b::78ab4b6d8ea65ac5c3957a836e8691201cd22f57::5deca973d09432f14ded7c4e53e8c263af9a62cf::19f47a5f2813cd5d60a4ff746d22ef3219bfadfa::31a6e25b664dcc16d6a44cb06ea8e32010d36b29::
https://api.github.com/repos/NixOS/nixpkgs,91201,update-python-tornado::master,0,closed,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::6.topic: python::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [X] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::please format ```suggestion propagatedBuildInputs = lib.optionals isPy27 [ backports_abc certifi singledispatch backports_ssl_match_hostname futures ]; ```::we may want to keep around a v5 for applications which aren't ready to upgrade to 6::",f3f1d0d92ccf315b8b98b97f4edcf54866e71f5e::
https://api.github.com/repos/NixOS/nixpkgs,91110,bump-neomutt::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"###### Motivation for this change https://github.com/neomutt/neomutt/releases/tag/20200619 ---- I didn't encounter any breaking things, so from my PoV it should be fine to backport. ---- Closes #86896 Closes #89813 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3b9a8f54260e20f8eb794aa70fb83d627450c666::b8f65212ec43b7671447b3dd83d365d134224a81::b58227a4c07e6e39dd8e191b8a8cd6c8ef28ff49::499d18849f334ba5ded1ccffc9345c7d3d0a3c40::
https://api.github.com/repos/NixOS/nixpkgs,91076,monero-20.03::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Version bump with several bug fixes. This release doesn't introduce breaking changes so it's safe to backport. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",0a29dda8f884fc8e3e2c7ddbcf6c11a54a975273::7587e079449ea04761c4a196c28b5e977a30942d::
https://api.github.com/repos/NixOS/nixpkgs,91012,chromedriver-backport::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"#### Motivation for this change Bring in sync with chromium versino, so that chromedriver and chromium can be used together. Chromium 83 was backported to 20.03 without an update to chromedriver, so chromedriver can't be used in the current release. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4ac4a236eb69d60bde8355e3582216190e9041de::
https://api.github.com/repos/NixOS/nixpkgs,90978,20.03-libexif-0.6.22::staging-20.03,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::11.by: package-maintainer::8.has: port to stable::,"###### Motivation for this change Closes https://github.com/NixOS/nixpkgs/issues/90843. Closes https://github.com/NixOS/nixpkgs/issues/88340. When I added four security patches to the already existing four patches I quickly ran into merge problems and decided, that I'd rather backport https://github.com/NixOS/nixpkgs/pull/88100. I consider the version bump minimal, as [the release page](https://github.com/libexif/libexif/releases/tag/libexif-0_6_22-release) states that 0.6.22 is largely a bugfix release. - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e3ca027fa561cb06b95c269be55254e4e8954603::
https://api.github.com/repos/NixOS/nixpkgs,90611,graylog_3.3.1_with_plugins_backport::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change 20.03 backport of #90597 due to the fix for a bug resulting in potential dataloss. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",70ecf772b9405e9a73a3129cac3b3e1c676a419d::60da5edb9763b6922e4cb751f7a51744611bbbf2::
https://api.github.com/repos/NixOS/nixpkgs,90269,2003nextcloud1806::release-20.03,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of #90268 for 20.03 runs on my system ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f6faec26e31d8ae468945500b958cb5f1cf41895::
https://api.github.com/repos/NixOS/nixpkgs,90064,nixpart0-glibc-fixes::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"Backport of pull request #89948 by @pbogdan against NixOS 20.03: > ##### Motivation for this change > > While AFAICT not used directly in nixpkgs the package is used for provisioning new servers in nixops' Hetzner module. > > This PR contains a collection of fixes for the package's dependencies to unblock its build. Closes #86403. > > This branch contains the same commits as in https://github.com/NixOS/nixpkgs/issues/86403#issuecomment-628891971 just rebased onto more recent master. > > If accepted I will make a backport PR to 20.03 as well as per the discussion on the linked issue. > > /cc @nh2 > /cc @kolloch @mkg20001 who might still be interested as well > > ###### Things done > > - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) > - Built on platform(s) >    - [x] NixOS >    - [ ] macOS >    - [ ] other Linux distributions > - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) > - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` > - [ ] Tested execution of all binary files (usually in `./result/bin/`) > - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) > - [ ] Ensured that relevant documentation is up to date > - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Cc: @NixOS/backports::",573b24ee9bd96d99ec4259e2e978fe05edfb192a::5858bc26427cadca792d7f9d2bf9e66d77294f92::497b2153a7ff45ef7cae10675b79445912127080::1ecfb2cc5181581ca6a21f57ae3af6092f08b15e::4fa1d54d4c7aeaac70dc52b6bdab7810bd8b8e8f::daace8a647c21afc7f729ed411cde3728929367b::
https://api.github.com/repos/NixOS/nixpkgs,89988,dandellion-mumble-1.3.1-backport::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change This is a backport of #89797 As mentioned by @ajs124 in https://github.com/NixOS/nixpkgs/pull/89797#issuecomment-641254121 this minor version has a couple security fixes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). mumble and murmur confirmed to work. I've never gotten mumble-overlay working, so haven't tested that.::",b4aaa624134cdf36057410ecad7a3fe918d2fd82::
https://api.github.com/repos/NixOS/nixpkgs,89948,nixpart0-master-pr::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"##### Motivation for this change While AFAICT not used directly in nixpkgs the package is used for provisioning new servers in nixops' Hetzner module. This PR contains a collection of fixes for the package's dependencies to unblock its build. Closes #86403. This branch contains the same commits as in https://github.com/NixOS/nixpkgs/issues/86403#issuecomment-628891971 just rebased onto more recent master. If accepted I will make a backport PR to 20.03 as well as per the discussion on the linked issue. /cc @nh2 /cc @kolloch @mkg20001 who might still be interested as well ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c494fc51dc44a192d07aec9c67e4a44eca11160a::0776d9043c6a7335db46f2fde96ef9a08387ef7c::eb696ef672716567c8e1c22675ac4b53352e8dfb::64f4073f8d068fe0f226287c2c1045e08e3e7333::912e1e87c0509d6f75acb33a9c21423eb6bffba6::05f1bcce4949fe2a6fc9472051f39a002cbab133::
https://api.github.com/repos/NixOS/nixpkgs,89895,znc-1.8.1::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Update ZNC to 1.8.1 to fix [CVE-2020-13775](https://wiki.znc.in/ChangeLog/1.8.1). Thus, this change should perhaps also be backported to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",521416791b3d79ec89d470da1fca74b5963d49e5::
https://api.github.com/repos/NixOS/nixpkgs,89836,matomo::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change https://matomo.org/changelog/matomo-3-13-6 @Kiwi While this is rated a security release, that's only because of a plugin, but plugins do not work on NixOS anyway, and therefore shouldn't need backporting. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7f14cdbe04d75b10a24aac0ed853d42d6f2c521e::
https://api.github.com/repos/NixOS/nixpkgs,89793,staging::staging-next,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: python::8.has: package (new)::,"## Motivation for this change I wanted to have a try at updating binutils (I took the work of @lovesegfault #86954), and as all packages needed to be recompiled, I tried to make gcc10 default. ## Things done - [x] Fix `ld: multiple definition of` (made gcc10 use `-fcommon` by default) - Fix packages to work with `-fnocommon` - [x] gdbm - [x] Fix python's `_findLib_ld` - [x] Fix libomxil-bellagio build - [x] Fix game-music-emu build (updated it) - [x] Fix rEFInd build (TODO: build it with gcc10) - [x] Fix dhcp build - [x] Fix pythonPackages.cffi (TODO: make tests pass) - [x] Fix pythonPackages.numpy (`ImportError: liblapack.so.3: ELF load command address/offset not properly aligned`) - [x] Fix systemd ### Make clean fixes for - [x] rEFInd - [x] pythonPackages.cffi - [x] blas and lapack - [x] libopus - [x] qt512 - [x] ncmpcpp - [x] libreoffice - [x] range-v3 - [x] zimg ___ - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::This can be removed, see https://github.com/NixOS/nixpkgs/pull/103089.::please avoid making these kind of style changes, because they're typically personal.::Motivation?::This will need to be fixed before we merge. I can have a look at that.::This can be removed, see #103089.::This can be removed, see #103089.::This can be removed, see #103089.::This can be removed, see #103089.::This can be removed, see #103089.::Motivation?::This can be removed, see #103089.::This can be removed, see #103089.::``` Automatic merge went well; stopped before committing as requested error: attribute 'patches' at /home/jon/.cache/nixpkgs-review/pr-89793/nixpkgs/pkgs/development/libraries/gdbm/default.nix:19:3 already defined at /home/jon/.cache/nixpkgs-review/pr-89793/nixpkgs/pkgs/development/libraries/gdbm/default.nix:12:3 (use '--show-trace' to show detailed location information) ```::I have no idea...::A lot of `AssertionError: assert 'linux' == 'win32'` and `OSError: ctypes.util.find_library() did not manage to locate a library called 'm'`::What is the status on this part?::The errors sadly didn't magically disappear... I will try to make the tests pass tomorrow.::not your fault, but: ``` pkgs/tools/networking/dhcp/default.nix: 71: Wrong indent style found (tabs instead of spaces) ```::https://github.com/ncmpcpp/ncmpcpp/commit/cc6fbddb3798346e20d4a694ff107b5976ab060e::https://github.com/ericniebler/range-v3/commit/a91f0e1be27a31c446452a753001d4518ef83a6b::https://bugs.gentoo.org/705730 https://gitweb.gentoo.org/repo/gentoo.git/commit/?id=8284530f4bd86a38b9867f847bd844f5d8d08e87::https://sourceforge.net/p/p7zip/bugs/226/ (Also, this will break on clang, the flags need to be space-separated)::I fixed the tests on 3.7 and 3.8 by backporting a fix of ctypes.util.find_library.::It fails with ``undefined reference to `strlen'`` https://wiki.syslinux.org/wiki/index.php?title=Building::OpenSUSE seems to have a patch for this one: https://build.opensuse.org/package/view_file/openSUSE:Factory/syslinux/syslinux-4.04-gcc10.diff?expand=1::Thanks!::",8ad99f57958e641ca32a5630473201920d41d6e5::0e5c0635607d9ffc6be40dec3037e22199686bc9::6774ba709a04dbb0ed2a431dfe0ae5cb39348119::0470cbb3bc20de4be4d69fc6e91bb20d859a6160::336436d8e99dd9960977daf3c6ad38a69e938a4b::d946a5c9f3374f98420e34131394d475aff3685d::089f0d7700d4769f83d8ee6f5b9f9ee37c92d6ff::e64c490fb6548a127962c1b4bac66105d2ee4ee5::b06340567e9017f4fd1e4aa0927980d38dfd1f54::431f213f9431feb6f384632bb5e53a73df15202a::63aa8285b72e76d8ab67d34c6fa799adac749f58::0fe9680fca2d4cfa518870373de98d1b17df535e::162190f4d539c51067dece2cba0638fcefb97312::8aedfde71f98b67dfc301345d88d202e6f170bae::e0a848567343c39859e46a4bb5830c681e700422::3823667e9e37d18f508fe9742fba753f8e7bd0a4::66eaa39d3b455edbe851a70a27b8100153b2438f::98f84ec1d36eb79be4a65580bb4d881b09f23131::80b2952bcfd6a3baa5106a10c0c398f03af4638c::8549054c7379ee9623b896acaff41fd4f8c2d988::d5b6f3cedfc82ef8a7898c822872c8c82d706351::221439c23d6a3609bfdca7d7d2687b28bc56caeb::bed6d6060a6ff442067a4a2f956ae50c5de0f6d3::2694744542448c0f038d1fcd4e42a177841c0998::a6681eeec3ee3ad29027402267e0f7e99264d575::4008fd3841754b0e764038102456c12193f25f86::
https://api.github.com/repos/NixOS/nixpkgs,89762,nextcloud-oc_pass::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"The OC_PASS environment variable can be used to create a user with `occ user:add --password-from-env`. It is currently not possible to use the `nextcloud-occ` to ""non-interactively"" create a user since this variable is ignored by sudo. Note I plan to backport this to 20.03. cc @Ma27 <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",cb682317b008799e3bf647484c6a48d078bc0230::
https://api.github.com/repos/NixOS/nixpkgs,89544,issue-77304-pycurl-flaky-multi_memory_mgmt_test::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::6.topic: reproducible builds::,"###### Motivation for this change Fixes https://github.com/NixOS/nixpkgs/issues/77304#issuecomment-639488868. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Note I've only tested it on `release-20.03`. This is the forward-rebase to `master` of that. This should be backported to `release-20.03` after merge, because currently 20.03 is flaky.::",d29a4e46156b994b00461f8f36233691a26b72ba::
https://api.github.com/repos/NixOS/nixpkgs,89490,replace-sri-hashes::release-20.03,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::2.status: merge conflict::6.topic: GNOME::6.topic: python::,"###### Motivation for this change These break compatibility with nix 2.0, see #89275. Unless we also want to backport #89476 to the 20.03 release. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",63ce6762466342c8fed8fa33c7e30ace9e340a58::64223c86ac5c9bc6d8c940fdb2be576fcc64b64e::
https://api.github.com/repos/NixOS/nixpkgs,89422,20.03-grafana-6.7.4::release-20.03,0,merged,1.severity: security::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change https://github.com/grafana/grafana/releases/tag/v6.7.4 Important security fix release, details in https://grafana.com/blog/2020/06/03/grafana-6.7.4-and-7.0.2-released-with-important-security-fix/ We've already switched Grafana to 7.x in master, so, I've prepared the update separately for 20.03. Let me know if backporting 7.x is preferred. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). <!-- Reviewable:start --> --- This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/nixos/nixpkgs/89422) <!-- Reviewable:end --> ::",ca7a4d1c3ee73e1fd0dc59dc7e4eedf6a4d49b7a::
https://api.github.com/repos/NixOS/nixpkgs,89323,nslcd::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change `ldap` queries require a network connection. It might be reasonable to backport this change to `20.03` as well... ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Can we set this only if ldap logins are used. I don't want to slow down the startup for all NixOS users.::Confused it with nscd.::",c1bbb61e1c2ff053a7023c07fa6efcce19a998b6::
https://api.github.com/repos/NixOS/nixpkgs,89297,bump-hydra::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: port to stable::,"###### Motivation for this change Update Hydra to [latest `master`](https://github.com/NixOS/hydra/tree/750e2e618ac6d3df02c57a2cf8758bc66a27c40a). ---- <del>Should we also backport this?</del> Needs backport for #89305. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",c18016cfbfb16a7a1bf89bd0e99e864f28214903::
https://api.github.com/repos/NixOS/nixpkgs,89191,nix-activation-script::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Fix https://github.com/NixOS/nixpkgs/issues/72372 on 20.03, backporting the relevant changes from https://github.com/NixOS/nixpkgs/pull/87182 without the backwards-compatibility-breaking parts of it. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a772e71fa54d888a524751a1c1b7325efdbce1e5::
https://api.github.com/repos/NixOS/nixpkgs,88829,acme-use-ec256-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Backport of #83121, as discussed in https://github.com/NixOS/nixpkgs/pull/83121#issuecomment-630260135: > @NixOS/acme Should this be backported to 20.03? Switching from P-384 to P-256 is extremely unlikely to break anything, and most people are going to regenerate their account and certificate keys on upgrade to 20.03 due to the switch to lego. That feels like a good opportunity to pick the right key type up-front, and otherwise it may be an indefinitely long time before keys are recycled and they benefit from this change. > > Asking now because the key type is mentioned in the release notes in #87911. Nobody replied, and I think it'd be better to backport this than not, so here's a PR. Note that this change only applies to newly-created keys (but everyone upgrading to 20.03 is creating new keys due to the switch from simp_le to lego). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",8cc8fa19d954b46a250e701dc205c3e945605946::
https://api.github.com/repos/NixOS/nixpkgs,88679,no-title-bar_unbreak::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: GNOME::,"###### Motivation for this change Version in nix has been unmaintained but a fork has had updates for the last two gnome versions - could be backported to 20.03 as well to unbreak there - I've been using it since January and it works fine. No tags upstream so switched to a revision and changed version to a date. Not sure if I've gone the right way about all of the things in the nixpkg though. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1557563ade98446394deb1d52407285a858af0b6::
https://api.github.com/repos/NixOS/nixpkgs,88557,fontforge-CVE-2020-5395::staging,0,closed,10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::11.by: package-maintainer::,"###### Motivation for this change Close https://github.com/NixOS/nixpkgs/issues/88291. ###### Things done See the commit message for reasoning. This needs to be backported to `nixos-20.03`. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",156fc5f947e03da78fbfed4c4aa7645dda837942::a16ff5ea6ed4e3bf4063279027ef44d7181c44c2::
https://api.github.com/repos/NixOS/nixpkgs,88173,backport-skypeforlinux-8.70.0.76::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"(cherry picked from commit f44e3d4501bdd3a1e4018fbaef8b10c5d0e87266) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change This is the backport of #88166 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",2460bede17d6742d4712b69915d854c61184393c::
https://api.github.com/repos/NixOS/nixpkgs,88038,20.03/ansible::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::8.has: clean-up::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change - Missed backporting a security bump from #86980 - Backport  recent minor versions from #88037 - Mark Ansible 2.6 as insecure, since it's EOL and the CVEs in #86980 happened ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",46ee7806cac073cfa6b52c2e79ec835524e5f6bf::92fd2e5e0b3a26c596bd76fb92b789e7edd5165a::3a1771d609d577026e33d501211c684def50079d::b403f32223dd370cd14b908f28fbc70ac41fe4f7::905b027331a12f53b5a748b36d340c91834f95dd::
https://api.github.com/repos/NixOS/nixpkgs,87911,rkoe-release-notes-20.03-acme::master,0,closed,2.status: stale::6.topic: nixos::8.has: changelog::8.has: documentation::9.needs: port to stable::,"###### Motivation for this change Failures during 20.03 upgrade. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion A separate Let's-Encrypt-account is registered for each distinctive ```::Also, the rest of the changelog/documentation seems to be pretty `Let's-Encrypt` unspecific - the module uses the ACME protocol, and Let's-Encrypt is the default provider. I'd propose to reword this to match this style.::ACME here, too.::email address::```suggestion <listitem><para>By default, now ""ec384""-certificates are created instead of RSA certificates. ```::This should be a link referring to the option specified here.::Can you elaborate a bit on this? Why do my mailservers need different certificates?::For interoperatbility, mailservers need RSA certificates. There are several mailservers out there, which do not yet support ec384-certificates. Now, if you use ec384-certificates, these mailservers cannot send mail to you and send bounce-messages back to the sender (even if encryption is optional in your mailserver). So, if you do this, you will lose mails, cause bounces and be unsubscribed from mailinglists. So, for a mailserver, you *must* have an RSA certificate. See also: http://postfix.1071664.n5.nabble.com/TLS-problem-no-shared-cipher-tp105970p105979.html::Thanks to the explanation! We should add a small part of it to the `security.acme.certs.<name>.keyType` option, WDYT?::Note that on master (but not 20.03) the default key type is `ec256` instead; see https://github.com/NixOS/nixpkgs/pull/83121#issuecomment-630260135.::We backported the change to use `ec256` to 20.03 as well, as that's what `lego` will default to in their next version: https://github.com/go-acme/lego/issues/1091 ::",1c81622853f0702d67c45a1618738b98870af6c1::50361cce6399ede243695a72964e24af3a045eaf::
https://api.github.com/repos/NixOS/nixpkgs,87870,yv-3.7.5-20.03::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"(cherry picked from commit 52ad14bbee1c44688acdffc6a3ac595b80adca15) ###### Motivation for this change backport #84723 ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",46a0104bc9406a3aa6826b23cfec50df94c9114d::
https://api.github.com/repos/NixOS/nixpkgs,87868,update-palemoon::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Security update, will backport to 20.03. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5262ada436fb89d6d259f242ad6440a83dbef8f1::
https://api.github.com/repos/NixOS/nixpkgs,87808,20.03/slirp4netns-0.4.5::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::8.has: package (update)::,"Contains backport of #82902 + bump to 0.4.5. ###### Motivation for this change https://nvd.nist.gov/vuln/detail/CVE-2020-1983 (the CVE is for libslirp which is vendored in this version of slirp4netns) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6de57b4148eb1eb9d2e2f2a1cc0c472f048fb2c6::def173f8ff80d0ed4d37e8cbde9f8b6011b81f05::
https://api.github.com/repos/NixOS/nixpkgs,87807,20.03/samba-4.11.9::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::8.has: package (update)::8.has: port to stable::,"This is not a [backport](https://github.com/NixOS/nixpkgs/pull/87181) from master since it has samba-4.12. Release notes: * https://www.samba.org/samba/history/samba-4.11.6.html * https://www.samba.org/samba/history/samba-4.11.7.html * https://www.samba.org/samba/history/samba-4.11.8.html * https://www.samba.org/samba/history/samba-4.11.9.html ###### Motivation for this change The 4.11.8 release fixes: * https://nvd.nist.gov/vuln/detail/CVE-2020-10700 * https://nvd.nist.gov/vuln/detail/CVE-2020-10704 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",8830690924d800e3bef08870e3d9f2dc773721ac::
https://api.github.com/repos/NixOS/nixpkgs,87797,feature/nomachine-client-6.10.12::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Upgrades nomachine-client 6.10.12 Notes: 6.9.2 seems to no longer even be available for download so its kind of important to merge this (maybe even backport later) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",46213cf4d652bf5a5cda7ff996bf6ead3ae5ed79::
https://api.github.com/repos/NixOS/nixpkgs,87789,mkl-pkgconfig::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change The Intel MKL pkg-config files did not work, because they expect that the MKLROOT environment variable is set. This change replaces occurences by the actual path of MKL in the Nix store. Since the pkg-config files seem to break quite frequently after upgrades, add a post-install check to validate the pkg-config files. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion , enableStatic ? false }: ``` Nitpick, the formatters usually put the opening `}:` on its own line, so this can all be sorted and new elements added with a 1-line diff.::It might be nice to do this as a generic stdenv hook fix (opt-in).  pcfiles seem to break often, e.g. just in the last couple weeks: https://github.com/NixOS/nixpkgs/pull/85254 That said, this is already a nice improvement!::Thanks, fixed!::That's a great idea! I already looked whether there is such a hook before submitting this PR. I'll give it a try tomorrow or coming weekend.::Sounds good; in the meantime this is already a material improvement, so I'm going to merge this and we can do the larger fix in a follow up. Can you send a 20.03 backport PR, too?::Thanks! Will do!::",e88673aa27dea719295bcb6ec1ae6a67eca3d683::
https://api.github.com/repos/NixOS/nixpkgs,87732,fix-welle-io::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::9.needs: port to stable::,"###### Motivation for this change Welle-io refuses to start without the `qtgraphicaleffects` package. Needs backport to 20.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",68160d7b782360c5e7431d9a71503dae021b44bb::
https://api.github.com/repos/NixOS/nixpkgs,87701,qutebrowser-1.10.2::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change fixes CVE-2020-11054 ""backport"" of https://github.com/NixOS/nixpkgs/pull/87671 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @bjornfor ::",754b47aa4e7c290a173400474d20726911acceae::4b568d4c5b9a674b18824737982eb6998c546032::19d898219dcf2c2ffefe42cef3355333f08bdc36::
https://api.github.com/repos/NixOS/nixpkgs,87625,lxqt-fix-wallpaper-backport::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/87623 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",df3bafff200916912123e0aab7606bd991821d3e::
https://api.github.com/repos/NixOS/nixpkgs,87579,sudo::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::8.has: port to stable::,"In /etc/sudoers, the last-matched rule will override all previously-matched rules. Thus, make the default rule show up first (but still allow some wiggle room for a user to `mkBefore` it), before any user-defined rules. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Addresses #87555. I'll backport this to 20.03 after this gets merged (or whoever merges this can take care of that for me; I don't mind either way, but that might be easier than waiting for me to follow up). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",13e2c75c932adac6a198e35b04e2cb9a1eaf86cf::
https://api.github.com/repos/NixOS/nixpkgs,87550,pkgs/poezio/fix::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"This unbreaks the otherwise-broken package (setuptools is needed for importing pkg_resources). Presumably this change should also be backported to the 20.03 release--I could add a PR to that branch as well, but figure it's best to sort out a merge to master first. ###### Motivation for this change Unbreaking broken package. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9cb6c500926d6cbd4acdd3306da6cfb281c2d914::
https://api.github.com/repos/NixOS/nixpkgs,87543,fix-vim-plugin-order::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: vim::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change This is the backport of #78385. The comments of that PR said it should be backported. Sadly that never happened. This broke e.g. haskell-vim syntax-highlighting when people upgraded from 19.09 to 20.03. See: https://github.com/neovimhaskell/haskell-vim/issues/111 My guess is that the problem was introduced into master around 8dccb59bacef6ae1abc2725955aa3296c6160d2a from january. I could be wrong about that, but it definitely worked on 19.09. So this was broken only for a few weeks. Sadly exactly when the branch-off happened. @Mic92 @megheaiulian @jonringer cc: @emptyflask ::",db204e759bd0fe80e6e69f7c6c0c8cde6bddf724::
https://api.github.com/repos/NixOS/nixpkgs,87228,moodle::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"(cherry picked from commit e3e53adc35d1a45d3849d6246a3dc9c2ec296122) <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/82302 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6c5decf83e5f76ed5f43b0cb1ed90c71cdfe4070::
https://api.github.com/repos/NixOS/nixpkgs,87188,elan090::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Upstream update.  I'll also backport this to stable because otherwise elan can't be used to download Lean 4 releases. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f6f5f6a30f42eab06d431b64a2cfcf67b7d62863::
https://api.github.com/repos/NixOS/nixpkgs,87188,elan090::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Upstream update.  I'll also backport this to stable because otherwise elan can't be used to download Lean 4 releases. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f6f5f6a30f42eab06d431b64a2cfcf67b7d62863::
https://api.github.com/repos/NixOS/nixpkgs,87180,zabbix-backport::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change - partial backport of https://github.com/NixOS/nixpkgs/pull/87179 (etc...) - fixes cve-2020-11800 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",38e88e7f696728af050b1cd50c85f97bc61ad631::a1b16d3634ac6ae36919618c7f077c10bf71a0ad::216c1011040a2d1119d2c733ad43d232a4230fa5::
https://api.github.com/repos/NixOS/nixpkgs,87115,gitea::master,0,closed,,"as gitea 1.11 does not support go 1.14 <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change This repairs the gitea wiki on NixOS 20.03, and therefore should be backported. See https://github.com/go-gitea/gitea/issues/10552 for upstream issue. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",893111de32ddbeae347c4952168322bed0774133::
https://api.github.com/repos/NixOS/nixpkgs,87112,matomo::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change New release: https://matomo.org/changelog/matomo-3-13-5 Includes a bugfix for rapidly growing database usage, therefore I will propose a backport PR to 20.03 after this got accepted. The fix is in form of a database upgrade, which however worked flawlesly for me using `nixos.services.matomo`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3614d03590f83f941ead63731344bb716b4afdc0::
https://api.github.com/repos/NixOS/nixpkgs,87062,marcus7070/spyder-fix::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::,"###### Motivation for this change `python3Packages.spyder_3` was failing due to incorrectly defined desktop item: https://hydra.nixos.org/build/117762361 ###### Things done `python3Packages.spyder_3` should only be used as a library (`python3Packages.spyder` gets made into an application), so I removed all the application stuff from it. This reduced closure size and fixed the build. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Also tested `cq-editor`, which is the only attribute that uses `spyder_3`, and it works fine. I should probably backport this to 20.03 as well.::",1ad34b04777eae3cdd0c8b0c15f81f80a6dcf74d::
https://api.github.com/repos/NixOS/nixpkgs,86952,inkscape-0.92.5::release-20.03,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 101-500::8.has: port to stable::,"Port of #85184 to 20.03. cc/ @jtojnar ###### Motivation for this change Inkscape 0.92.4 depends on python 2 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Could you please not backport the maintainers change? I am explicitly not maintaining software on stable releases: https://github.com/NixOS/nixpkgs/commit/986799d95f56b8c511bb33eae12e9337b40d1b8e::Done. Thanks.::",747af94550cf2163791d54c69efd6f822309bdb4::ecca5b16fff4040b498ae289399f5fc0ad203ffc::2a463129e0bf1ad3a084ca6c92a18a4728991b82::
https://api.github.com/repos/NixOS/nixpkgs,86759,backport-kubeval-fix::release-20.03,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change backport of #82816 to allow kubeval to be un-broken in 20.03. cc @Mic92 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",879ce11c21ebfc1f197207486c8c94e5a05d6a78::8f84e120f02ae95f75c8bafb393b90ae5bf9c3f7::
https://api.github.com/repos/NixOS/nixpkgs,86742,update-tmux::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"From the changelog: * Fix build on systems without sys/queue.h. * Fix crash when allow-rename is on and an empty name is set. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](https://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Should probably be backported to stable. ::",6f0289ef9631017aad311a12abf63a8133ef6323::
https://api.github.com/repos/NixOS/nixpkgs,86661,gnome-3.36.2::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::11.by: package-maintainer::6.topic: GNOME::8.has: documentation::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change <details> <summary> News </summary> >  79551b213404c88a7145a0b13e8935f232ff450c: gnome3.quadrapassel: 3.36.00 -> 3.36.02 >  	(https://ftp.gnome.org/pub/GNOME/sources/quadrapassel/3.36/quadrapassel-3.36.02.news) > >  	quadrapassel 3.36.2 >  	==================== >  	* Translation updates for Swedish, Czech, Ukrainian, German, French, Romanian and Friulian. > >  	Contributors: >  	Anders Jonsson, Marek Černocký, Yuri Chornoivan, Wolfgang Stöggl, Charles Monzat, Daniel Șerbănescu, Fabio Tomat > >  	quadrapassel 3.36.0 >  	==================== >  	* Updates on the following translations: Dutch, Polish, Intalian, Croation, > >  	Contributors: >  	Goran Vidovic, Milo Casagrande, Piotr Drąg, Nathan Follens > > >  4ca4c4e23855f23adbf1176140ebc32ecc99d61d: gnome3.gnome-flashback: 3.36.1 -> 3.36.3 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-flashback/3.36/gnome-flashback-3.36.2.news) > >  	Version 3.36.2 >  	============== >  	- Fix screensaver unlock problems. ([#46](https://gitlab.gnome.org/GNOME/gnome-flashback/issues/46)) >  	- Fix few small memory leaks. >  	- Fix screenshot saving to clipboard. ([#50](https://gitlab.gnome.org/GNOME/gnome-flashback/issues/50)) >  	- Active desktop icon rename with F2 key. (LP:[#1875703](https://gitlab.gnome.org/GNOME/gnome-flashback/issues/1875703)) >  	- Fix creating new desktop icons. (LP:[#1875317](https://gitlab.gnome.org/GNOME/gnome-flashback/issues/1875317)) >  	- Updated translations. > > > >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-flashback/3.36/gnome-flashback-3.36.3.news) >  	Version 3.36.3 >  	============== >  	- Fix enum type generation. ([#52](https://gitlab.gnome.org/GNOME/gnome-flashback/issues/52)) > > >  4e63d8b06fc63b1c97fcdfb744a6a5abe3b4b460: gnome3.iagno: 3.36.0 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/iagno/3.36/iagno-3.36.2.news) > >  	3.36.2 – April 24, 2020 >  	============================= > >  	Moslty a translations release. > >  	Translations updated: >  	  French: Charles Monzat >  	  German: Christian Kirbach >  	  Slovenian: Matej Urbančič >  	  Ukrainian: Yuri Chornoivan > > >  baeb39fbe60b0e4068b0a9ce4e13c8492b14f12c: gnome3.gnome-tetravex: 3.36.0 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-tetravex/3.36/gnome-tetravex-3.36.2.news) > >  	GNOME Tetravex 3.36.2 >  	====================== > >  	Mostly a translations release. > >  	Translations updated: >  	  French: Guillaume Bernard and Charles Monzat >  	  German: Wolfgang StÃ¶ggl >  	  Ukrainian: Yuri Chornoivan > > >  2bc0d3328a5f7026483bcbe1875cbd1e00a33b25: gnome3.gnome-taquin: 3.36.0 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-taquin/3.36/gnome-taquin-3.36.2.news) > >  	3.36.2 – April 24, 2020 >  	============================= > >  	Mostly a translations release. > >  	Translations updated: >  	  German: Wolfgang Stöggl >  	  Romanian: Daniel Șerbănescu >  	  Ukrainian: Yuri Chornoivan > > >  9cf1c2972ad07088b6280b77a1ee12ef48f83cfa: gnome3.gnome-mahjongg: 3.36.1 -> 3.36.2 >  	No file describing changes found for group in cluster with “3.36.2” >  8b1fef089feb63de05e38f8e4bc7fca15ac3301f: gnome3.gnome-klotski: 3.36.0 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-klotski/3.36/gnome-klotski-3.36.2.news) > >  	3.36.2 – April 24, 2020 >  	============================= > >  	Mostly a translations release. > >  	Translations updated: >  	  German: Wolfgang Stöggl >  	  Romanian: Daniel Șerbănescu >  	  Ukrainian: Yuri Chornoivan > > >  9a0d5b0854538ee02f21ce83a3106c8cd1118ae8: gnome3.four-in-a-row: 3.36.0 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/four-in-a-row/3.36/four-in-a-row-3.36.2.news) > >  	3.36.2 - April 24, 2020 >  	============================= > >  	Just a translations release. > >  	Translations updated: >  	  French: Charles Monzat >  	  Spanish: Daniel Mustieles >  	  Swedish: Anders Jonsson >  	  Ukrainian: Yuri Chornoivan > > >  cbec74d2967b044f4cbf72ef18f101204c94fbb4: gjs: 1.64.1 -> 1.64.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gjs/1.64/gjs-1.64.2.news) > >  	Version 1.64.2 >  	-------------- > >  	- Closed bugs and merge requests: >  	  * GList of int not correctly demarshalled on 64-bit big-endian [Philip >  	    Chimento, Simon McVittie, [#309](https://gitlab.gnome.org/GNOME/gjs/issues/309), [!417](https://gitlab.gnome.org/GNOME/gjs/merge_requests/417), [!419](https://gitlab.gnome.org/GNOME/gjs/merge_requests/419)] >  	  * Fix template use in GTK4 [Florian MÃ¼llner, [!420](https://gitlab.gnome.org/GNOME/gjs/merge_requests/420)] >  	  * Don't crash if a callback doesn't return an expected array of values [Marco >  	    Trevisan, [!405](https://gitlab.gnome.org/GNOME/gjs/merge_requests/405)] >  	  * Crash passing integer to strv in constructor [Evan Welsh, [#315](https://gitlab.gnome.org/GNOME/gjs/issues/315), [!422](https://gitlab.gnome.org/GNOME/gjs/merge_requests/422)] >  	  * Skip some tests if GTK can't be initialised [Ross Burton, [!421](https://gitlab.gnome.org/GNOME/gjs/merge_requests/421)] > >  	- Various backports: >  	  * Fix gjs_log_exception() for InternalError [Philip Chimento] >  	  * Fix signal match mechanism [Philip Chimento] > >  	Version 1.58.7 >  	-------------- > >  	- Various backports: >  	  * Don't crash if a callback doesn't return an expected array of values [Marco >  	    Trevisan] >  	  * GList of int not correctly demarshalled on 64-bit big-endian [Philip >  	    Chimento, Simon McVittie] >  	  * Crash passing integer to strv in constructor [Evan Welsh] >  	  * Ignore format-nonliteral warning [Marco Trevisan] > > >  2b9aa3adae90b0472aa9333de72300a837c77e2e: vte: 0.60.1 -> 0.60.2 >  	No file describing changes found for group in cluster with “0.60.2” >  97f6ca3d1674bdf1ef79d6b6d20ce233ec56f297: gnome3.geary: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/geary/3.36/geary-3.36.2.news) > >  	Version 3.36.2 >  	-------------- >  	Released: 2020-05-03 > >  	Enhancements included in this release: >  	 * Client library now installed to private lib sub-directory >  	 * Allow downstream packagers set their package's version nuber >  	 * Numerous bug fixes and user interface improvements >  	 * Numerous user interface translation updates > >  	Thanks to all who contributed code fixes and enhancements to this >  	release: >  	 * Daniel Kahn Gillmor > >  	Thanks also to all who contributed translations, for the user >  	interface: >  	 * Asier Sarasua Garmendia (eu) >  	 * Dušan Kazik (sk) >  	 * Efstathios Iosifidis (el) >  	 * Goran Vidović (hr) >  	 * Jordi Mas (ca) >  	 * Yuri Chornoivan (uk) > >  	And for the user manual: >  	 * Jordi Mas (ca) > > >  72dd255e5cbdf1fd74b87f85d268811b100fc771: gnome3.devhelp: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/devhelp/3.36/devhelp-3.36.2.news) > >  	News in 3.36.2, 2020-04-25 >  	-------------------------- >  	* Fix RTL (right-to-left text locale) bug. >  	* Translation updates. > > >  9294db094a275eda68d7d68066e8546a7d81766d: simple-scan: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/simple-scan/3.36/simple-scan-3.36.2.news) > >  	Overview of changes in simple-scan 3.36.2 > >  	  * Use higher bit depth on text scans. >  	  * Fix size of first page on second scan. >  	  * Don't interrupt scanning if the device is busy. >  	  * Support saving files to FUSE file systems. >  	  * Update known USB scanner IDs. >  	  * Add initial Lexmark printers support. >  	  * Add ADF duplex support for Brother DS-720. >  	  * Fix setting source for Epson scanner. > > >  019e91054bf80d12ac0cdada7a72af58b706b191: gnome3.nautilus: 3.36.1.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/nautilus/3.36/nautilus-3.36.2.news) > >  	Major changes in 3.36.2: >  	* Prevent jump to the old scrolling position after changing location (António Fernandes) >  	* Revert icon emblem fixes in order to prevent performance issues (António Fernandes) >  	* Fix content type detection when opening files from remote locations (Ondrej Holy) > > >  00926413067f66cea94e51a3e3b1dfb9d40891b1: gnome3.gnome-terminal: 3.36.1.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-terminal/3.36/gnome-terminal-3.36.2.changes) > >  	commit be754773e25f7b0f8ccfe0ed4b7e65711bcee1be >  	Author: Christian Persch <chpe@src.gnome.org> >  	Date:   Sat Apr 25 22:13:00 2020 +0200 > >  	    Version 3.36.2 > >  	 configure.ac | 2 +- >  	 1 file changed, 1 insertion(+), 1 deletion(-) > >  	commit 57ea15c4bdf15247f1d403aa24fb18efe23cd8a7 >  	Author: Christian Persch <chpe@src.gnome.org> >  	Date:   Sat Apr 25 22:03:12 2020 +0200 > >  	    Revert ""screen: Use clean env when creating new tab"" > >  	    The patch is correct, but it exposes a deficiency in the desktop >  	    environment in that the WM/shell's environment contains necessary >  	    env vars (e.g. ssh-agent variables) that are missing from the >  	    systemd --user / d-bus activation environment.  The desktop will >  	    need to update the activation environment, but until that is done, >  	    reverting the patch will revert gnome-terminal to the previous >  	    behaviour of effectively using the environment of the client >  	    of the first terminal created for all new terminals opened via >  	    new terminal/tab/window. > >  	    This reverts commit 9bb94e3aab84ecc4e7733d0ee001ee50256bd273. > >  	    https://gitlab.gnome.org/GNOME/gnome-terminal/-/issues/253 > >  	 src/terminal-screen.c | 11 +++++++---- >  	 1 file changed, 7 insertions(+), 4 deletions(-) > >  	commit 5ecb0ac8b0cf97c73b4b18ba74e5a220b420d942 >  	Author: Christian Persch <chpe@src.gnome.org> >  	Date:   Sat Apr 25 21:59:50 2020 +0200 > >  	    screen: Fix memdup overrun > >  	    The extra element was never accessed. > >  	    (cherry picked from commit 5ae5b48b3f71dec024cd523b28f6bd2acbc8ced6) > >  	 src/terminal-screen.c | 2 +- >  	 1 file changed, 1 insertion(+), 1 deletion(-) > >  	commit a7ecf5c9df47d12ad2a4799219f485d087718ec3 >  	Author: Christian Persch <chpe@src.gnome.org> >  	Date:   Sat Apr 25 21:59:50 2020 +0200 > >  	    server: Fix refcount leak > >  	    Ownership of the GDBusMethodInvocation is passed to terminal_receiver_impl_exec, >  	    and will be released by terminal_receiver_complete_exec. The extra reference >  	    added to ExecData was leaked, causing the GUnixFDList passed from the client >  	    (if any) also to be leaked, which meant that its file descriptors were never >  	    closed, leading to FD exhaustion. > >  	    (cherry picked from commit 1554c74da520db6dff65b9dbf4eb2de82b14e76f) > >  	 src/terminal-gdbus.c | 2 +- >  	 1 file changed, 1 insertion(+), 1 deletion(-) > >  	commit c6f72400b39525ecd22def77ec117d924cc519fa >  	Author: Christian Persch <chpe@src.gnome.org> >  	Date:   Thu Apr 23 23:18:08 2020 +0200 > >  	    screen: Take a ref to the FD list > >  	    (cherry picked from commit dcd77201aade51bab925b8257d79766ca7acd714) > >  	 src/terminal-screen.c | 5 ++++- >  	 1 file changed, 4 insertions(+), 1 deletion(-) > >  	commit 717f8d7dd5a1e6b4006429547b0e035e44d0a164 >  	Author: Mathieu Lovato Stumpf Guntz <psychoslave@culture-libre.org> >  	Date:   Sun Apr 19 11:51:22 2020 +0000 > >  	    Update Esperanto translation > >  	 po/eo.po | 8 +++++--- >  	 1 file changed, 5 insertions(+), 3 deletions(-) > >  	commit 930f14e611e438d6ea534442705b49ab343f0f4f >  	Author: Peniel Vargas <tsuneake.kaemitsu@gmail.com> >  	Date:   Sat Apr 18 13:54:29 2020 +0000 > >  	    Update Japanese translation > >  	 po/ja.po | 63 +++++++++++++++++++++++++++++++++------------------------------ >  	 1 file changed, 33 insertions(+), 30 deletions(-) > >  	commit 98a71e6ffbb2aebaf4c6ae09c5db152d6c12807c >  	Author: Kristjan SCHMIDT <kristjan.schmidt@googlemail.com> >  	Date:   Sun Apr 12 07:29:51 2020 +0000 > >  	    Update Esperanto translation > >  	 po/eo.po | 1460 ++++++++++++++++++++++++++++++++++---------------------------- >  	 1 file changed, 803 insertions(+), 657 deletions(-) > >  	commit 5d966ab4c56bd82a8f6f68cc8f8922bca373c346 >  	Author: Matej Urbančič <mateju@svn.gnome.org> >  	Date:   Fri Apr 10 22:21:18 2020 +0200 > >  	    Updated Slovenian translation > >  	 po/sl.po | 1452 +++++++++++++++++++++++++++++++++----------------------------- >  	 1 file changed, 781 insertions(+), 671 deletions(-) > >  	commit 11f0ad63587c3a9671fe7c4c6e49356da401f2de >  	Author: Christian Persch <chpe@src.gnome.org> >  	Date:   Thu Apr 9 21:04:32 2020 +0200 > >  	    client: legacy: Suppress debug message spam > >  	    The glib log writer API has a deficiency in that the filtering is >  	    done in the default log writer, instead of only passing messages >  	    that pass the filter. This is filed as glib#2087, but until that >  	    is fixed, apply a simple log level filter to work around it. > >  	    Patch by Kim Nguyen <https://gitlab.gnome.org/kim.nguyen> > >  	    Fixes: https://gitlab.gnome.org/GNOME/gnome-terminal/-/issues/42 >  	    (cherry picked from commit f84316ec180e9b9515a0914e883a0585f6877c7e) > >  	 src/terminal-options.c | 27 ++++++++++++++++++++++++++- >  	 1 file changed, 26 insertions(+), 1 deletion(-) > >  	commit 65372d4590986a60e6a28533350fb78bc39cbee3 >  	Author: Charles Monzat <charles.monzat@free.fr> >  	Date:   Sun Apr 5 17:24:18 2020 +0000 > >  	    Update French translation > >  	 help/fr/fr.po | 1917 ++++++++++++++++++++++++++++++--------------------------- >  	 1 file changed, 1018 insertions(+), 899 deletions(-) > >  	commit e52b8dcc9265756cf5681adb59adbbad277b27a3 >  	Author: Christian Persch <chpe@src.gnome.org> >  	Date:   Sat Apr 4 18:10:10 2020 +0200 > >  	    server: systemd: Don't kill all remaining processes in the control group > >  	    Use KillMode=process to only kill the main g-t-server process, not every >  	    application that was launched by gnome-terminal (e.g. firefox via >  	    gtk_show_uri()). > >  	    https://gitlab.gnome.org/GNOME/gnome-terminal/-/issues/242#note_760400 >  	    (cherry picked from commit e456d6d896ece1fa303d56f7f9375521467bde6d) > >  	 src/Makefile.am | 3 ++- >  	 1 file changed, 2 insertions(+), 1 deletion(-) > >  	commit 96ed81405692a98eb984dea51f132762e47d7e02 >  	Author: Guillaume Bernard <associations@guillaume-bernard.fr> >  	Date:   Wed Apr 1 15:45:28 2020 +0000 > >  	    Update French translation > >  	 po/fr.po | 22 +++++++++++----------- >  	 1 file changed, 11 insertions(+), 11 deletions(-) > >  	commit 4dee4102cc07d6d1c416f62a62cc9e709a318aee >  	Author: Daniel Șerbănescu <daniel@serbanescu.dk> >  	Date:   Wed Apr 1 01:04:37 2020 +0000 > >  	    Update Romanian translation > >  	 po/ro.po | 5 +++-- >  	 1 file changed, 3 insertions(+), 2 deletions(-) > >  	commit f607729cdd692a64c33e5571916f55415fb0aadf >  	Author: Yosef Or Boczko <yoseforb@gnome.org> >  	Date:   Tue Mar 31 08:36:10 2020 +0000 > >  	    Update Hebrew translation > >  	 po/he.po | 3076 ++++++++++++++++++++++++++++++++++++-------------------------- >  	 1 file changed, 1793 insertions(+), 1283 deletions(-) > >  	commit 80b156322fcb65999e246291769c359ecf5cc41e >  	Author: Christian Persch <chpe@src.gnome.org> >  	Date:   Fri Mar 27 23:51:57 2020 +0100 > >  	    build: Post release version bump > >  	 configure.ac | 4 ++-- >  	 1 file changed, 2 insertions(+), 2 deletions(-) > > >  125153a2c9e9581733e343927cfc3afc3b8b525b: gnome3.gnome-settings-daemon: 3.36.0 -> 3.36.1 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-settings-daemon/3.36/gnome-settings-daemon-3.36.1.news) > >  	============== >  	Version 3.36.1 >  	============== >  	- Translation updates >  	- CI improvements > >  	Media-keys: >  	- Do not consider sound feedback a reason to inhibit sound >  	  feedback. > >  	Print-notification: >  	- Fix a minor warning on shutdown > >  	Sharing: >  	- Do not warn after starting/stopping nonexistent services > > >  a8e592dd9f556589a27778e710df94765b67b305: gnome3.gnome-initial-setup: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-initial-setup/3.36/gnome-initial-setup-3.36.2.news) > >  	3.36.2 >  	------ > >  	* Bugs fixed: >  	 - [!82](https://gitlab.gnome.org/GNOME/gnome-initial-setup/merge_requests/82) keyboard: Nullify pointers if getting layout fails > >  	* Translation updates: >  	 - Hebrew >  	 - Kurdish, Central >  	 - Slovak > > > >  24513d68fd101824867a8170e0b0c23da25b1954: gnome3.gnome-control-center: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-control-center/3.36/gnome-control-center-3.36.2.news) > >  	================ >  	Version 3.36.2 >  	================ > >  	- Updated translations > >  	CI >  	- Update Flatpak libnma, mobile-broadband-provider-info, libhandy build depends > >  	Applications >  	- Fix only connected snap interfaces showing > >  	Background >  	- Allow adding multiple files to backgrounds > >  	Printers >  	- Add whitespace between top right buttons > >  	Sharing >  	- Set label for checkbox properly > >  	Sound >  	- Fix translation of ""System Sounds"" > >  	Info: >  	- Verify data coming from switcheroo-control > > >  a6882d3838ccfb4bfae30cc0a99e467e9f1e808f: gnome3.gnome-contacts: 3.36 -> 3.36.1 >  	No file describing changes found for group in cluster with “3.36.1” >  e4fdb2bf064756d44ebd01285ce61eaa7fba2efa: evolution-data-server: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/evolution-data-server/3.36/evolution-data-server-3.36.2.news) > >  	Evolution-Data-Server 3.36.2 2020-04-24 >  	--------------------------------------- > >  	Bug Fixes: >  		[I#203](https://gitlab.gnome.org/GNOME/evolution-data-server/issues/203) - Google book: Do not use progress callbacks in libgdata sync API (Milan Crha) >  		[I#204](https://gitlab.gnome.org/GNOME/evolution-data-server/issues/204) - GOA-configured Nextcloud account not appearing (Milan Crha) >  		[I#206](https://gitlab.gnome.org/GNOME/evolution-data-server/issues/206) - LDAP: Incorrectly converts SExp to LDAP query (Milan Crha) > >  	Miscellaneous: >  		ESourceRegistryWatcher: The 'filter' signal listener should not be required (Milan Crha) > >  	Translations: >  		Goran VidoviÄ‡ (hr) >  		Fabio Tomat (fur) > > >  988cd6ab79ec3e31a2a61a9977e696e172745702: gnome3.eog: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/eog/3.36/eog-3.36.2.news) > >  	Version 3.36.2 >  	-------------- > >  	Bug fixes: >  	 [!50](https://gitlab.gnome.org/GNOME/eog/merge_requests/50), help-overlay: Fix next/previous image shortcuts for RTL languages >  	 [!51](https://gitlab.gnome.org/GNOME/eog/merge_requests/51), appdata: Update to release 3.36.1 (Felipe Borges) >  	 [!55](https://gitlab.gnome.org/GNOME/eog/merge_requests/55), eog-application.c: Add new shortcut for zoom-normal action (Sabri Ünal) >  	 [#121](https://gitlab.gnome.org/GNOME/eog/issues/121), Swipe left and swipe right action have the same description >  	       in Keyboard Shortcuts dialog (Felix Riemann) >  	 [#124](https://gitlab.gnome.org/GNOME/eog/issues/124), eog 3.36 cannot open HEIF files via gdk-pixbuf loader (Felix Riemann) > >  	New and updated translations: > >  	- Jordi Mas [ca] >  	- Fabio Tomat [fur] >  	- Yosef Or Boczko [he] >  	- Matej Urbančič [sl] >  	- Yuri Chornoivan [uk] > >  	New and updated manual translations > >  	- Jordi Mas [ca] >  	- Yuri Chornoivan [uk] > > >  d87ecac64a5022e88711f8be05e9c682e0a4ff1b: gnome3.dconf-editor: 3.36.0 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/dconf-editor/3.36/dconf-editor-3.36.2.news) > >  	dconf-editor 3.36.2 >  	===================== > >  	Some fixes for the now HC theme. > >  	Translations updated: >  	  Latvian: Rūdolfs Mazurs >  	  Romanian: Daniel Șerbănescu >  	  Slovak: Peter Mráz >  	  Ukrainian: Yuri Chornoivan > > >  258274cb309575a2d9a322ffb6c2b3f465fb9db8: gnome3.polari: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/polari/3.36/polari-3.36.2.news) > >  	3.36.2 — “I've Seen More Meat in a Vegan Kitchen” >  	================================================= >  	* Fix information leak when re-using account IDs [Florian; [#132](https://gitlab.gnome.org/GNOME/polari/issues/132)] > >  	Contributors: >  	  Florian Müllner > >  	Translators: >  	  Cheng-Chia Tseng [zh_TW], Emin Tufan Çetin [tr] > > >  71eef7dbcb53fc19d6b2354dbb6f34c866699f46: gnome3.gnome-weather: 3.36.0 -> 3.36.1 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-weather/3.36/gnome-weather-3.36.1.news) > >  	3.36.1 >  	====== > >  	* Bugs fixed: >  	  - [#95](https://gitlab.gnome.org/GNOME/gnome-weather/issues/95) Unknown temperature and cloud conditions when using autolocation (Michael Catanzaro) > > >  90a1da2d615deddac7728df20477a4393056031b: gnome3.gnome-music: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-music/3.36/gnome-music-3.36.2.news) > >  	Overview of changes in 3.36.2 >  	============================= > >  	â€¢ Fix two crashers > >  	Bugs fixed: >  	 Crash on playlist change check ([#382](https://gitlab.gnome.org/GNOME/gnome-music/issues/382)) >  	 Rare crash on some music files ([!701](https://gitlab.gnome.org/GNOME/gnome-music/merge_requests/701)) > >  	Thanks to our contributors this release: >  	 Marinus Schraal > >  	Translation added: >  	 Ukranian > >  	Updated translations: >  	 Hebrew >  	 Slovak >  	 Russian >  	 Slovenian >  	 Chinese (China) > > >  2db8f0eef17baa26ec0652f4b780819b07c84055: gnome3.gnome-maps: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-maps/3.36/gnome-maps-3.36.2.news) > >  	3.36.2 - Apr 25, 2020 >  	========================= > >  	Changes since 3.36.1 >  	 - Don't reset query points when routing fails (e.g. no public transit provider >  	   is available) to allow switching mode with the same query >  	 - Fix a bug not displaying tiles south of the equator when using --local >  	 - Allow entering DMS coordinates without comma between latitude and logitude >  	   parts > >  	Added/updated/fixed translations >  	 - Korean >  	 - Slovenian >  	 - Chinese (Taiwan) > >  	All contributors to this release >  	Cheng-Chia Tseng <pswo10680@gmail.com> >  	Jeeyong Um <conr2d@gmail.com> >  	Marcus Lundblad <ml@update.uu.se> >  	Matej Urbančič <mateju@svn.gnome.org> > > >  70439110278633be833cffcb0b96e98cd09d7222: gnome3.gnome-getting-started-docs: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-getting-started-docs/3.36/gnome-getting-started-docs-3.36.2.news) > >  	============== >  	Version 3.36.2 >  	============== > >  	* Updated translations: >  	  fa        (Danial Behzadi) >  	  id        (Andika Triwidada) >  	  uk        (Yuri Chornoivan) > > >  8a76bc3acd9855667c11bc825665154e6fec732f: gnome3.gnome-calendar: 3.36.0 -> 3.36.1 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-calendar/3.36/gnome-calendar-3.36.1.news) > >  	Major changes in 3.36.1: >  	* Introduce a new engine >  	* Fix a lot of bugs >  	* Support webcal:// URLs >  	* Updated translations > > >  f75a116fc83baefee7d12a876e4968f605ad4e9e: gnome3.gnome-boxes: 3.36.2 -> 3.36.3 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-boxes/3.36/gnome-boxes-3.36.3.news) > >  	3.36.3 - Apr 20, 2020 >  	===================== > >  	Changes since 3.36.2 > >  	  - Set the ""No KVM Infobar"" visibility correctly >  	  - Build FreeRDP with OPENH264=ON on Flatpak >  	  - Only store auth credentials when connection succeeds >  	  - Fix authentication dialog not popping up for retrials >  	  - Apply disk size changes in the VM creation assistant >  	  - Don't recreate GraphicsSpice device on startup >  	  - Added/updated/fixed translations: >  	    - Chinese (Taiwan) >  	    - Japanese >  	    - Italian >  	    - Indonesian > >  	All contributors to this release: > >  	Cheng-Chia Tseng <pswo10680@gmail.com> >  	Federico Bruni <fede@inventati.org> >  	Felipe Borges <felipeborges@gnome.org> >  	Kukuh Syafaat <kukuhsyafaat@gnome.org> >  	Manuel Wassermann <manuel.wassermann97@gmail.com> >  	Ryuta Fujii <translation@sicklylife.jp> > > >  12d42046443ba4a59ae0b25832cb84664ab403c4: gnome3.gedit: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gedit/3.36/gedit-3.36.2.news) > >  	News in 3.36.2, 2020-04-25 >  	-------------------------- >  	* Misc bug fixes. >  	* Translation updates. > > >  4d5f2f991d1c4c99203360271d1caf56f53c18a1: gnome3.evolution: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/evolution/3.36/evolution-3.36.2.news) > >  	Evolution 3.36.2 2020-04-24 >  	--------------------------- > >  	Bug Fixes: >  		[I#870](https://gitlab.gnome.org/GNOME/evolution/issues/870) - e-day-view: Add a gap between adjacent events (Milan Crha) > >  	Miscellaneous: >  		e-shell: Should retry source authenticate after successful trust prompt (Milan Crha) >  		em-formatter: Remove unneeded attachment-expander button's 'data' attribute (Milan Crha) >  		Calendar: Correct management of ECalComponentDateTime structures (Milan Crha) >  		itip-formatter: Eventually linkify Location field (Milan Crha) >  		EActivityBar: Unset timeout_id without recursive call to g_source_remove() (Milan Crha) >  		external-editor: Fix a memory leak (Milan Crha) >  		Flatpak: Switch to 3.36 runtime and change the build order (Milan Crha) > >  	Translations: >  		Yuri Chornoivan (uk) >  		Goran VidoviÄ‡ (hr) >  		Anders Jonsson (sv) >  		Jordi Mas (ca) > > >  23f875a43fe86d0723a7a3720b77a296cd1c5ba1: gnome3.accerciser: 3.36.1 -> 3.36.2 >  	Unable to recognize updated package. >  3c826679886ca3ff4f03ec2d4ea9556cf88ac07c: gnome-user-docs: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/gnome-user-docs/3.36/gnome-user-docs-3.36.2.news) > >  	3.36.2 >  	====== > >  	* Updates to GNOME Help (Andre Klapper) >  	* Updates to System Admin Guide (Ondrej Holy) >  	* Updated translations: >  	  ca        (Jordi Mas) >  	  de        (Andre Klapper) >  	  es        (Andre Klapper) >  	  fa        (Arash Mousavi, Danial Behzadi) >  	  fi        (Jiri Grönroos) >  	  id        (Andika Triwidada) >  	  pl        (Piotr Drąg) > > >  34e24f5c5f2064130c17966a4ed4b1ae5d15825d: orca: 3.36.1 -> 3.36.2 >  	(https://ftp.gnome.org/pub/GNOME/sources/orca/3.36/orca-3.36.2.news) > >  	3.36.2 - 23 April 2020 > >  	Chromium: > >  	 * Fix chattiness issue resulting from failing to consider the prior >  	   object when generating labelOrName > >  	 * Improve responsiveness of text selection in large objects > >  	 * Prevent double-speaking of ARIA combobox value > >  	 * Don't speak child position for popup menus (it's always 1 of 1) > >  	Web: > >  	 * Fix bug causing us to present stale value information for ARIA >  	   range widgets > >  	 * Don't present load completed or page summary information if we are >  	   in focus mode for a valid object > >  	 * Don't present loading message from pages which have no URI (fixes >  	   some chattiness when launching Firefox) > >  	 * Work harder to find presentable text for ARIA alert role > >  	 * Don't iterate through all children of very complex SVGs (improves >  	   performance) > >  	 * Only present comment role when first entering the comment (chattiness) > >  	 * Fix bug causing us to not present text which is directly inside a >  	   scroll pane > >  	 * Fix bug causing us to present stale information in rich-text editors > >  	Mouse Review: > >  	 * Fix mouse review on some web elements after scrolling > >  	General: > >  	 * Don't present position in list for comboboxes which lack children > >  	 * Fix bug causing us to not present changes in already-focused terminal >  	   when Orca is launched > >  	 * Improve presentation of status bar labels > >  	 * Fix bug causing us to not echo text insertions > >  	New and updated translations (THANKS EVERYONE!!!): > >  	   oc            Occitan               Quentin PAGÈS >  	   sl            Slovenian             Matej Urbančič > >  	========= > > </details> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",693e0fa0850424ddff5bee1981dfd3d184dbd9e1::713bef763bee5206772fd3139d06527dc6078927::06fc4f2a33035c220c797252631c028a40e01468::688587cd8f1b2b70b63418f9be519d2d4387c577::842a344fa0875cca5cd72919ccaec61cb384687a::b086a157df5fe803c864e31ec54e243f4083bc62::4cf05b434c5e49b6969911de8d3d3d0c4ade2876::2e3d6ad3b68759893ad194c404a61fb74a21c778::56211aa07fe0570e842908c6fe8c302424d8bfb9::1363cdc116b1217e1383727bd7b0d3300a134b38::248c0c999c9a66d5f1cf01aa0db04a6d3cbdd715::8838812ef5dc73596d08b505286985b829cb2f04::983a7eac4f088c0b5ccdc8a60166f1cdd3ec3659::e11decf5f0a5043cb99bb42d7280c346f30585b9::15f68ad5c86845c9442767ef18d9723795fe333d::74a92c3732e096ddfbc49b5c8c2ff999ab756730::747799f7d1b810c754476d07712d7b999be1f55d::391aceceda3670959e43a893a198aa88af4ce1f1::7d058165de7a9d4235a1ef850ece86a331818697::4e7cc56090d1af32d901e1c1fa59823cd1ea014b::3228ddbfec821d23e6c9859ac94a88cbf269e223::4c27db1f882a604423dba4384d576f58b96e5f3d::2d67c6397c72e6e05be4345cb8d518d520fe410f::2d9e779c9e161fa643ce6110577c5f18268c69c2::14cf400ed9bd48f705327553eb646b0bf8cff432::66d2cb34ef11cd17c61b03dac345d8907215e306::42e6acdd55af9d9efbd71f16e5e4c0d8a96756dd::a446ee2424f4f2acfeea9ae56ca5b6bf6de7a870::a8e6db6d3e4bf5315ecfcdf5580a72c74b840356::98a13130dbcfe920515c1e9e95b30ffd7d27805b::f3ed2277adbc8455f7ab4bbc0ff0bd890a53237a::76533cdb3f13069ac0f430b989e25da30dea5053::fb62f5c024d07edbb3587acd8ecf4375d9f7210d::8f5f7c82b5444b72a81f8201dbc7d04448246538::
https://api.github.com/repos/NixOS/nixpkgs,86604,backport-keybase-upgrades::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Keybase has shipped many bugfixes and an essential features (blocking other people) since this is a security focused tool backporting this version upgrades from nixpkgs/master would be desirable. Bufixes of features available on 5.0.0 from [upstream](https://github.com/keybase/client/releases): 5.1.0: - Various bug fixes around team management - Dark mode fixes - Smaller bug fixes and performance improvements 5.1.1: - This is a bugfix release. - Enabled blocking users from their profile 5.2.0: - Various bug fixes and performance improvements. 5.2.1: - This is a bugfix release. 5.3.0: -  Many performance improvements and bug fixes 5.3.1: - This is a bugfix release. 5.4.0: n/a (only feature additions and fixes of feature additions after 5.0.0) 5.4.1: - Fix KBFS performance issues 5.4.2: - This is a bugfix release for KBFS performance. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f4d6be02afb04f8ea09130e86b8fa2f1d07076b4::008f2184d075a977473e5cb0b76526c45d0e5330::9fbd53d77a923dc47331d3635522a1be30e5d1a2::0a7cc5d984053638f2d42c1e2780749a816073f4::91370380509953f4ddfb31bfab075972e7595358::0dd6de01b2e45862d546f07681c30acc0decb531::d26aa07c891bec97c429c98d42bafad222d3798c::eaae309039837df0e33389f1c362292b4e0df504::
https://api.github.com/repos/NixOS/nixpkgs,86468,20.03/p7zip-cve::release-20.03,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change This is a backport of #86417 to the current release. I've excluded the warning about the software effectively having no developer, to avoid breaking existing setups, as there are no more publicly known vulnerabilities at this point. Not sure what our release managers prefer (@worldofpeace @disassembler) regarding the warning? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",de316f97d7bcf3117ec8983090f1b7a44abaab45::
https://api.github.com/repos/NixOS/nixpkgs,86467,20.03/p7zip-cve::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"(cherry picked from commit dd16c3944c062ec7617981cd9a54d51925c73d19) ###### Motivation for this change This is a backport of #86417 to the current release. I've excluded the warning about the software effectively having no developer, to avoid breaking existing setups, as there are no more publicly known vulnerabilities at this point. Not sure what our release managers prefer (@worldofpeace @disassembler) regarding the warning? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e902a6b77c264eed59513a641408267df471b661::
https://api.github.com/repos/NixOS/nixpkgs,86461,19.09-gitlab-12.8.10::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change https://about.gitlab.com/releases/2020/04/30/security-release-12-10-2-released/ This is a backport of #86420. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",24d07de7dfc25ea7f748868438fe6dce58695a7d::a73c7cbd588c8d895be5875c7f2f8dd74e03b5de::
https://api.github.com/repos/NixOS/nixpkgs,86460,20.03-gitlab-12.8.10::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change https://about.gitlab.com/releases/2020/04/30/security-release-12-10-2-released/ This is a backport of #86420. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",2eceb02d9e1ddafe95ff0647c8748169b3471561::c9b984ec7a0ed3929bab12299cda8df7ba9d0853::439e3b379fa0f6fb919858e5026d1906061ce977::
https://api.github.com/repos/NixOS/nixpkgs,86429,patch-404::staging,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 2501-5000::10.rebuild-linux: 501+::8.has: port to stable::,"Also use full commit for the other patch, just in case there's ever a collision, as unlikely as that may be. <!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Thanks to Kyndig on IRC, again. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- I'll open backport PRs after this is merged. @veprbl, since you did that last time for the ninja 404, should I backport to 19.03 and 19.09 as well? (20.03 is a given)::",f02e1c2878b90fa42c45465f80ad0647987ce5b0::
https://api.github.com/repos/NixOS/nixpkgs,86354,20.03-skypeforlinux::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Backport of #86256 > Update to latest skype version. > > In addition the university of chicago is added as an additional mirror to try to fetch > the binary from. This reduces the change of #81868 and #85724 happening again in the > future. This might also be a good candidate to backport to stable releases. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9a505ee8304bf2a9ad5a0bb593534ca4aabae9d3::32e43fc1ce6b3601010bc36eb3b28cad7dab4e4b::
https://api.github.com/repos/NixOS/nixpkgs,86347,dnsdocs::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Closes #86114 Revamped the documentation for generating certs as a whole, on top of adding instructions for DNS validation. I also updated the docs for `security.acme.certs.<name>.extraDomains` since alt webroots are not supported. These docs should be updated again when #83474 is merged, since it is unlikely users want to set up a whole DNS server just for certificates. ###### Things done - [X] Ensured the docs can be built - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion Support for configuring distinct challenge webroots has been dropped. Challenges are saved from the same folder. ``` I had to think two times here what ""server root"" means. This was a way to provide an alternative webroot to serve challenges for that specific domain. Am I right to assume lego doesn't support that anymore, and we put all challenges into the same folder (and nginx for example defaults the per-vhost `acmeRoot` option to the same locaiton). We should also add this to the 20.03 release notes.::we support more than Let's Encrypt, via `security.acme.server`. One could also use [Buypass](https://www.buypass.com/ssl/products/go-ssl-campaign), or an internal ACME server.::We should add a note here explaining `security.acme.server` too.::```suggestion <link linkend=""opt-services.nginx.enable""> = true;</link> ``` or does this render differently? I'd personally prefer the `<link linkend=""…"">…</link>` syntax, as used below.::When do we need the manual way? Doesn't the module system provide a much more convenient way to do this?::```suggestion ACME servers will only hand out wildcard certs over DNS validation. ```::There's no such `/var/secrets` in nixpkgs. There's `/run/keys` for nonlocal secrets, and some occurences of`/var/lib/secrets` for more persistent ones. I'd propose to use the latter in this example.::```suggestion journalctl -fu acme-example.com.service</literal> and watching for its log output. ``` That's a bit pessimistic :-D::Correct, no support from lego. I'll add it to the release notes.::Yeah, that was hangover from the original docs. I'll make it more open about other providers :) ::Yeah link renders nothing on its own whereas xref puts in the option path. Although, I noticed the close tag was in the wrong place, fixed now.::I feel it's good to keep this for 2 reasons, one is so people know how to integrate it with existing setups where maybe they do want to use port 80 for things and have a vhost there, and secondly explaining how the system works so that it can be adapted for other web servers is important.::`/var/secrets` is a personal preference, I'll change it to `/var/lib/secrets` :+1: ::I'm mostly worried about people just quickly skimming over this, and thinking ""OMG, is this complicated"".  But as the easy setup is just on the same page, it should be fine. :thinking: ::This might be off-topic for this PR, but on top of this message, could we generate a eval-time warning using the assertion module https://github.com/NixOS/nixpkgs/blob/b67bc34d4e3de1e89b8bb7cd6e375ba44f1ae8ca/nixos/modules/misc/assertions.nix#L21 if `acmeRoot!=null` here? Do we plan to backport this commit to 19.09? If not, I think this is safe to assume this option is deprecated and not functional, hence dropping the `in 20.03+` part of this message.::```suggestion You will need an HTTP or DNS server to perform the verification. For an HTTP verification, ``` Style nitpick, feel free to ignore if you don't like it.::```suggestion writeable by the user that will run the ACME client. For a DNS verification, you must ``` Style nitpick, feel free to ignore if you don't like it.::```suggestion cert or you are not using a web server you will have to use a DNS ``` Style nitpick, feel free to ignore if you don't like it.::I like this section. It's always good to show as many example setup as possible. It's in a different section clearly stating this is a manual conf. I think this is fine!::Also, maybe it's also time to remove the acme root from this example: https://github.com/NixOS/nixpkgs/blob/c9f6e5f161f64701bce0527c80628eb637eae0ac/nixos/modules/security/acme.nix#L253::So I actually tried doing that back when I did the DNS-01 update, but I couldn't figure out how to add a deprecation warning to a submodule (which is what the certs are). When I rewrite the whole module I'm actually going to add a warning and a rewrite rule to change them to a list.::Well, the verification is more of a process so a proper noun rather than a concrete noun, personally I think it reads more naturally the way it is.::This should be commented out or moved out of the services.nginx.virtualhost attribute set I think- at the moment it looks like there should be an option services.nginx.virtualhosts.security.acme.certs<name>.extraDomains, which doesn't exist afaic::",47da7aafdfbe1df48cc25b056895d7dc1edf5e84::c9f6e5f161f64701bce0527c80628eb637eae0ac::037ef70d5cbacc9850f5c52d19b16cc41cd5efae::
https://api.github.com/repos/NixOS/nixpkgs,86344,release-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: emacs::,"###### Motivation for this change This PR is a backport of @rycee 's two PRs to improve the emacs setup hooks: - https://github.com/NixOS/nixpkgs/pull/82604 - https://github.com/NixOS/nixpkgs/pull/84044 These commits fix emacs packages with many dependencies, which currently fail to build in 20.03 (see https://github.com/NixOS/nixpkgs/issues/83230). ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a90008938a9cddf1a85f226ae5c9f8695e7ceb6b::49f7706509f8e46f6c2b59f50eafc397139db91f::
https://api.github.com/repos/NixOS/nixpkgs,86256,skypeforlinux-8.59.0.77::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change Update to latest skype version. In addition the university of chicago is added as an additional mirror to try to fetch the binary from. This reduces the change of #81868 and #85724 happening again in the future. This might also be a good candidate to backport to stable releases. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7b38685bb613ffb06c1e5ea1b5d26bae9bd63b58::e4aab9cded57b7ac1c0e66a6892240f2ce86f4fe::
https://api.github.com/repos/NixOS/nixpkgs,86158,acl2-fix-aarch64::master,0,closed,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> ###### Motivation for this change The AArch64 Linux build is broken, so this is an attempt to fix it by backporting a recent bug fix from upstream that isn't in the latest released version (8.3). I don't have an AArch64 machine to test on, so I guess I'll find out if it worked once ofborg tests this PR. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b1ee579aa75d9e46c2c073f80f3554ca5af5364b::
https://api.github.com/repos/NixOS/nixpkgs,86157,update-palemoon::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change New releases came out. Was hoping the update bot would pick up on them like before but it didn't, prolly due to the project moving to a different location. Should be backported to `release-20.03`, due to the usual security updates. ###### Things done Src changed to the new location of the project. Configuration updated based on the current build settings requirements. A GTK3 option has been added as it's now officially sanctioned to be used with the official branding. GTK2 still seems to be the default, but I briefly tested a x86_64 GTK3 build and it seemed to work fine. i686 builds is entirely untested on my end. - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) 531405504 (28.8.1, haven't updated in awhile) -> 474916144 - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e17bc8281b7423d766d4a95949523618ae628335::
https://api.github.com/repos/NixOS/nixpkgs,86151,unbreak-vtk7-osx::master,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 0::6.topic: darwin::9.needs: port to stable::,"<!-- To help with the large amounts of pull requests, we would appreciate your reviews of other pull requests, especially simple package updates. Just leave a comment describing what you have tested in the relevant package/service. Reviewing helps to reduce the average time-to-merge for everyone. Thanks a lot if you do! List of open PRs: https://github.com/NixOS/nixpkgs/pulls Reviewing guidelines: https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions --> Will attempt backport to release once approved/merged. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [x] other Linux distributions - [NA] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion sed -i 's|COMMAND vtkHashSource|COMMAND ""DYLD_LIBRARY_PATH=''${VTK_BINARY_DIR}/lib"" ''${VTK_BINARY_DIR}/bin/vtkHashSource-${majorVersion}|' ./Parallel/Core/CMakeLists.txt ```::Done, thanks.::",8a44204678e7ca90a9168d1289d6dd0a1c9cd140::
https://api.github.com/repos/NixOS/nixpkgs,86108,security-fix-oauth2_proxy::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Since 20.03 still uses old oauth2_proxy (3.2.0), which is not compatible with the newest one (5.1.0), this change backports an important security fix to 3.2.0: https://github.com/oauth2-proxy/oauth2-proxy/commit/a316f8a06f3c0ca2b5fc5fa18a91781b313607b2 The vulnerability is an open redirect, where a bad actor can redirect a session to another domain using `/\` in redirect URIs. The patch has been obtained by running: git format-patch a316f8a06f3c0ca2b5fc5fa18a91781b313607b2\^..a316f8a06f3c0ca2b5fc5fa18a91781b313607b2 on https://github.com/pusher/oauth2_proxy repository clone. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",92ab8778e888b4a5ef589ec152f92b517a786297::
https://api.github.com/repos/NixOS/nixpkgs,86096,nvidia-docker-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::8.has: documentation::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Closes #83713 Should be backported to 20.03 Credit to @averelld CC: @tomberek @tbenst ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9e315b98a21bb9e05b0254c321086b832c17f2be::
https://api.github.com/repos/NixOS/nixpkgs,86081,update-r::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Upstream release. Needed to backport a fix for a test which should be removed next time R gets updated. @peti I also updated the packages from CRAN and bioconductor. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",8ce6552d6470b79df7aacdbd9f6faa307e24da86::cb1a13ad98779cfaac8b7d25857d8945c8233c22::56be910cd3876d7f4d866c6b11320865df60a5d4::
https://api.github.com/repos/NixOS/nixpkgs,86066,backport-commit-policy::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::,"only very few people followed the strict policy in the last 5 years. the maintainers accept backports without reason when it's obvious, so i updated the policy to reflect that (cherry picked from commit bcc269e6c87a4f445a7ede5207fe3537b0ce7648) Backports https://github.com/NixOS/nixpkgs/pull/86026 so it's up to date in the online manual too Tested build and result looks good. (I created this backport with my updated backport instructions that are proposed in https://github.com/NixOS/nixpkgs/pull/85727)::",57e2dcb1ddcba110f52327c89cca06230f2febf7::
https://api.github.com/repos/NixOS/nixpkgs,86034,update-linux-hardened::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 101-500::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The hardened kernels were using backported patches, but the upstream patches for the kernel versions we're using are now out. Also includes some refactoring of the update script including use of `pathlib` and type annotations (requires a local branch of the git version of PyGithub to pass `mypy --strict`, will work on upstreaming that). @GrahamcOfBorg test hardened latestKernel.hardened ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",78c39ef3003ccb9ea751250479f8e9eae6582701::2e8a2634e6ca9a6c4e8279d83447193f0498bc4a::596b8cd402bef8cd22adabaacedeb59e2059e6a9::85520b34a246bec3e987b38f11bd070c235679f3::
https://api.github.com/repos/NixOS/nixpkgs,86026,commit-policy::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::,"only very few people followed the strict policy in the last 5 years. the maintainers accept backports without reason when it's obvious, so i updated the policy to reflect that strict policy was introduced in https://github.com/NixOS/nixpkgs/pull/11609 by @aszlig i also added good examples i found as suggested by @viric in https://github.com/NixOS/nixpkgs/pull/11609 preview: ![Screenshot from 2020-04-26 00-19-17](https://user-images.githubusercontent.com/91113/80292119-e7402f00-8753-11ea-8e0d-8c019ae531bf.png) ::",bcc269e6c87a4f445a7ede5207fe3537b0ce7648::
https://api.github.com/repos/NixOS/nixpkgs,86017,p11-kit-trust-paths-19.09::staging-19.09,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"Fixes  #82422 (cherry picked from commit 4c40b43a7c88a652bfdb6ca01836ec5ed34f4915) <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backports #86011 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9ce58f69e1fe7f3ee3033297b4a665dd4f2c071a::0fc04dfcbed2d7cb766b303d417b80a1c4d0f016::
https://api.github.com/repos/NixOS/nixpkgs,86015,p11-kit-trust-paths-20.03::staging-20.03,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"Fixes  #82422 (cherry picked from commit 4c40b43a7c88a652bfdb6ca01836ec5ed34f4915) <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backports https://github.com/NixOS/nixpkgs/pull/86011 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",51e6e8930ee6c55b0f08efe0d306f65c22e0fd88::
https://api.github.com/repos/NixOS/nixpkgs,86008,python-stem-unbroken2::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change A third attempt after #85642 which I hadn't recognized as a backport of #81679. Same diff, brand new history. The bug is just with the test suite on python 3.8 which was fixed in 1.8.0. See bug report: https://trac.torproject.org/projects/tor/ticket/30847. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7bb0ca24b8121261a478c9bd86bc8ce8ff455f6e::e349f5ccbaaa28ccd907164d6d44cae48a3f3d73::
https://api.github.com/repos/NixOS/nixpkgs,85991,bluez-alsa-fix-dbus-policy::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::9.needs: port to stable::,"###### Motivation for this change Allow bluez-alsa to run again. The `$out`s weren't expanded correctly, resulting in installation to a directory named ""ut"" in the build dir. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Will backport once merged since it's a bugfix.::```suggestion ""--with-dbusconfdir=${placeholder ""out""}/share/dbus-1/system.d"" ``` that's a deprecated directory https://github.com/openSUSE/snapper/pull/492::Thanks! Fixed.::",3605fc7a7902f191592979b232b63f0cec2aa043::
https://api.github.com/repos/NixOS/nixpkgs,85975,common-updater-backports::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Backports https://github.com/NixOS/nixpkgs/pull/80562 @jtojnar suggested we backport this, and it's a good idea if we run this script on the release branch (ref https://github.com/NixOS/nixpkgs/pull/85968) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",2cd74ace7484bf14282846bd66b9fb43d0569365::e6825ab4eeabbf33f464e946e66ea3e35ef1992e::8ccd53f98966435dc5d0e73748144234a13deab1::
https://api.github.com/repos/NixOS/nixpkgs,85974,gnome-3.34-updates::staging-20.03,0,closed,10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::6.topic: GNOME::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change I have: * ran `update.nix` * excluded updates that didn't make sense * did one's outside the version bound that did make sense (folks for example) * did backports from master where possible I haven't built anything, not sure if I should split this into a `staging-20.03` PR and a `release-20.03` PR. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1d53fa3d436f70019aabc9a2482407e235442eed::c4a27d852be332174fe692a6470d8bca7eed3eba::a6a9151e956950ca281019c2cbb75e3d17c475e8::5682b90cb53cec93e394f9d65c8e731dc9e62461::97e1cacdb8c13728b775c317576abc11cfb3029d::3857deb6074d489e9cc209f466499ed7e88dc39e::b1f6fbf9bb1fb26f2a30dadb6838da4ca014e186::1715212a0ea64048c98bd201835cf3cab44d2ceb::83f36d7ca99e12a01981579f6ab3b759bdc9b919::9cdf4ed2284ab255facd0786dd24f009359e043b::402f1e92bf5fcb7a1bc25e8a42bf710cd0b4e176::a843092ef19285cf492fe73ac8a271cf5407c69f::504e9a01622cc1a671dd59cb2ee69db029c78147::84647a536d4c7394804331f56fc47b9af04ce942::d2a5fdf92a139a3885655633b598deb987f28b20::009bc07787509c3c83a30c38593b178ca5dbe97c::e32aa23d4090ac6c5a08bfe36f519d18b4f7354e::811cbf0869be0b61e8bdb6cf02e0b531d29c4ce9::eaca480c645d85c02a17a4862d519363543e2096::0b8b7edc7591b8512d392c1f7d1659f3add0a1e9::b81a5e79725f3abed130cdec63c1719e8e296168::f7b94b662601db8047e34b9b923963250ed1d196::21708a2a143bc460b7d771f3e6a2d2bb66011c1e::05fd3ac8f2b248227c4271dcc75e8ba4d6cfb34a::6fd01a5fafb4a60cd9d408dbd3968c9ccacbea62::2acd55e4a4be849305bd1355bb680c2cf248c54e::08e7cfa4d31e1c97522f1fe4c8ab0f485920038f::5a89cfc91b1fb489c61fa6deac97bbff2db6026a::276e909542a9d6189096176180e0d032d8adcfb0::a20a5b0a7fd28b6516080323a2b893273db90fe2::c282da579d4f7aade166e772384740605f43b8aa::04a23a0da3a6a4af8ff0e44ee783a678b28998f6::5fdd0683c919727d36d9999adc2d2213eb79e72c::21c1ac05db13b32140cf225b02c609a759eb6d29::0a17a7058ef1f40fa756bc6d1d3c64188687d2ea::bb5fb5c04bad5f3b5e523a6c0547a13d41b9d613::18e417d0f8df05675630ae2eae38f492fcb06022::5f10db610d08c65e1c98f435f681d31acf2bfab5::59d6429ceb6d07762b285326fb9b6fcbe75168b1::69f7641960b6d7406cb36974a27d13238db9cf91::14f3956852d0702f60ffbdf1f2f28690e2351606::0b0be98d6c593f6164b9b8409a7fd1ded3b39742::50c1138840a751ece4bcee7c8d21b629a0dbb6fe::c27962b709a964d8766d519c2f9e6fe4abcb9181::2295a32318ab1447c921ca697be7d1083582a147::7306b974b41ff49f78f2513ddbd12e59afda2b03::d098c43b88454a7e997169b7fa6174b3ca168c2d::126478ca154d22c14adf6cf3f427b43efa92fd46::e36e3a84328fc23b85b3453d5b0864afa7930174::02848fb1203331068d846c744bdca024b26e71a5::51ab9c9b528f3a67c2b7cc1b5c64134daba29211::69718a84937b44aa793f576234a243b74ece08ee::718030e7efca63b13b4a6dd60d839584832219cb::
https://api.github.com/repos/NixOS/nixpkgs,85973,gnome-update-freezer-20.03::release-20.03,0,merged,,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Backports #85968 This will allow me to perform updates in the stable release with ease. https://github.com/NixOS/nixpkgs/commit/942a6016ea01fe7f88ac952d25bbc167af3f119f is not a backport because it will only be frozen on release branches. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",dd45b8a69218b3816de9b77995282eb127a71297::89a74d43844488d2ce740376c2cefb7f4f6383ec::942a6016ea01fe7f88ac952d25bbc167af3f119f::
https://api.github.com/repos/NixOS/nixpkgs,85895,extra-grub-install-flags::master,0,merged,0.kind: enhancement::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: clean-up::8.has: module (update)::,"###### TODO * [x] Based upon #92205 merge that first * [x] and bump out WIP commits * [x] Based upon #92122, merge that first ###### Motivation for this change Useful for when you need to build grub modules into your grub kernel to get a working boot, as shown in the added example, but also for many other use cases where you want to customise the call to `grub-install`. Related `grub-help` thread, whose members kindly helped out understanding the related issues: https://lists.gnu.org/archive/html/help-grub/2020-04/msg00004.html Also fixes the NixOS `/boot/grub/state` file not being written atomically, and I added a couple comments in case some other people have to update this perl script in the future. I've ensured backwards compatibility of the state file. @chpatrick has co-authored this. I've tested this on my dedicated server, the one from https://discourse.nixos.org/t/howto-install-nixos-on-an-ovh-dedicated-server/3089/4?u=nh2. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::This style is nice for keeping the diff clean.  But I would prefer that the lines were similar lengths, or if similar things were grouped together.::From this, it's not immediately clear to me whether separate arguments go in separate string entries, or if it's allowable to have several options together e.g.: ```[ ""--boot-directory=/mnt/usb/bugbios --force --allow-floppy /dev/loop0"" ]``` or must it be: ```[ ""--boot-directory=/mnt/usb/bugbios"" ""--force"" ""--allow-floppy /dev/loop0"" ]``` ?::Additionally, it's not clear if ordering is respected, this may be assumed by a user, especially in the first case, where he or she might want to do something like: ```{enableAhci ? true}: { achiStr = """" ++ lib.optionalString ""ahci""; extraGrubInstallArgs = [ ""--modules=nativedisk"" ahciStr ""pata part_gpt part_msdos diskfilter mdraid1x lvm ext2"" ] } ``` (Reading down, it looks like the arguments are just passed to the perl system command, so ordering is respected, and arguments can be combined and split.  So we are dealing with the first case.)::This line seems to be the reason why json was used?  Is this robust though?  Will the following trigger a rebuild? ``` extraGrubInstallArgs = [ ""--arg1=foo --arg2=bar"" ]; prevExtraGrubInstallArgs = [ ""--arg1=foo"" ""--arg2=bar"" ]; ```::> whether separate arguments go in separate string entries, or if it's allowable to have several options together Separate `grub-install` arugments go into separate string entries. [Example for passing modules this way.]( https://lists.gnu.org/archive/html/help-grub/2012-03/msg00085.html). The perl script uses [`system PROGRAM LIST`](https://perldoc.perl.org/functions/system.html) to spawn `grub-install`, which explains > If there is more than one argument in LIST, or if LIST is an array with more than one value, starts the program given by the first element of the list with arguments given by the rest of the list. If there is only one scalar argument, the argument is checked for shell metacharacters, ... We pass a `LIST` to it, so the individual elements go straight to `execve()`. I will add this to `description`: ``` The list elements are passed directly as <literal>argv</literal> arguments to the <literal>grub-install</literal> program, in order. ```` --- Just for extra clarity for anyone reading, this means that > `extraGrubInstallArgs = [ ""--modules=nativedisk"" ahciStr ""pata part_gpt part_msdos diskfilter mdraid1x lvm ext2"" ]` from your example is illegal, because grub expects `--modules=space separated list of modules` to be a single argv argument.::> This line seems to be the reason why json was used? No, JSON is used because the `/boot/grub/state` file remembers all arguments/parameters of the last successful `install-grub` run (to avoid unnecessary installation of e.g. the GRUB MBR on every `nixos-rebuild` run, which takes a couple seconds and would make no-op rebuilds slow), and the serialisation format that the state file used so far is line-based, which worked so far because there was only 1 word on each line. But as soon as you want to serialise something into it that is a list or can even contain newlines, it gets very messy and likely incorrect, so I use JSON instead and we'll use that going forward. Your question motivated me to rework the the way this works, full details in https://github.com/NixOS/nixpkgs/pull/85895#issuecomment-653309518.::>  Is this robust though? Will the following trigger a rebuild? Yes, because these are different (and the first line will be rejected by `grub-install`), see https://github.com/NixOS/nixpkgs/pull/85895#discussion_r449349168.::I need to optimise for a clean, minimal diff here, as I need to cherry-pick this into various projects / backports and need to avoid merge conflicts. If we want to do extra grouping, I think it should be done in a separate PR.::",0dcad215fea89fb3af6c713e7a88ec87c4edb8b4::81c15742ce8bbe698706713195f755d7bcf1314c::8665b5ab918607f5775061682874c70a54f17e55::a90ae331ecc3b3410379d61cf95828dde2b5c4a6::
https://api.github.com/repos/NixOS/nixpkgs,85704,revert-grub-update::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change This was already done for 19.09 (see https://github.com/NixOS/nixpkgs/commit/862f05cb00da70f86705ec6c70c2efb2fcd02e60 and parent) since Grub 2.04 seemed to cause problems for some people: https://github.com/NixOS/nixpkgs/issues/61718. This revert apparently never went into master though, so both 20.03 and master currently still use Grub 2.04. @emptyflask reported that they got hit by this issue when updating to 20.03. So let's revert it until we know more about it before we break more boot loaders. Needs to be backported. Ping @gnidorah @worldofpeace @disassembler @lheckemann ::",73fcd4594bd73d9e9806500e02d4c1c3db05d6e5::1b4f8dfb735270144cbf71e4021f70d38025909a::
https://api.github.com/repos/NixOS/nixpkgs,85686,py-caldav::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The caldav pkg was marked as broken because of a missing dependency. The xandikos package is only a optional test dependency, see https://github.com/python-caldav/caldav/commit/45a505680acb1f444131d32a96562fe2d2ee6942. ###### Things done Patched away the dependency to fix the build. I think this should be backported to 20.03. (#80379) <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). @marenz2569 ::",224f2d45a94b4b848d489bdb2016b9329c38fe46::
https://api.github.com/repos/NixOS/nixpkgs,85642,python-stem-unbroken::release-20.03,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change A second attempt after #85632. The update has already been made on master. The bug is just with the test suite on python 3.8 which was fixed in 1.8.0, so if we'd prefer not to update to 1.8.0 we could skip the tests or backport the patch instead. See bug report: <https://trac.torproject.org/projects/tor/ticket/30847>. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",30e988fc0bf0d32ba17188210a20184bd3c4b8e1::
https://api.github.com/repos/NixOS/nixpkgs,85503,acme-test-cleanups::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The parts of #83474 that don't add new functionality. Should be backported to 20.03 on merge. cc @flokli @GrahamcOfBorg test acme ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",6285d5eabda26d0e696a328bcc9b8bf33dea1b3a::352e30df8a38b1b673c19de817fedca7d3d95d71::d0f04c1623ae74f256ff5ced77ac78c7fe3b6abc::695fd78ac45763b02ae4c68abda28974bb72c96b::e6d5e83cf10f8d6d900c53f8b29399e3619434c7::21f183a3fe4eddbbb418cc1ee37a9f86526f675a::
https://api.github.com/repos/NixOS/nixpkgs,85494,kde-thumbnail-hang::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: qt/kde::,"Fixes a bug in the KDE PDF thumbnail generator which causes thumbnail.so processes to hang and accumulate as well as a long delay during shutdown/reboot as systemd tries to terminate the processes and eventually gives up. Reproduction is probably easy, have a folder with a PDF and browse it with Dolphin. The patch here is the same as was accepted upstream. https://bugs.kde.org/show_bug.cgi?id=404652 https://phabricator.kde.org/D26635 This is a pretty annoying bug so I think that a patch is appropriate as is backporting to 19.09. Tested on release-19.09 but it surely works in master because of the same kdegraphics-thumbnailers version. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::can we get the details of the bug fix linked here as a reference?::Added.::Could we fetch this from Phabricator using `fetchpatch`, instead of including it in the Nixpkgs tree?::",57e6799d907995242575d94bd37178c59cb3cc9a::
https://api.github.com/repos/NixOS/nixpkgs,85434,stable-19.09-fix-neomutt::release-19.09,0,closed,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"I propose to backport this patch to stable, reason see below. This does not build yet on my machine because two unit-tests fail. I am about to investigate. --- Backported to stable to fix: https://github.com/neomutt/neomutt/issues/1373 which includes the following patch: https://github.com/Austin-Ray/neomutt/commit/46eb0a5f275041fc92c2772afd0fd812bae891bd but the patch itself does not apply cleanly to 20180716, thus we need to update neomutt. https://github.com/neomutt/neomutt/releases/tag/2019-10-25 (cherry picked from commit b83908f1ed2ba67edbccb9eba4ba761794a441a3) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1610f85cd1526bf302a8486986ccb75e84bdd583::279c1ffd306fcd3907633a3bbe939ecb4be913e3::
https://api.github.com/repos/NixOS/nixpkgs,85417,mark-broken-master::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: haskell::6.topic: lua::6.topic: python::6.topic: qt/kde::8.has: clean-up::8.has: documentation::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Forward port the thing https://github.com/NixOS/nixpkgs/pull/85331 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::None of the changes in this file should be needed, because Haskell packages are normally semi-automatically marked broken by @peti. If they do need to be marked broken manually, then there is a separate file that this info should go into.::scrapy is not broken: - x86_64-linux: https://hydra.nixos.org/build/116062539 - x86_64-darwin: https://hydra.nixos.org/build/116118595::Please don't mark muse; backport of the fixes: #85424::mitmproxy is not at fault for the failure of its `TestMasterSecretLogger.test_log` on release-20.03. It does not fail [on master](https://hydra.nixos.org/jobset/nixpkgs/trunk/jobs-tab?filter=mitmproxy), yet there is no difference between mitmproxy definitions between release-20.03 and master.::Problem is addressed in this open PR: https://github.com/NixOS/nixpkgs/pull/81980. Please don't mark broken just yet.::We use `disabled = isPy38` instead of `broken` for `pythonPackages`. cc @FRidh ::This one is not broken afaik. It is needed for the python-language-server, which is important. ``` Build Status for nixpkgs.python36Packages.python-jsonrpc-server.x86_64-linux on unstable ✔ python3.6-python-jsonrpc-server-0.0.2 from 2018-10-24 - https://hydra.nixos.org/build/83221618 ``` Tested for all python versions!::Yeah. Looks like a pattern. Same as in https://github.com/NixOS/nixpkgs/pull/85417/files#r410125598::I also repaired this one quiet recently. Should be not broken as well.::Ok. python38 is actually broken. Disabled this one in ee6f5a32bb090ddacee9f40056a5598b2f10480a Also backported: 9094d3592533ec3708414193ae1ce63a246a648b::Is it broken on release-20.03 though?::I usually look whether something is broken by editing these urls: https://hydra.nixos.org/jobset/nixos/release-20.03/jobs-tab?filter=scrapy https://hydra.nixos.org/jobset/nixpkgs/trunk/jobs-tab?filter=scrapy::@cdepillabout What about stable? I had @disassembler do this because I knew on master these are semi-automatically marked broken, but we both had no idea about stable.::`release-20.03` has greatly diverged from `master`. We're based on a very different package set and a different compiler, too. Porting those ""mark broken"" overrides into `master` makes little sense. Generally speaking, we mark broken packages as such semi-automatically once per week anyway. Please don't merge those changes into master.::@peti I understand because of the divergence.::surf-display is not broken on master: https://hydra.nixos.org/jobset/nixpkgs/trunk/jobs-tab?filter=surf-display::",b342ca9c8e13998a819a6c2a29abc948c793008a::71f0413cf430d1849f0c9a643668e2ba76c758d7::16d7515a9498616021e2d29a6cf636106617fae7::12383639c7865a6f1efa2c63aac7311d5a266fa5::
https://api.github.com/repos/NixOS/nixpkgs,85409,flashplayer-32.0.0.363-release-19.09::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"(cherry picked from commit ac374d41c816f7365a3945e657d2beba3962587d) Backported 32.0.0.363 to release 19.09 for important bug fixes. Also needed because old upstream release is no longer available. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). NOTE: Tested backport with chromium and firefox (minimal). Did not test stand-alone version. Related PR #85395 has a backport for 20.03. CC @taku0 ::",6f5b979dd6767760384258c42cb261350340f2fc::
https://api.github.com/repos/NixOS/nixpkgs,85395,flashplayer-32.0.0.363-release-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"(cherry picked from commit ac374d41c816f7365a3945e657d2beba3962587d) Backported 32.0.0.363 to release 20.03 for important bug fixes. Also needed because old upstream release is no longer available. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). NOTE: Tested backport with chromium and firefox (minimal). Did not test stand-alone version. See recent: PR #82322 (now outdated) CC @taku0 @volth @worldofpeace ::",23f337162de5da46107c0326cd2c5d183f4727a6::
https://api.github.com/repos/NixOS/nixpkgs,85370,fix_acme_reuse_key_20_03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::,"###### Motivation for this change Partial backport of https://github.com/NixOS/nixpkgs/pull/85369 ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Also; please add this change's description to the commit as well.  Now the commit only talks about doc improvements but there's also a functional change.   (Or just leave it out? im not sure)::I’ll leave it out yes, it has no consequence to use this one or another in the current 20.03 code, since there is no way to pass --reuse-key. If it’s an option, I think it would be a good idea to backport the changes from unstable, since key pinning is striclty impossible currently::(done)::",21c4a33ceef77dec2b821f7164e13971862d5575::
https://api.github.com/repos/NixOS/nixpkgs,85353,release-20.03_chromedriver-81.0.4044::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"backport of NixOS/nixpkgs#85302 ###### Motivation for this change Bring in sync with chromium version, so that chromedriver and chromium can be used together. See https://chromedriver.chromium.org/downloads/version-selection ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix run -f . nixpkgs-review -c nixpkgs-review wip -b release-20.03` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Result of `nixpkgs-review` [1](https://github.com/Mic92/nixpkgs-review) <details> <summary>1 package marked as broken and skipped:</summary> - self </details> <details> <summary>3 package built:</summary> - chromedriver - selendroid - selenium-server-standalone </details>::",d219b7b59f97ed39289a598fd34b63ac5e848883::
https://api.github.com/repos/NixOS/nixpkgs,85351,release-19.09_chromedriver-81.0.4044::release-19.09,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"backport of NixOS/nixpkgs#85302 ###### Motivation for this change Bring in sync with chromium version, so that chromedriver and chromium can be used together. See https://chromedriver.chromium.org/downloads/version-selection ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix run -f . nixpkgs-review -c nixpkgs-review wip -b release-19.09` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Result of `nixpkgs-review` [1](https://github.com/Mic92/nixpkgs-review) <details> <summary>1 package marked as broken and skipped:</summary> - self </details> <details> <summary>3 package built:</summary> - chromedriver - selendroid - selenium-server-standalone </details> ::",347f88736a305ef6bdb6abc2674dda65dfba185e::
https://api.github.com/repos/NixOS/nixpkgs,85338,g2o-update::master,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Updates g2o to the latest release and fixes the ""Log limit exceeded"" error on Hydra. At least the first commit in this PR should probably be backported to 20.03 for ZHF. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",dd14ee840c66497ad3ae5c6b9874ea6f11942171::9693911c5a046f307a90e5b2470b41e1cd605617::
https://api.github.com/repos/NixOS/nixpkgs,85268,python-bdist-rpm::python-unstable,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::6.topic: python::,"###### Motivation for this change This should enable (manual) building of RPMs from python projects using the `python setup.py bdist_rpm` command on systems where `rpmbuild` is not located in `/usr/bin/rpmbuild`. (e.g. NixOS) The discovery of the rpmbuild command was fixed upstream in Python 3.8, so this commit backports the relevant patch to our currently supported Python 3 versions. Fixes: #85204 ###### Things done I have only tested that the patches apply but didn't run a full build since it is a mass rebuild. Sorry for that. - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",47d459ebca8871e1b8860a93b8cbe084b2751911::
https://api.github.com/repos/NixOS/nixpkgs,85223,acme-fix-nginx-after::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Fixes #81842 Given ACME is considered blocker for 20.03 I think we should backport this change if possible. ###### Things done Fixes #81842 by ordering certificate requests _after_ the web service has started up Adds a regression test too There are no tests for the apache module. I didn't even know it existed before this PR.  @aanderse I also ported the fix to that, but I have not written any tests for it. I'd love to see this module tested.  Keeping both in sync is a bit painful if one of the two is only tested and the other isn't.  We already have quite a few problems we need to solve with the `acme` module. It being used by two webservers for me is a bit of a maintenance burden personally, but I'm fine if someone else keeps it up to feature parity - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Can this be moved somewhere into the other acme tests? I doubt the test will be run if it's so disconnected. Also, please address the TODOs.::Reason I moved it out is because the test is growing rather large... yeh the TODOs should be renamed to FUTUREWORK; and they apply to the existing `acme.nix` tests as well; as we're mixing test setup (making sure pebble is talked to instead of letsencrypt prod) and actual testing, whilst this was split up in the past when we were still using boulder::done::",61f834833b0ad688817c6f26201aa12a2b26872e::60247e8560c22695cd21addd92ffe16d75fc7401::681cc105ceaad05b23d483b3b40abc32364e3062::cfd672a94d3a5a1505871658bbceb06344dfe80f::0952336d1d048617b9c976e90c4078ebe0c7ab46::
https://api.github.com/repos/NixOS/nixpkgs,85193,nixos-20.03::nixos-20.03,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"Previous commit/push was to master branch. Read docs that I should avoid working out of master, sorry. Also, set default of cudaSupport to false, (in master I had set it to true) as it seems like a bad idea to assume nvidia card for other users. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Hmm, I'm wondering if we want to add a `dlib-nvidia` package to `pkgs/top-level/all-packages.nix` which is basically `dlib.override { cudaSupport = true; }`, otherwise, users have to build `dlib` with CUDA locally.::Thank you, you cleared things up for me. Sorry for not understanding the process before using your time. In case it was not clear, I am new to both OSS contributing as well as nix/nixpkgs/nixos, so I appreciate your feedback and direction. Can we reject this PR and refile under the appropriate branch, or is there some other mechanism to move it to the appropriate place? One small touch of confusion: it's not 100% clear to me under what scenarios I should PR against release-20.03 vs. master (given your wording, is it safe to assume I can just file against master until I know of a reason to use release-20.03?)::> Thank you, you cleared things up for me. Sorry for not understanding the process before using your time. In case it was not clear, I am new to both OSS contributing as well as nix/nixpkgs/nixos, so I appreciate your feedback and direction. No worries, everyone of us was a beginner at some point :) > Can we reject this PR and refile under the appropriate branch, or is there some other mechanism to move it to the appropriate place? I'm afraid yes: we could change the branch to merge onto, but not your base branch (i.e. the branch from your fork with your CUDA changes). > One small touch of confusion: it's not 100% clear to me under what scenarios I should PR against release-20.03 vs. master (given your wording, is it safe to assume I can just file against master until I know of a reason to use release-20.03?) Basic criteria is listed here: https://gist.github.com/grahamc/c60578c6e6928043d29a427361634df6#what-to-backport (you may want to take a look at this as well: https://nixos.wiki/wiki/Maintainers:Maintainers) But those are no hard rules, so in case you have a good reason, feel free to open a PR anyway to discuss :) ::Thank you very much again. I appreciate your time greatly.::",57d3ec5abf8f66efbd7dfab32e13c4df59ee2af7::
https://api.github.com/repos/NixOS/nixpkgs,85170,networking-virtual::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change This cleans up code setting MTU and MAC Address. We only use `network-link-${interfaceName}` in scripted networking, and use the native networkd methods to set it in case of networkd. This also improves the reliability of the networking tests, and fixes `nixosTests.networking.networkd.virtual`. @rnhmjoj We can just backport a501abd5499d8f82f0991a7b78bcbc4169b0537f into 20.03 to fix the test there as well. Ran all tests in `nixosTests.networking.networkd` and `nixosTests.networking.scripted` in master, and 20.03 with a501abd5499d8f82f0991a7b78bcbc4169b0537f cherry-picked, they succeed now :tada: ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion assertion = (i.virtual || i.virtualType == ""tun"") -> i.macAddress == null; ``` I think this way is easier to read.::```suggestion linkConfig = optionalAttrs (i.macAddress != null) { ``` Just a nitpick::But that wouldn't be the same - setting a mac adress for ""tap"" interfaces is perfectly fine. I changed it to ``` assertion = (i.virtual && i.virtualType == ""tun"") -> i.macAddress == null; ```::perfectly right :-) Thanks, done.::> setting a mac adress for ""tap"" interfaces is perfectly fine. Ah, sorry I didn't know. I ever never used these virtual interfaces.::",cddc7a28b825af49d6d1f8b6d34122e98d3f4c1e::ca391c8a4fcbdeae747fc1e0fe9858c651f47502::532528190bdd739fda866645ba0078df28abc025::1e1945319c2017e0a40a2ea3023d64f282d2b538::5150378c2f10d34a7ba4404c52f6c882284dd254::d1edd8b2f60e4a48be2d1f90f04fe91f2ba71035::
https://api.github.com/repos/NixOS/nixpkgs,84940,rouncube-spell::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"By default, upstream enables a third party service in the cloud: https://github.com/roundcube/roundcubemail/blob/1.4.3/config/defaults.inc.php#L790-L798 I only tried a semi-backport of this PR to 20.03, where the php stuff is completely different. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9e417bc9e31462bbf450f36784d863c9de52b6ab::
https://api.github.com/repos/NixOS/nixpkgs,84918,backport-pingus-83706-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"###### Motivation for this change Backport #83706 to fix pingus in nixos-20.03 ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::`cmake` should be in `nativeBuildInputs`.::this should be fixed in master, as this is only a backport::Agreed, so maybe this PR should wait until a new PR against `master` is merged.::I've submitted one and cherry-picked it here.::",a63370143f8a5067fb84efccf6fc6a4011616deb::e8ae534af7e5c1682e708a261e57550c9fbec142::
https://api.github.com/repos/NixOS/nixpkgs,84841,backport/20.03/performous::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The performous build was fixed by @orivej (or @orivej-nixos?) in 87f75f8e35749394af36e0cb86b323c32262c947, but not backported. The game seems to run fine, with this cherry pick. #80379 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7f84d793445d9565b697808a8ca85a122eaa71c1::
https://api.github.com/repos/NixOS/nixpkgs,84789,backport-ghc-llvm-aarch64::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,This is a backport of #80355 ``` Fixes the following error when attempting to build packages using this compiler: <no location info>: error: Warning: Couldn't figure out LLVM version! Make sure you have installed LLVM 3.9 <no location info>: error: ghc: could not execute: opt (cherry picked from commit 31f557c88feb8e6547805727e193881e35f4c495) ``` ZHF: #80379 /cc @peti @domenkozar::,48a019541667c45bd7b8177b0490bb863d82ecfd::
https://api.github.com/repos/NixOS/nixpkgs,84584,firefox::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::8.has: package (new)::,###### Motivation for this change This updates firefox to the latest stable version. Firefox sadly doesn't allow using a system sqlite database anymore. They removed the option from this version of the release. At least that means the backports will be easier for us… I had to bump the libvpx version to the 1.8 branch as that is what they require now. I did introduce it as a dedicated attribute for now as it breaks building the ESR release of Firefox and likely others as well. In the long term I'd like to swap the arguments (the newest/latest one being libvpx and the old one only being used where it makes sense). Given the potential impact of that change (and that we've to rebuild everything that depends on libvpx) that is an effort for a dedicated PR. Note the previous attempts of updating libvpx was discussed in #60826. Pre-Release-Changelog: https://raw.githubusercontent.com/mozilla/release-notes/master/releases/firefox-75.0-release.json ###### Things done Firefox: - [X] Tested on NixOS x86_64-linux - [X] Tested on NixOS aarch64-linux Firefox-esr: - [x] Tested on NixOS x86_64-linux - [x] Tested on NixOS aarch64-linux ::,1859b5a5aee9b39db2120685a36f1d60e0236394::9de3c9749c9d92d94a3b193e708a2e5bde61ceef::4a41fd7a1e2fa37a4d046467ca2ee91fa46c40d7::f56ea6cdd73d71d49b9e70a3091076b9d25a10a0::bab82e78b287307148ae4c0ca436c4de32d144f0::9d6a7fdaad2d3a0d3b3f90b2e602e2055db4dd6c::79fb58973f133736f4a0c75d4d080c7d3a6032c6::
https://api.github.com/repos/NixOS/nixpkgs,84418,pantheon-update-04-03-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: nixos::6.topic: pantheon::8.has: clean-up::8.has: documentation::8.has: module (update)::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backports #84215 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b98eceeed118c64af7ceffe270fdc31eb5b8483e::fed6a0b63d4ff570ba25cedc3e5dee94b79cef3c::3434b85c751c0e16c7ec969e093fb7cf90b27e06::802a803ec097305c049b0667b6db543541b6d976::16712bb2e63f6cdcd2a3b351b8df909898fd7805::d24c057ecb266c78b2b0fa1fd1252bc87408b088::b9087a830ff94df7bb146d5bcad34adde33d84f7::ef4ce3bdc12bd91fa5a17499a886f9849f5a7258::f2f7833bdd5dbb7f43c2e291c9bd2817446ded57::568500a93f86344d05bfc3eb5c514a139189cd9b::86719de3400d3de614fe3f6ad35f0fc8ac445902::89eeebc42adfbeef5cbb34bb9abafa51c7497ba3::13be8d025fee0ffa27692652df2d9c7d3b313cdc::d63add451686b67631b4bc194801f515faabd928::9f4e21ff3ed0785cee11aa490aff12e14179dcaf::4576a7823390785ad14ed0553fec46952bcb4506::1dda5cab01f5ce3f9813b1b20503bf7993d44984::eaa6002188288e86196a5730ba48870ee32a3b9a::1e219069be0e8f6f6d1aa05cc05438ac4e078979::a569a23a40022279dfa35de8aa147fdbe5de67f5::ce8bce83527cb7bb047341259651a6a5a10849bb::6350caf2755573b6d1744c172505ee8565c2a7ad::612395081172bf7f2ddfd3bcc38d091cca1df08c::32175d2a87a4e8ceffdcdf401fb850bbc6a6a67e::5ddd56619109ec53c5fe6e4f345091e0c1b7361d::6319579a074fd5ee89645e05902095fa54c6997d::cf1f59cf2f59914adff08451dc2a34c61e9c60f2::90a3d62260670e465797f2e98a16905ff0a41925::5e12c6403d63e9c8f037eed8b872814fc14bf6be::2c4c02510754a2200a0a40878375556a99c504ea::883e15f22373a459b1832af91a3dadbe488c3415::d723711d63437866969b7dd3356a52a0b821dc46::11aea6c3c6238afbbb5c30ed5bd545b9446fa72a::133f76fff0f9faef2938107e905648156c1fe61e::
https://api.github.com/repos/NixOS/nixpkgs,84303,zfs-linux-5.6-compat::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change I cherry-picked the Linux 5.6 compatibility patches from the latest OpenZFS master. This builds, boots, and passes tests for me with 5.6.2 (and the installer test exercises a pre-5.6 version). The backported patches are all quite simple, mostly dealing with the fallout of the [32-bit timepocalypse](https://lwn.net/Kernel/Index/#Year_2038_problem). I've omitted https://github.com/openzfs/zfs/commit/bd0d24e09b089af589ebaecd9e85d9fd4ac31deb (https://github.com/openzfs/zfs/pull/10072) because it depends on https://github.com/openzfs/zfs/commit/066e825221012e1e81ccf46b0448772bdd7e5483, which is a much more invasive change, and the PR message implies that it only breaks a non-NixOS-default kernel configuration, for a kernel version we don't ship as default/latest/testing, due to an upstream change that was an accident to begin with. I initially wanted to bump zfsUnstable so that there'd be a pristine (albeit unreleased) upstream option for current kernels, but unfortunately the couple commits I checked broke the test with an ominous `cannot mount 'rpool': Input/output error`. In the spirit of procrastination, let's hope whatever that is goes away by the time of the next upstream release. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::Any chance any of these can be pulled using `fetchpatch`?::Unfortunately, I don't think so. The conflicts were largely due to a mass rename, so git history is required to resolve them. They could perhaps be derivations that are functions of those `fetchpatch`s plus the entire OpenZFS git tree, with some magic to ensure the m4 conflict is resolved automatically, or have custom logic to rewrite the paths in the patches, but I'm not sure the auditability benefit over comparing diffs would be worth it.::@emilazy This is fine then.::",3b3654729f56d62d27d8901128822f9d927d6231::
https://api.github.com/repos/NixOS/nixpkgs,84294,httpd-19.09::release-19.09,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/84045 for CVE-2020-1934 and CVE-2020-1927 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b3e1b81420f92a417ce380e2d9fc8bdc606b505a::
https://api.github.com/repos/NixOS/nixpkgs,84293,httpd-20.03::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::8.has: port to stable::,"(cherry picked from commit f26b2afb938b2c6b094354f9995ffb741e1d0104) <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/84045 for CVE-2020-1934 and CVE-2020-1927 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1e19a82577ea22b2d6bdd34689ad523cf8acc27f::
https://api.github.com/repos/NixOS/nixpkgs,84223,dr-pr-python-uvloop-fix::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Allow build pass by disabling test. Isolated issue to test_sockets.py::TestAIOSockets::test_sock_close_add_reader_race. This test is supposed to be skipped for asynico, but it isn't for some reason, so we disable it instead. See uvloop#284 (https://github.com/MagicStack/uvloop/pull/284) for full details. Don't know why this test isn't properly skipped. Causing hydra build failure. ZHF: #80379 Will backport to 20.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""`. - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",364909d53558ccd6adb5cf135992c6f318d6e80a::
https://api.github.com/repos/NixOS/nixpkgs,84202,sympa-outgoing-20.03::release-20.03,0,merged,10.rebuild-darwin: 1::10.rebuild-darwin: 1-10::10.rebuild-linux: 1::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::,"Backport of #83258. Should be low-risk backport because the service & package didn't exist in 19.09, nothing depends on them, and without this fix the module doesn't really work. ###### Motivation for this change * The service has not been able to actually send emails because systemd sandboxing didn't allow it to call `sendmail` setgid wrapper. I probably broke it during the later iterations of #65397 and haven't caught it until now. Shame on me. * New version [contains various bugfixes](https://github.com/sympa-community/sympa/blob/6.2.54/NEWS.md#6254-2020-02-24), including [CVE-2020-9369](https://nvd.nist.gov/vuln/detail/CVE-2020-9369). [not strictly needed to fix the problem] * The `--enable-fhs` configure flag makes the resulting package layout saner, e.g. by not installing perl modules into `$out/bin`. Upstream plans to make this the default eventually. [not strictly needed to fix the problem] ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",769a5ccbaf4fc8bdbb131eac604963545c71aeb1::b95cf62bd0410931df5b96bfc26bf4c691b1b45b::5edcadc735b0e64204ab4d49493a886d803b3b74::
https://api.github.com/repos/NixOS/nixpkgs,84199,libmicrodns-0.1.2::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"Buildsystem switched to Meson+Ninja. Will backport to 20.03 after this PR is merged. https://github.com/videolabs/libmicrodns/releases/tag/0.1.1 https://github.com/videolabs/libmicrodns/releases/tag/0.1.2 ###### Motivation for this change - [CVE-2020-6071](https://nvd.nist.gov/vuln/detail/CVE-2020-6071) - [CVE-2020-6072](https://nvd.nist.gov/vuln/detail/CVE-2020-6072) - [CVE-2020-6073](https://nvd.nist.gov/vuln/detail/CVE-2020-6073) - [CVE-2020-6077](https://nvd.nist.gov/vuln/detail/CVE-2020-6077) - [CVE-2020-6078](https://nvd.nist.gov/vuln/detail/CVE-2020-6078) - [CVE-2020-6079](https://nvd.nist.gov/vuln/detail/CVE-2020-6079) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Result of `nixpkgs-review` [1](https://github.com/Mic92/nixpkgs-review) <details> <summary>1 package failed to build:</summary> - obs-ndi </details> <details> <summary>16 package built:</summary> - elisa - libmicrodns - libsForQt5.phonon-backend-vlc - libsForQt5.vlc - megaglest - minitube - netease-cloud-music - obs-linuxbrowser - obs-studio - obs-wlrobs - pympress - python27Packages.python-vlc - python37Packages.python-vlc - python38Packages.python-vlc - strawberry - tribler </details> obs-ndi doesn't build because it seems to require manual source download? ::",18f3661f929809bb1071bf4ad03add5e73f60e08::
https://api.github.com/repos/NixOS/nixpkgs,84197,dr-pr-python-pint::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: clean-up::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Bump ``pythonPackages.pint`` version. Also fixes build issue on Hydra: https://hydra.nixos.org/build/115315938. Will backport to [20.03]. ZHF: #80379 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4b822bbd233f252aeb4513ae0d0e9280a5e32114::fb252907f563fbded57344f5c206114fba3b3dc4::
https://api.github.com/repos/NixOS/nixpkgs,84166,softmaker-office-976::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This is a bugfix release: https://www.softmaker.com/en/servicepacks-office-changelog The other commit makes the derivation build again (it failed in desktop item validation). This PR should probably be backported to 20.03, since the old version hash is now invalid. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5e839502c601d031988c0a7109007feef7cd0edd::cb5580e4c0519e0737f1d1fa92ea431c67728cd6::
https://api.github.com/repos/NixOS/nixpkgs,84072,python-build::staging,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::2.status: work-in-progress::6.topic: python::,"###### Motivation for this change This PR adds two different kinds of flags to enable different optimizations in building the CPython interpreter.  One makes the resulting interpreter run about 16% faster, and the other makes it about 6% faster; the combined speedup is 25%. --- One of the flags is `./configure --enable-optimizations`.  Upstream recommends this by having ./configure print a warning if omitted: If you want a release build with all stable optimizations active (PGO, etc), please run ./configure --enable-optimizations We're doing a build to distribute to people for day-to-day use, doing things other than developing the Python interpreter.  So that's certainly a release build -- this means us. And it turns out they aren't kidding!  Running upstream's own preferred benchmarking suite, [pyperformance](https://pyperformance.readthedocs.io/), before and after adding this flag finds a 16% speedup, as the median across the 60 benchmarks in the suite. This one makes the Python build take somewhat longer, because PGO means first building an instrumented version, running that through some task to get a profile, then building again using the profile. Fortunately in 2019 a good, short profile task was developed: it takes about 2min to run, and produces good results.  That appears upstream in 3.8, but it takes just a line to backport the same task (it's just a list of files in the test suite) to each older version, so we do that.  That keeps the effect on build time moderate, and well worthwhile for a 16% speedup to users' Python applications. --- The two other flags are `-Wl,-O1 -Wl,-Bsymbolic-functions`, passed to the compiler at each linking step.  These cause the linker to get the flags `-O1 -Bsymbolic-functions`, and those turn on certain optimizations.  (Details in commit message.) I learned about these flags from a close look at how Debian builds the Python interpreter.  Both have been used in every Debian and Ubuntu release since 2008; `-Wl,-O1` has been there even longer.  Adding them on top of `--enable-optimizations` gives an additional 6% median speedup. --- Benchmark results for the combined changes: out of the 60 benchmarks in the suite, the median speedup is 25% (meaning 1.25x faster, taking 20% less time.)  The middle half range from 18% to 32% faster.  All get at least a little faster; two of them by less than 10%, and two of them by over 50%. Those results are all for Python 3.7, as that's the default `python3`.  Python 3.9, 3.8, and 3.6 see similar, slightly smaller results, with median speedups of 22%, 22%, and 23% respectively.  All results are on my Linux desktop, with an Intel Core i7-8700K (Coffee Lake) CPU. For numbers on each individual benchmark in the suite, see: https://gist.github.com/gnprice/e218f23d97e19a9dd1a15fe27bc61b5f ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [x] python39 - [x] python38 - [x] python37 - [x] python36 - [x] python35 - [x] python27 - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::add the patch to `patches`::use patches::Can we get a link to salsa and list the changes from the Debian patch?::Sure. That won't work with this patch as written, because it applies to the Makefile and that's generated -- but I now realize I could just patch `Makefile.pre.in` instead. Will do.::Sure. Here's the patch on salsa (as of latest master): https://salsa.debian.org/cpython-team/python3/-/blob/02735af38/debian/patches/link-opt.diff This patch has exactly the same content -- the only change is in the surrounding context. Similarly, within Debian, the patch's content has been unchanged (the only changes to the patch file have been to update the context and line numbers) since LDCXXSHARED was introduced to the upstream version of this code in Python 3.2 (and 2.7). Here's that patch as it appeared for `python3.2` in Debian 7 Wheezy, released in 2013: https://sources.debian.org/src/python3.2/3.2.3-7/debian/patches/link-opt.diff/ And here it is from the `python2.4` in Debian 5 Lenny, released in 2009: https://sources.debian.org/src/python2.4/2.4.6-1+lenny1/debian/patches/link-opt.dpatch/ That one already has the same content except for the absence of LDCXXSHARED. I'll add into the patch files the Salsa link, and the clarification of ""based on"" to ""has the same content"". ::(Oh, and the Debian versions of the patch apply to `configure.ac`, or on older CPython versions `configure.in`, because Debian makes a point of regenerating `configure` from those.) ::Regenerating `configure` is not a bad idea either, just add the hook.::Oh neat -- searching a bit, I guess that'd be `autoreconfHook`? And we could enable it by just adding it to `nativeBuildInputs`, IIUC. Cool. Happy to add a commit making that change too. I won't do that tonight, only because testing properly causes rebuilds of GCC etc. that take over an hour, and it's too late in the evening here for another round of that. ::```suggestion ``` Unnecessary new line::If the patches from Debian apply, it is better to fetch them using `fetchpatch`.::The newline seems intentional; there was a newline here before, and there was and is a matching newline at the top of this list.::> If the patches from Debian apply, it is better to fetch them using `fetchpatch`. OK, can do. Any preference on fetching from Salsa vs. sources.debian.org? (The latter being a record of actual releases.) I think I can find all 4 of the needed versions of the patch (the context keeps changing slightly) on Salsa, and 3 of the 4 on sources -- Debian skipped Python 3.6. ::Salsa is better since it is a git repository – we can pin it to a commit and it will always be there. Sources might remove older debian releases after they are no longer supported.::Mmm, that's a good consideration. On that score, I think actually sources is more dependable -- it isn't the live repository for active releases, rather is meant as a permanent archive for studying long-term history. It has all Debian releases going back to 2.0 ""hamm"", released in 1998: https://sources.debian.org/stats/ These patches are probably pretty stable in their URLs on Salsa, too. But they could go away -- the package's maintainer, or a future new maintainer, could move its development to some other repo and remove this one. If it's simply moved within Salsa there'd probably be a redirect, but they could also move it to some other Git hosting service or even something else. Anything the particular maintainer finds convenient for ongoing development would be seen as 100% OK from a Debian perspective. ::IIRC, sources only carry the latest revision they have for a given Debian release: https://sources.debian.org/src/python3.2/ Maybe there is some archive site but I do not see revision `-6` in the above link. Salsa should be stable enough, we can always deal with breakage like we did when they switched from Alioth to Salsa. And Hydra caches the sources so even if they switch, users will still get it from there.::> IIRC, sources only carry the latest revision they have for a given Debian release: Hmm, true. I'd missed that point, thanks. That means nothing will change for any release that's no longer supported, but it can for a release that is (or is still in development). > https://sources.debian.org/src/python3.2/ > Maybe there is some archive site but I do not see revision `-6` in the above link. For an even sharper example: https://sources.debian.org/src/python3.5/ The version available is 3.5.3-1+deb9u1, from Debian 9 ""stretch"". The ""+debXuY"" suffix means that was an update after the release was stable, which means the previous version 3.5.3-1 was the one that in the original stable release of ""stretch"". But that original version doesn't appear on sources. If there's another update to that package in ""stretch"" in its remaining months before EOL, then presumably the +deb9u1 version will disappear too. There is a comprehensive archive site which has all versions: http://snapshot.debian.org/package/python3.2/ But that one only provides whole package files, not individual files from within the package, so it's not suitable for fetchpatch. I'll use Salsa. Thanks for the discussion! > And Hydra caches the sources so even if they switch, users will still get it from there. Oh, good to know. That's quite reassuring for the impact of temporary outages, too. ::",9d8831c8fe31ce26777274af68054c55342f48dc::f8a8243bd3127ba9c6090d57f43d979389c1653c::52c04b0347d60064f11ae8430e5a6c57a30ec831::480c8d199166b2f8cd20e6e245d8a019329ec466::
https://api.github.com/repos/NixOS/nixpkgs,83988,master::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change https://help.sonatype.com/repomanager3/release-notes/2020-release-notes ``` Security Fix A critical security vulnerability has been found in all versions of NXRM 3 up to and including 3.21.1. For details, please see CVE-2020-10199, CVE-2020-10203, CVE-2020-10204. Sonatype recommends that administrators upgrade to 3.21.2 or newer immediately. ``` Maybe this pr should be backported to 19.09. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e10b507ec05681384894653808c663039e7732c4::
https://api.github.com/repos/NixOS/nixpkgs,83760,matomo-3.13.4::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"Updated both matomo and matomo-beta to the latest version <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change this should, hopefully, be the last release of the 3.* series. after this it's on to the big four point oh.  it contains security updates so recommend backporting. https://matomo.org/changelog/matomo-3-13-4/ ###### Things done Updated, tested install, ran tests, updated my server from my branch <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). @aanderse @florianjacob ::",761b391b4a50a6ed458e80f5281fe010a2be0633::
https://api.github.com/repos/NixOS/nixpkgs,83726,backport::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::,"###### Motivation for this change backport https://github.com/NixOS/nixpkgs/pull/82776 and https://github.com/NixOS/nixpkgs/pull/82784 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",680d4ceaa2264fd442c86a7a9d8e1c5520c8742b::9f99a89ee141adb68280705a85dae632111b6696::
https://api.github.com/repos/NixOS/nixpkgs,83720,f/py-application::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"The build is currently broken due to failure to build `darcs` to fetch the src package. The homepage is already their GitHub repo, and it appears to be the active src of development anyways. See #83718 I came across this while debugging this failure: https://hydra.nixos.org/build/115510612 Note that the `application` dependency *does* succeed on Hydra, because it's already on local disk in Hydra's store, but I cannot rebuild locally because it has prefer local builds. https://hydra.nixos.org/build/115512559 This package is not reproducible on 20.03 or buildable outside of Hydra, so I intend to backport the fix. CC @NixOS/nixos-release-managers ZHF: #80379 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::This is used by exactly 1 other package in all of NixPkgs, and that package actually asserts that we need  2.8.0: https://github.com/AGProjects/python-otr/blob/master/setup.py#L22::",2c5fe63fbe31470ebb7090cb22f47adc6753cdd1::c77bd38764f829c3d0be920a1d8604cc3e9ada99::
https://api.github.com/repos/NixOS/nixpkgs,83655,release-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Currently all custom wine runtimes installed by Lutris fail to start with the error: symbol k5_os_mutex_destroy version krb5support_0_MIT not defined in file libkrb5support.so.0 ###### Things done backport #83645 as this error was discovered in 20.03 <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",042c7f3001f336426699bfd60d515efc6797285f::
https://api.github.com/repos/NixOS/nixpkgs,83628,mongodb-20.03::release-20.03,0,merged,1.severity: blocker::1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: clean-up::8.has: documentation::8.has: package (new)::,"###### Motivation for this change Backport PR for #40082 and #83617. (@worldofpeace I may be wrong, but did you mention that you'd prefer to only backport mongodb 3.4.24? In that case I'd remove 3.6/4.0 from this PR. I just added all of it for now as it was rather tight coupled due to the package split :)) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ac23e5039cdc043ce9f098d5c7029ebe355607db::54d29441724b892d92beb60fd318340605a8fbdb::83d71242f350aba6d30724d8af8df1bc2989f5db::2cba56ec37a4ad766bd35fa43b5b24645d1a88c5::ef9bd8e2440a6ca4664135a0fd5f3ab404ed78f6::00d69b87a471cf240a511e5a5566ca475bbfe029::56bfb0d8ff7b983a0cf83e97d22bf5bdafdb8eca::07fb01965ec3fe20c72f8e5305692d415f1ed1c5::7cf4906ab937222ed558b4a3e7fdc601a694bd12::cd36c1d76e3ecff6d1341d3bb4dc6c2b69fc2acf::834fb02c9d1c78585aab323299f4fe8b442abcf2::
https://api.github.com/repos/NixOS/nixpkgs,83571,hspec-core-disable-tests::haskell-updates,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: package (new)::,"###### Motivation for this change The tests have x86_64 results hardcoded, see https://github.com/hspec/hspec/issues/431. Intended to backport to 20.03 for ZHF: #80379 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b5d100f34f34f670c8bd210f79ffb3d16ea86248::
https://api.github.com/repos/NixOS/nixpkgs,83553,bp/gym::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,Fixes broken build by backporting https://github.com/NixOS/nixpkgs/pull/81577 and previous update. CC @NixOS/nixos-release-managers ZHF: #80379 (cherry picked from commit 908c6e8214a3933d43f55f5c4ae6df0572c34568)::,9bd852f026ec3faebfab79bd9f39eaf0c52e29ed::
https://api.github.com/repos/NixOS/nixpkgs,83533,bp/mkl::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"Backport of https://github.com/NixOS/nixpkgs/pull/83277 This is not technically part of ZHF #80379, since Hydra doesn't build it, but it nevertheless contains a number of bugfixes and should be backported. CC @NixOS/nixos-release-managers (cherry picked from commit 335e0973523641cb779667aa2609191b4a273737)::",d22cd2bccff7cac2a151c4a86591e0e7bcaf8241::
https://api.github.com/repos/NixOS/nixpkgs,83524,tor-browser-bundle-update::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Having the newest version. See https://blog.torproject.org/new-release-tor-browser-907. Fixes TROVE-2020-002, so it should be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",239d6c89be447627384021eb38a12add4d466c14::
https://api.github.com/repos/NixOS/nixpkgs,83508,bp/faulthandler::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: clean-up::,"This backports the commits in https://github.com/NixOS/nixpkgs/pull/83466, which ""fixes"" the broken `faulthandler` build on python2 by disabling the 1 failing test, and removing bad dependencies on `pytest-faulthandler` (which should no longer be used as of pytest 5.0). There are ~40 python packages that depend on it and can now attempt builds! CC @NixOS/nixos-release-managers ZHF: #80379::",9fa8fbf3a9682eb1261e0d011aa3924cb3f033b9::2c30ce720fb3f1b10e6f1d572fb512740f687ccc::56ba57fe500dab698343c84a78e0910935591417::
https://api.github.com/repos/NixOS/nixpkgs,83429,nm-1.22.10::staging,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 101-500::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change News: https://gitlab.freedesktop.org/NetworkManager/NetworkManager/-/blob/1.22.10/NEWS This update is safe for backport to 20.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4feb4cf707a50d06f3095983b072a6a7d15675f7::
https://api.github.com/repos/NixOS/nixpkgs,83382,backport-qgis-3.10.4::release-20.03,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::8.has: clean-up::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This is a backport of #83317 to `release-20.03`. This PR will remove few packages from `python2Packages` set (pyproj and revdeps). The amount of packages removed is fairly limited and since release-20.03 is not released yet, I hope there is still room for it. I would prefer this to ship with 20.03, but can understand if someone prefers to freeze versions as they are, but if we do so we will not be able to port qgis LTR fixes (3.10.*). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",19f511fbaa78a98ea754f0d2e6ae58f08433c936::af2580e33032eca8039f29aadff53458bfa72101::6c88e5f5a7acef2f8a2a935fe4ac63d21e9a2cfe::
https://api.github.com/repos/NixOS/nixpkgs,83332,backport/19.09/memcached::release-19.09,0,closed,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change fixes remote DoS/possibly code execution, as described in https://github.com/memcached/memcached/issues/629 backport of 58a491aa801aab83ed8eed28fce211a185689236 cc @grahamc ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",5a0e5daa426d4d9c4ffa06c1924042974f36c244::
https://api.github.com/repos/NixOS/nixpkgs,83331,backport/20.03/memcached::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change fixes remote DoS/possibly code execution, as described in https://github.com/memcached/memcached/issues/629 backport of 58a491aa801aab83ed8eed28fce211a185689236 cc @grahamc ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",07dc1c743eda7afeff5cb388d8a7150fb912cac3::
https://api.github.com/repos/NixOS/nixpkgs,83330,20.03_update_protonvpn_ng_2.2.0-with_fix::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"Some changes were made after final review of the package. There was a missing runtime dependency that was discovered after merge of the backport (cherry picked from commit 9fe4a634c1f3171b356d2fe986deab1b2d5ceda4) Reason: The dependency can make the package work or not <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Make sure the package works for everybody ###### Things done Backport from PR #81735 <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b02da56acc81afad6ccfe6343c8508c0270cd4dc::
https://api.github.com/repos/NixOS/nixpkgs,83317,qgis-3.10.4::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::8.has: clean-up::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update QGIS. In this PR, I do not upgrade `proj` up to 7.0.0 since I intend to backport those changes to `release-20.03`. I’ll do the `proj-7.0.0` update after in a separate PR. The update of `pyproj` makes it python2 incompatible and few packages become unavailable in python2Packages as a consequence, but I do not think this is a problem (python2 is deprecated anyway). This closes #78755 cc @das-g ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::That last line refers to a file which is a `vim` artefact and probably doesn't belong into this patch. (Probably was `git add`ed by mistake.)::I guess there's no feasible way to get these tests working instead of not running them?:::+1: for commenting on what's being done here, and for what purpose. But let's use proper grammar and spelling: ```suggestion +        # Data copied from the store are readonly (causes cleanup problem). +        # Make them are writable. ``` or ```suggestion +        # Data copied from the store is readonly (causes cleanup problem). +        # Make it are writable. ``` (""Data"" can be plural in English, but is more commonly used as a singular, even though it derives from the Latin plural to ""datum"".)::Variable `stat_info` could be inlined without much loss of comprehensibility. ```suggestion +            os.chmod(r, os.stat(r).st_mode | stat.S_IWUSR) ```::Variable `stat_info` could be inlined without much loss of comprehensibility. ```suggestion +                os.chmod(fpath, os.stat(fpath).st_mode | stat.S_IWUSR) ```::Oups, I did not mean to include those :sweat_smile: ::I did not manage to have those working (unfortunatly). They are related to rounding errors when using the `NAD27` projection.::",cbb385a052cdf58f3f78707da4b4241f2bec3753::da164cbba59882a2deb41cbf278b9b88ded55f9e::03c63542b16c12d6e19d8fd7a4608f2d537a0e62::
https://api.github.com/repos/NixOS/nixpkgs,83235,upd/memcached::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"As far as I can tell, 1.6 is completely backwards compatible with 1.5, so we can just backport this to stable as is. cc @coreyoconnor ###### Motivation for this change Fixes remote DoS/possibly code execution, as described in https://github.com/memcached/memcached/issues/629 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",58a491aa801aab83ed8eed28fce211a185689236::
https://api.github.com/repos/NixOS/nixpkgs,83012,release-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: python::8.has: clean-up::,"- browsing the github page suggests the upcoming 0.17 release should support 3.8 for ZHF: #80379 backport of #83009 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",bb81a6f03754ca85acd4f6e8f218700e84b9897b::
https://api.github.com/repos/NixOS/nixpkgs,82917,fix-texworks-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/82873 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ``` https://github.com/NixOS/nixpkgs/pull/82917 1 package built: texworks ```::",138c4410cffc80438d9a3f90d5607f25d8499370::
https://api.github.com/repos/NixOS/nixpkgs,82910,marcus7070/spyder-and-cq-editor::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"###### Motivation for this change cq-editor requires the library Spyder v3, which in turn requires Spyder-kernels v0.x. I've added them as `python3Packages.spyder_3` and `python3Packages.spyder-kernels_0_5` respectively. I haven't touched the spyder application (v4), `pythonPackages.spyder` or `pythonPackages.spyder-kernels`. Also, I enabled tests on `python3Packages.spyder-kernels_0_5` and got them to pass (with the exception of the tests for their optional UMR feature, which make assumptions about the filesystem that fail in nix). Regarding the still broken Spyder v4, it requires Jedi 14.0 but we have 15.2. If this commit sticks https://github.com/spyder-ide/spyder/commit/694f1cecd14ad9f034fbffcce00f5b1da4e8f2ec, the next release of Spyder should have Jedi pinned to 15.2. So if the stars align and no one bumps our Jedi version we might get it working then. Related to #80083 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cq-editor builds fine. `pythonPackages.spyder` builds for python 3.6 and 3.7, but `python35Packages.sqlalchemy`, `python38Packages.rope` are currently broken preventing builds on those versions of Python. I think this will need to be backported to release-20.03 as well.::",a1f45198148197dbf2a460be17a7fb50686b1b4e::c5ceb64a5d5c90f3b411c824a762f34cf75c9fb3::d8a7d1f665c0cba02cccd95fdc88f318c87c7979::
https://api.github.com/repos/NixOS/nixpkgs,82846,rsyslog::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The default `rsyslog` package depends on `libksi` which is marked as broken due to a dependency on `openssl-1.0.2u`. ZHF, backport required (and coming). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",bdd33bc3aa114a0218af7c68a7cb4571582ad996::
https://api.github.com/repos/NixOS/nixpkgs,82780,nixos-20.03-binary-strict::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: haskell::8.has: package (new)::,"###### Motivation for this change I want to use `webify` on `nixos-20.03`. ###### Things done I basically backported the bump that happened in ea1aae15ae62c59641cfb84f1138a8a0d3b365e2. This fixes the build, also of - eths-rlp - vorbiscomment - webify which depend on binary-strict. Everything else that depends on binary-strict remains broken, so this commit shouldn't break anything that wasn't broken yet. I know that I edit `hackage-packages.nix`, which shouldn't be touched by hand. But I'd still propose this, as - this doesn't break anything (at least on `x86_64-linux`) - If hackage-packages ever gets regenerated, it will include the bump anyway. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",8583ad1425603669e31953447296d0b01f6187bd::
https://api.github.com/repos/NixOS/nixpkgs,82773,rpy2-pandas-1.x::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The `python3.pkgs.rpy2` build was broken by a recent update to `pandas`. A fix is already upstream and just needs to be backported. While I'm at it I also included a version bump to the latest released version. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9c8068c4c42927a5ea8d8a9370565f86dc375a58::b8ed075c87574e1510580b48d4888329c59d3a68::
https://api.github.com/repos/NixOS/nixpkgs,82765,opensmtpd-cve::release-19.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 0::,"Security critical fix #80978 was never backported to 19.09. This marks the package as vulnerable.::```suggestion knownVulnerabilities = [ ""CVE-2020-8794"" ]; ``` I don’t think knownVulnerabilities is used for giving advice, and it definitely can’t recommend people upgrade to a pre-release NixOS release.::",4496c5ea67a64185d8b677e6ad5be785799bbd0b::746155e091177ffec1b455e2042bf6dc71b8d4a6::
https://api.github.com/repos/NixOS/nixpkgs,82703,nixos-20.03-hakyll-contrib-hyphenation-jailbreak::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: haskell::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This is a backport of https://github.com/NixOS/nixpkgs/pull/80397. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::You'll have to remove this line as well, otherwise hydra won't build this. ```suggestion ```::Done, thanks.::",4a36d2d8623a27a8b890d96621df8c221419a015::
https://api.github.com/repos/NixOS/nixpkgs,82624,mixxx-with-old-libshout::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Because libshout 2.4.2 and newer seem to break streaming in mixxx, build it with 2.4.1 instead. This actually fixes the problem. ###### Motivation for this change DJing without streaming is just half the fun, especially in times of Corona. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Should probably be backported to the stable channel 19.09::",3a3860fe481067ef108289defb81117279281f0a::
https://api.github.com/repos/NixOS/nixpkgs,82619,unison-fix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Fixes #61867 and #61505, bumps the ocaml version unison is built against to 4.09. The patches included here appear in the trunk version of unison, but were not backported to 2.51.2. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion ```::",b8c91a20ed29883d5f059ee4b567587daf077168::8b1eeba0fc86aae20024b6ff04b3b4337dea5555::
https://api.github.com/repos/NixOS/nixpkgs,82614,xfce4-remove-alias::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::6.topic: xfce::8.has: changelog::8.has: documentation::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change `xfce4-12` should not point to xfce version 4.14. People will be better off seeing an error than unknowingly being force-switched to 4.12. I think we should backport this change to 20.03 ASAP so it has time to sink before the release. cc @worldofpeace @disassembler ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::IMO the throw can help people know by what to replace `xfce4-12`, so we can only gain a small bit of user-friendliness by having it -- though not much, and I guess we can remove it soon(tm) in unstable, when most people will have made the change. And hopefully no one will think that `xfce4-14` actually contains the 4.12 version of xfce :smile: ::",175f9ef4f88401be74564086bfa5d65cc76a7925::
https://api.github.com/repos/NixOS/nixpkgs,82415,symmetrica-3.0.1-20.03::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change This fixes a regression caused by the glibc update. See https://github.com/NixOS/nixpkgs/pull/82239 for more details. The major version bump is just because the project changed ownership. This is essentially a [bugfix and cleanup](https://gitlab.com/sagemath/symmetrica/-/commits/3.0.1) release. Further, sage is its only consumer. Therefore I think it is fine to include in 20.03 (since it fixes a regression). @worldofpeace do I have your okay for this backport? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",04f75b17392e7fae282e3e9296a821dc8b4bb272::
https://api.github.com/repos/NixOS/nixpkgs,82376,19.09-gitlab-12.8.6::release-19.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of #82374 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f030d5ece0863675f5e77428f11949cbeb1fe0b6::a3c8911bd2df38d775500cc043366f9211c5c5f3::d4148a7bfe53de862614969d24fad8ed2196688c::
https://api.github.com/repos/NixOS/nixpkgs,82375,20.03-gitlab-12.8.6::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/82374 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",988169988eae2d1ea21e68fcc134f97c4115343b::1df0c691b93ac0f7067a3d88260796fe48676165::94767b4432ba46cce11a9753216e71ac5a318143::
https://api.github.com/repos/NixOS/nixpkgs,82338,php-package-updates::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::11.by: package-maintainer::6.topic: nixos::8.has: changelog::8.has: clean-up::8.has: documentation::8.has: package (new)::8.has: port to stable::,"###### Motivation for this change Changelog: https://www.php.net/ChangeLog-7.php#7.2.28 Changelog: https://www.php.net/ChangeLog-7.php#7.3.14 This also changes so we default to php74. The upgrade commits should be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",8f4cb371161d8bff91e44ca17f7111c27dd5f8b7::5bf47ab9bb7c9ad9ef520456c0ccc5f7d3621b7b::a04010b64ac87ea35c214a93a7c9606d3da65b42::
https://api.github.com/repos/NixOS/nixpkgs,82310,systemd-network-link-no-networkd::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::9.needs: port to stable::,"###### Motivation for this change The `systemd.network.links` option is now respected even when systemd-networkd is disabled. This mirrors the behaviour of systemd - It's udev that parses `.link` files, not systemd-networkd. I added a test that creates a dummy interface and checks for the MTU to be set according to the `.link` file. Follow-up of https://github.com/NixOS/nixpkgs/pull/77405#issuecomment-597357774 Thanks to @NinjaTrappeur for helping me unclutter some of the module code and being ~~a rubberduck~~ infinite recursion slayer / father of the dragon and liberator of slaves. cc @obadz @danielfullmer Should probably be backported to 20.03, given we don't default to networkd, meaning `.link` file handling is broken there. @GrahamcOfBorg build nixosTests.networking.networkd.link nixosTests.networking.scripted.link ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::How come the key is not ""Match""? Is is not calling `lib.generators.toINI` under the hood?::The home `systemd.network` attrset currently has `linkConfig`, `matchConfig`, `networkConfig` etc. Changing that is out of scope for this PR IMHO.::Also systemd config files aren't strictly standard `toINI` compatible.::This has the implication of always renaming, reconfiguring, twiddling with, … interfaces even if the user doesn't care about networkd? This should/can be the default but we must at least provide a way to opt-out of this. It might be the way udev wants to handle interface renaming but it might also lead to very unfortunate hard to debug behavior. It is certainly not expected if you are intimately familiar with both systemd and/or udev. ::Only if link units exist, which I think isn't the case unless they're created explicitly?::`.link` files are parsed and acted upon by udev, not networkd. These are separate concepts, but currently the assembly of the `.link` files from `systemd.network.links` was only made if networkd wasn't enabled, which is the bug this PR is fixing. People had to resort to dropping files in `/etc/systemd/network/*.link` manually, or write other custom udev rules to accomplish the same thing. (For some subsets of what's possible with `.link` files, there's a counterpart in scripted networking, manually shelling out to `ip link set mtu/(mac)address`) Since some systemd versions, we (and other distros) ship `${pkgs.systemd}/lib/systemd/network/99-default.link` (which sets `MACAddressPolicy=persistent`) - this is also not conditional of networkd being enabled. So back to the question - we still only rename, reconfigure, twiddle only if the user sets something in `systemd.networkd.links`, so I'd assume all configuration there is intentional - the `99-default.link` comes via another mechanism and is already enabled since systemd 242.::My fear here is not that the *user* sets something but that we as distro (accidentially) ship new units but arguably that is a bug and should then be fixed upstream...::So the only consumer here (for now) is the `50-zerotier` one - and this was already active, as it was added through `environment.etc.""systemd/network/50-zerotier.link""` - just bypassing the (broken) `systemd.network.links` architecture, which this PR is meant to solve. ::",1115959a8d4d73ad73341563dc8bbf52230a281e::36ef112a477034fc6d1d9170bf1bcda0140a8d1d::3d1079a20dafd82fac7ac857e63c91e787f4eaaa::
https://api.github.com/repos/NixOS/nixpkgs,82287,fix/bepasty::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change xstatic-bootstrap was bumped in #71893 This broke bepasty, because bepasty currently depends on xstatic-bootstrap < 4. bepasty is the only package in nixpkgs that depends on xstatic-bootstrap. There is an upstream issue [here](https://github.com/bepasty/bepasty-server/issues/183), but I don't think anyone is working on this right now. Assuming this will get merged, it will also need a backport to 20.03. In that case, it's also relevant to ZHF aka #80379. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @Lassulus (you use this, right?) cc @FRidh (you committed this) cc @ThomasWaldmann (upstream, will this change any time soon?)::",852fe4c9ec6bbe1866776ba40f4898d2c55a3dc6::
https://api.github.com/repos/NixOS/nixpkgs,82240,sage-docutils-0.15-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: documentation::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The better way to fix this would be to backport the upstream sphinx patch: https://github.com/sphinx-doc/sphinx/commit/faedcc48ccb942b9a7b758b699b30f0d026c0771 Unfortunately it doesn't apply cleanly and isn't worth the effort of backporting. Let's hope we can switch to python3 sage and the recent sphinx version that comes with it before this becomes a problem. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",71335774051655fae820bc94c3e06c39dc778b99::
https://api.github.com/repos/NixOS/nixpkgs,82223,alot-0.9-patch-composition-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change This version is not usable without this patch. See https://github.com/pazz/alot/issues/1468. (cherry picked from commit b6d45301de5bb6e275af92333a4c767edef09f0e) (backport of https://github.com/NixOS/nixpkgs/pull/82099) ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",34c9db1f1352c5c821b722ad81d51353fe1d0c83::
https://api.github.com/repos/NixOS/nixpkgs,82176,bump-hydra::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: package (new)::,"###### Motivation for this change :warning: I only tested the migration in a local setup and not yet on my Hydra instance. Updates Hydra to the latest `master` (and `flake`) revision to incorporate the massive performance improvements. Before this is mergable, the following things should be discussed: * I had to split the sources for several hydra variants (a.k.a. flake-support, unstable and stable), however `hydra-stable` is currently broken since Hydra doesn't compile with nix 2.3. For now, I marked it as broken (since upstream uses `pkgs.nixFlakes` on Hydra), however we could fix it: * Pin Hydra with `nix-stable` to an older revision (and risking that it lacks appropriate maintenance). * Patch Hydra to support Nix 2.3 again (I actually attempted to do this today but this requires a bit more effort). * A few weeks ago I was asked if this should be backported to 20.03. I think that it should since Graham provided pretty useful migration instructions and I played around with it locally and the migration feels pretty smooth. However that's up to our release managers. * (out of scope) We should consider marking this package as deprecated for 20.09 or 21.03 (depending on when flakes will be stabilized) as there's no point in maintaining this package (in addition to the Nix expressions in `nixos/hydra`) as soon as flakes are out. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",196196b292e4bd1650f5586df154df32c681d66c::
https://api.github.com/repos/NixOS/nixpkgs,82173,20.03/aarch64/firefox::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"See #81211 The backport can be applied, unlike 19.09. *Currently waiting on builds.*::",6291285748800d6c0d51913a9a95c8d5d3eb01a9::
https://api.github.com/repos/NixOS/nixpkgs,82171,19.09/aarch64/firefox::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,This is the equivalent change to d4446c563d5d7f1709cb95ce3731b56ea4578447 That particular change could not be backported as-is due to refactors in the firefox derivation. See #81211 *Currently waiting on builds.*::,23d18e240415370748b0e6053ed02a6945ba99d9::
https://api.github.com/repos/NixOS/nixpkgs,82065,pr/glibc_prlimit64_20.03::staging-20.03,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux-stdenv::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change #80961 has landed on master. This provides its backport to 20.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - other Linux distributions - [x] RHEL6-like - [x] RHEL7-like - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9cc2f1885f820322fbf4ac9b1a405d4edac4a822::
https://api.github.com/repos/NixOS/nixpkgs,82021,u/amp::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"The build also happens to be broken on master; this fixes it, along with upgrading the cargoSha256 for https://github.com/NixOS/nixpkgs/issues/79975. Minus the cargo sha changes, this should be backported to 20.03 for ZHF: #80379 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",099b52dabf39101cac50d709819761a5e74f50c9::
https://api.github.com/repos/NixOS/nixpkgs,82017,u/heatseeker::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"The build is currently broken on master; upgrading fixes it. Also upgrading the cargoSha256 for https://github.com/NixOS/nixpkgs/issues/79975 and quoting the homepage for https://github.com/NixOS/rfcs/pull/45 Minus the cargo sha and fetcher change, this should be backported to 20.03 for ZHF: #80379 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",9044bdef6a6aa1e216518020b47516990a00d304::
https://api.github.com/repos/NixOS/nixpkgs,81980,fix-orangefs::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::9.needs: port to stable::,"###### Motivation for this change Fixes a bug in the module that generates a wrong list of handles with a just a single server. The latest glibc update (>2.28) broke the build. Needs backport to 20.03 (https://github.com/NixOS/nixpkgs/issues/80379) ###### Things done * Fix handle calculation in module * Add option to build with lmdb (faster meta data) * Enable read ahead cache * Add patches for glibc > 2.28 <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",04c021d402ebee4f75bc19e8ca85439f6019dc1f::fd38bbae1699c40b8a50ccb4f39893266e961392::39cbdf8bcbbec3a72cab1f6b1b5b848708106549::
https://api.github.com/repos/NixOS/nixpkgs,81938,fix/du-dust-name::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change This prevents confusion by nix-env when installing packages by derivation name, since there is another package named dust already Fixes https://github.com/NixOS/nixpkgs/issues/81288 Ping @SFrijters Should be backported ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ad126ee28ef52a7a3d6512aaa4e8cb514e160d25::
https://api.github.com/repos/NixOS/nixpkgs,81880,palemoon_28.8.4_cherrypick_20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backport of PR https://github.com/NixOS/nixpkgs/pull/81551 (cherry picked from commit e633927c811b574b45418aac9273e0aa876bf69f) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f5fa7bf2cfb151d4ebcfa3e741a75f61c20cd52e::
https://api.github.com/repos/NixOS/nixpkgs,81851,bump-libksi::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change rsyslogd is currently not building because of this, causing the -small jobset to fail its eval on both unstable and 20.03 since #80746. I'm not sure if rsyslog will be working after this bump, as I don't have an rsyslog setup (is anyone even using this since journald remoting exist?). The rsyslogd binary launches correctly, but it it didn't do any SSL stuff so I was unable to test that. Also, I have no idea how big the impact of this PR is… cc @NixOS/nixos-release-managers if it works, it needs a backport to 20.03 to fix the eval. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",fdccb96eeae1d5c0bab3ebfb5c99c794670628df::
https://api.github.com/repos/NixOS/nixpkgs,81803,gitlab-12.8.2::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: port to stable::,"**This needs to be backported to 20.03 and 19.09** Includes multiple security fixes mentioned in https://about.gitlab.com/releases/2020/03/04/gitlab-12-dot-8-dot-2-released/ (unfortunately, no CVE numbers as of yet) - Directory Traversal to Arbitrary File Read - Account Takeover Through Expired Link - Server Side Request Forgery Through Deprecated Service - Group Two-Factor Authentication Requirement Bypass - Stored XSS in Merge Request Pages - Stored XSS in Merge Request Submission Form - Stored XSS in File View - Stored XSS in Grafana Integration - Contribution Analytics Exposed to Non-members - Incorrect Access Control in Docker Registry via Deploy Tokens - Denial of Service via Permission Checks - Denial of Service in Design For Public Issue - GitHub Tokens Displayed in Plaintext on Integrations Page - Incorrect Access Control via LFS Import - Unescaped HTML in Header - Private Merge Request Titles Leaked via Widget - Project Namespace Exposed via Vulnerability Feedback Endpoint - Denial of Service Through Recursive Requests - Project Authorization Not Being Updated - Incorrect Permission Level For Group Invites - Disclosure of Private Group Epic Information - User IP Address Exposed via Badge images - Update postgresql (GitLab Omnibus) <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a5e2f00c00048135f4e9d271475060c482cc5a32::
https://api.github.com/repos/NixOS/nixpkgs,81752,fix-55221::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Fixes #55221. If accepted, I would like to backport this to 20.03 as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7bbf7fa6936fcec1de0241bb301a2a155e59664b::
https://api.github.com/repos/NixOS/nixpkgs,81744,backport-remaining-initrd-fix::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Please note that fffd09d21ced2b33d261a9d26b6cf950b35f06dc was needed to fix the `initrd-network-ssh`-test on `release-20.03` which is why I filed a PR. ----- The backport of this patch has been requested in #79532[1]. The diff is slightly off the original commit since some changes from ea7d02406b000b8b9a951fba262174492ff4572f were needed, however this commit shouldn't be backported as it potentially breaks existing setups. [1] https://github.com/NixOS/nixpkgs/pull/79532#issuecomment-593511638 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3c86a21d6c95d02062801f6dbc1dd2ec0b0093db::fffd09d21ced2b33d261a9d26b6cf950b35f06dc::
https://api.github.com/repos/NixOS/nixpkgs,81718,backport-80746::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Backports https://github.com/NixOS/nixpkgs/pull/80746. It's close to a week since it was merged, so I think we have enough fixes for a backport (though not everything is fixed, but that wasn't the largest requirement) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7dfb4447d6c1cf3096c75889948895fd9d39c0b5::
https://api.github.com/repos/NixOS/nixpkgs,81669,backport-2003-zerotier-mac-fix::release-20.03,0,merged,,(cherry picked from commit 27b8253655217f46532625d07fb8d4cdbd649489) backport #77405 ::,01a02ccd73f7936186454149c1b7ab4e4cba12bb::
https://api.github.com/repos/NixOS/nixpkgs,81557,nixos-expose-extrasources::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: documentation::8.has: module (update)::,"Because there was absolutely no way of setting this without rewriting parts of the module otherwise. ###### Motivation for this change When using https://github.com/DBCDK/morph with NixOS machines specifying `documentation.nixos.includeAllModules = true;`, the manuals of NixOS instantations were impure & repeatedly rebuilding due to both morph's use of temporary directories & Nixpkgs modules and the normal location of the morph network's repository being in a user's home directory along with our definition of Nixpkgs modules. Some examples from these manual builds: ```xml <attrs> <attr name=""declarations""> <list> <string value=""/tmp/morph-974414533/options.nix"" /> </list> <attr name=""default""> ``` ```xml <attrs> <attr name=""declarations""> <list> <string value=""/home/bb010g/Documents/sysadmin/contoso/modules/nix-substituters.nix"" /> </list> <attr name=""default""> ``` NixOS's documentation machinery has a configuration option to deal with this, `extraSources`, but it's not exposed, and the expressions aren't structured in a way to allow sneaky, underhanded configuration either. You can't get around this without patching Nixpkgs. (This PR has been tested so far on our repository via applying `pkgs.applyPatches { src = nixpkgs.outPath; patches = [ ./nixpkgs-nixos-expose-extrasources.patch ]; }` before importing Nixpkgs. (Whee.)) With this change in place, the repository-directory impurity demonstrated can be eliminated with `nixos.extraSources = [ ./. ];` from the repository root, and the morph impurity with an (approximate) patch to `/data/eval-machines.nix` of: ```patch --- a/data/eval-machines.nix +++ b/data/eval-machines.nix @@ -26,6 +26,8 @@ rec { [ ({ config, lib, options, ... }: { key = ""deploy-stuff""; imports = [ ./options.nix ]; +                # Make doc builds determinisitic, even with our tempdir module imports +                documentation.nixos.extraSources = [ ../. ]; # Provide a default hostname and deployment target equal # to the attribute name of the machine in the model. networking.hostName = lib.mkDefault machineName; ``` Sorry for the delay on PRing this; I know this should have been in way earlier for 20.03's sake. If possible, I'd like to get this backported to 20.03 for sanity in situtations like morph when ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [X] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). <!-- Reviewable:start --> --- This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/nixos/nixpkgs/81557) <!-- Reviewable:end --> ::I suggest the renaming `extraSources` -> `extraModuleSources` for clarity::",34dd64b0cc145533a935c798d5a3347d07d5d0aa::
https://api.github.com/repos/NixOS/nixpkgs,81452,riot-web-conf-attr-str::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change c9e5cca changed the type from str to attrset, which broke some people's config. GitHub: closes #81416 @mguentner please test This probably needs to be back-ported. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::I'm not a fan of options that have no proper type. I think it would be better to add a `configFile` option for this: it would still be a breaking change but it would only happen in the next relase, with a mention in the release notes.::We could only backport this PR and leave `attrset`-only for the future.::",7d2e1a9b1937b1d7c23a2f307cf3469f22f2b5c2::
https://api.github.com/repos/NixOS/nixpkgs,81337,crystal-openssl-backport::release-20.03,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::8.has: documentation::,"(cherry picked from commit e10900b0683d2bdc827a95d0bcf42f2bf8943ce9) <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backports https://github.com/NixOS/nixpkgs/pull/81272. See motivation there. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",01826800d6d619c1e8134f63cd4a62a6906e611c::
https://api.github.com/repos/NixOS/nixpkgs,81317,eamsden/nix23-fix-cross-compile::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Presently the stable version of nix (2.3.3), when cross-compiled from nixpkgs, will pull into its closure and attempt to invoke the build platform's version of bash. This works around some of the build system for nix to correct that, so that a cross-compiled nix binary can be used on the system it is compiled for. See #81153 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Can you indent that properly?::That could be part of `configureFlags` and outside `preConfigure`.::you can use `optionalString` here.::This expression and the one below were already present, I added only the parens.::See above::Sure, but some drive-by cleanup in a follow-up commit would be more than welcome :-)::To be precise, the `--subst-var-by` lines should be 2 lines more indented than the `substitute` above, and the `mv` on the same level as `substitute` itself.::Dammit my editor snuck tabs in::OK. I wasn't sure if that was the case. Other OSS projects have different views on such things.::Please make that a separate commit, so we can backport only the fixes to 20.03.::It seemed it did that again - can you take another look?::this still doesn't look properly indented.::same as above.::same as above.::I finally got neovim to not indent with tabs just this morning. Sorry. Ran `grep -Pn '\t' on the file in question to make sure no more slipped through::Done::",f1415f633cb5cca0000dc5d5b36b717a1b11ae0f::3b72c55fc5aff74cc7bdef1f15c04c29e5671ab1::
https://api.github.com/repos/NixOS/nixpkgs,81305,fastapi-0.49.0::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change - Pin Starlette to verion 0.12.9 due to tiangolo/fastapi#683 otherwise fails to build. - Add peewee to test environment as now required. - Remove pyproject.toml patching as no longer required. First commit is part of #81304 so that needs to be merged first These changes need to backported to release-20.03, #80379 This PR partially replaces #81055 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::not okay. this will cause issues if another package brings in starlette at latest. You should patch instead you want to patch the version. You should be able to be within a major version, and not be broken (on packages that adhere to semver) example: https://github.com/NixOS/nixpkgs/blob/24720dd250cb26025d6dd5dbaf089d48f2493cb5/pkgs/development/python-modules/celery/default.nix#L14::please do this version patching for starlette::Thanks for reviewing. It's clear now that what I did won't work in Python environments. Unfortunately, Fastapi is [completely broken](https://github.com/tiangolo/fastapi/issues/683#issuecomment-585931388) for starlette > 0.12.13. Thus, using the latest version (or anything > 0.12.13) of Starlette with Fastapi isn't a option. I have three choices, - revert the version of Starlette in Starlette's own default.nix to be something compatible (Fastapi is Starlette's only dependent) - leave this broken for now until fastapi works correctly with later versions of Starlette - remove fastapi from Nixpkgs until fixed properly I think I'll go with the first one unless there's an objection.::please use fetchFromGitHub helper ```suggestion src = fetchFromGitHub { owner = ""encode""; repo = pname; rev = version; ``` otherwise LGTM::Done now. Should be ready to merge.::Why is this needed?::There was some discussion about [this here](https://github.com/NixOS/nixpkgs/pull/48633#issuecomment-432732045) and other links that I can't find now. A standard Python distribution doesn't have the test suite as part of the distribution. Ideally, Python distributions would have some standard for self testing, but they don't. ::Ah, ok for the tests. Thank you.::reverting is fine, just unfortunate. I think this is reasonable.::",f56d2cd8978cb569ec7950de9bfec62056884891::cc2c47ee915bb8c18f522b9840c040c69c434a5d::
https://api.github.com/repos/NixOS/nixpkgs,81304,starlette-0.13.2::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update version and use fetchurl instead of fetchPypi as this is now the preferred method. This also makes the tests pass and, thus, the build, which was failing. These changes need to backported to release-20.03, #80379 This PR will partially replace #81055 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9a51c3e22f089204a4ee1b4e5550e559f7ced983::
https://api.github.com/repos/NixOS/nixpkgs,81272,crystal-openssl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::8.has: documentation::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://github.com/NixOS/nixpkgs/pull/80746 This will be backported in expectancy of https://github.com/NixOS/nixpkgs/pull/80746 being backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e10900b0683d2bdc827a95d0bcf42f2bf8943ce9::
https://api.github.com/repos/NixOS/nixpkgs,81216,backport-plasma5-fix::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::6.topic: qt/kde::8.has: module (update)::,"###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/81189 (cherry picked from commit d3e3cc12259e4f8f5145ae8a0dc19bae5d11a11b) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",45d1f19d12969d03eedce8ddf9165c84885add15::
https://api.github.com/repos/NixOS/nixpkgs,81211,aarch64/firefox-73::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::9.needs: port to stable::,"The removed patch doesn't apply anymore. See the mozilla phabricator link for the added patch. ###### Motivation for this change Make firefox build on aarch64. The upgrade seemingly wasn't looked at all for aarch64. * https://hydra.nixos.org/build/113412340 On current unstable a patch simply doesn't apply. Though, on 19.09, that same patch seemingly applies???? * https://hydra.nixos.org/build/113103918 The added patch fixes the compilation issue in 19.09, which also happens on unstable once the patch is removed. This will need a backport to 19.09 and 20.03. (Which I can handle.) I do not know whether the removed patch needs to be kept for 19.09 or 20.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @andir ::This should be either `hash = ""<sri-hash>""` or `sha256 = ""<sha256-hash-in-base-16-or-32>`"". Saying sha256 twice is redundant (and probably shouldn't be allowed...).::I was thinking: Does it harm if we always apply that patch? It would certainly mean we notice it earlier if it fails to apply.::It shouldn't [h]arm in most cases, but I haven't reviewed the opus patch to know exactly what it does. And you're right, I would think it's preferable to unconditionally patch, if the patch has issues on other platforms, it means it's not upstreamable as-is, and we probably shouldn't include patches that are not upstreamable.::I couldn't find an upstream issue for that opus patch. I'd rather not include it by default then. The other patch (https://github.com/NixOS/nixpkgs/pull/81211/files#diff-b39b9a678f9ecf5d0e1581832f7bf99dR104) was merged upstream and should probably just be included at all times.::I just build successfully without opus patch. upstream info: https://bugzilla.mozilla.org/show_bug.cgi?id=1530659::Nice! @samueldr can you remove the opus patch and then merge this?::",d4446c563d5d7f1709cb95ce3731b56ea4578447::
https://api.github.com/repos/NixOS/nixpkgs,81179,zabbix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Since we're still in beta a `20.03` backport might not hurt... :man_shrugging: ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",cc81ca7ee22171998d0f3b09162a956f3b0affeb::5d073b2fc7dd44e719e12a008e06cc8fca003566::9059f31e6f6c95dd1799ce9cacf07960c7124151::
https://api.github.com/repos/NixOS/nixpkgs,81118,gitdaemon-usercreation::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This was broken in 1d61efb7f177f7b70c467ab4940fde0a3481d4dc, but it doesn't make sense to create the git user iff it will not be used. A fix for this regression needs to be backported to 20.03. I added a test that passes with this PR, and would fail without it. It's my first test, let me know if I did something wrong. ::",6df119a6ecd5e8fa624b4b7d012843883be6391c::
https://api.github.com/repos/NixOS/nixpkgs,81082,release/20.03-brave_1.3.118_to_1.4.95::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"brave: 1.3.118 -> 1.4.95 (cherry picked from commit fa166b77d19ec78d4cd01b9696a47f1118ff74f4) Reason: Browser should be kept up-to-date for security reasons. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> This PR backports #81076 - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",bf8a421551e4e82cb985637a3659a82e9dc65ef0::
https://api.github.com/repos/NixOS/nixpkgs,81078,release/19.09::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This is browser, so I believed that it required to be updated in the case that there would have been any updates related to the security. ###### Things done This PR backports PR #73400 but requires changes from PR #79688 and PR #79974 <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",55c518c4ebdbf29e4e1b95236103f91bec587ffb::9e3996fb9a03162863f463544e0adb8b65d374b0::a9b1721b2ce39fc8765c202e6757e622eec15d2a::
https://api.github.com/repos/NixOS/nixpkgs,81053,backport-discord-19.09::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of #81050 #81044 essentially app is unusable (on NixOS) unless the latest version is used ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ``` [3 built, 0.0 MiB DL] https://github.com/NixOS/nixpkgs/pull/81053 3 package built: discord discord-canary discord-ptb ```::",7a168adad63690957d49bf535e1887c6ea809e91::fa35fbd98c47325c333cc664b45f3060722bac40::55c36c1e0fe128da0fb9ed9b1e78f158167e7b5c::
https://api.github.com/repos/NixOS/nixpkgs,81052,backport-discord-20.03::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of #81050 #81044 essentially app is unusable (on NixOS) unless the latest version is used ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ``` [7 built, 120 copied (376.6 MiB), 80.3 MiB DL] https://github.com/NixOS/nixpkgs/pull/81052 3 package built: discord discord-canary discord-ptb ```::",7a20cc8945748319c5d63f1c7e48921d8bb45cc7::7a79f04500fe95593c34a9fc2bcee01839dfd24a::ed25c96006bffcdd43d50a773a05ed4c489b2463::
https://api.github.com/repos/NixOS/nixpkgs,80993,20.03/opensmtpd::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"##### Motivation for this change This is a backport of #80978 cc @Ekleog @NixOS/nixos-release-managers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",79104fc7f7e12fb35334c47160e5c3f0fa3fe7a3::c87bd2929948c57318879bad16c04a51b737e712::
https://api.github.com/repos/NixOS/nixpkgs,80987,ipmitool::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::,"##### Motivation for this change This adds a patch from debian to switch ipmitool to openssl 1.1. Upstream seems to already carry a version of this but that is yet to be part of a release. If this is accepted we should backport to 20.03. cc #80746 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion postPatch = stdenv.lib.optionalString stdenv.isDarwin '' ```::ahh right, good catch! fixed.::Seems this can be dropped entirerly. There's zero occurences of `s6_addr16` in `src/plugins/ipmi_intf.c` as of now, so the `substituteInPlace` is essentially a no-op (which is why I'm always advocating for using proper patches and `substituteAll` on them instead ;-)::It at least prints a warning when no substitutions happen, though I'd prefer hard errors by default.::Nitpick: this doesn't seem like dynamically generated patch, so I expect `fetchurl` should suffice, but I see no problem with using `fetchpatch` anyway.  EDIT: this referred to the debian one &ndash; GitHub now shows the comment under the other one which **is** dynamically generated.::",ad19bb5ff849dfa9af2ad52afda361198391db43::43ec75d47083ae4e35ebad14e25dd6249c19f44f::82217553b0e5926bb8f178a31b5511dc0fe895f1::
https://api.github.com/repos/NixOS/nixpkgs,80961,pr/glibc_prlimit64::staging,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux-stdenv::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"The current version of glibc implements support for kernels down to 3.2.0 (and we make sure to enable such support with apporopriate --enable-kernel setting). The current RHEL6 operating system is based on a maintained kernel based on 2.6.32 with lots of backports. We provide basic support for this specific kernel by patching glibc to provide an exception for this specific version of kernel. This allows for nixpkgs software distribution to work on RHEL6 and it does so quite well with almost no problems. There are, however, a few syscalls that are missing in the 2.6.32 kernel, one of which is prlimit64. This commit provides a fallback that uses an older {get,set}rlimit syscalls in cases when prlimit64 is not available. This should streamline the experience for nixpkgs users wanting to run it on RHEL6, namely, this fixes one of the tests in findutils. See also discussion in guix: https://lists.gnu.org/archive/html/guix-devel/2018-03/msg00356.html <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Closes: #80352 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6740593bdd1738aa9771990f88655becc4dc343e::
https://api.github.com/repos/NixOS/nixpkgs,80832,seaborn-0.9.1::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change required for poretools ZHF: #80379 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::except I won't be maintaining a Python 2 version ;-)::Oops :) Should I remove you from maintainers in new PR or in backport?::yes please::Done: #80882 (and added to backport).::",7045c74cb2abb6285867a51438f5ef13851f7cf3::
https://api.github.com/repos/NixOS/nixpkgs,80826,release-20.03::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"Cherry picked from commit 011e2d3a2dee4318b5e1c994f617b40263ef5828/#80819 And a ping to @worldofpeace and @disassembler each, manually because I don't seem to be able to actually ping the group. ###### Motivation for this change Needs backporting for #80379 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6749c48f398316b3fd89a0dde4c35e4b0917d54c::
https://api.github.com/repos/NixOS/nixpkgs,80744,fix/turses::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,###### Motivation for this change ZHF #80379 Needs backport ###### Things done - [x] Built successfully on NixOS::,cf4130c9ec20282875d77c345ff9917ff8cb593a::
https://api.github.com/repos/NixOS/nixpkgs,80706,fix/swift::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change ZHF #80379, so needs backport Was broken since https://github.com/NixOS/nixpkgs/pull/66528 Fixes for glibc 2.30 in https://github.com/apple/swift/pull/27288 (well I think this is because of it, not sure, but I needed this to fix the build) and https://github.com/apple/swift-package-manager/pull/2408 Ping @mroi ###### Things done - [x] Tested this patch on the release-20.03 branch with a successful build of swift on NixOS::",7d8a33125f5e65c764bc500bccf3faac5549a61c::
https://api.github.com/repos/NixOS/nixpkgs,80687,bump-azure-cli-release::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change backporting as it may contain security fixes backport of #80678 (cherry picked from commit 4dd173560d472ff15703d6b5225f08f6dfeb771a) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ``` [1 built, 0.0 MiB DL] https://github.com/NixOS/nixpkgs/pull/80687 1 package built: azure-cli ```::",98caf6b229ebb2f05384b339e2e8e0fd2f4b73ea::
https://api.github.com/repos/NixOS/nixpkgs,80675,pr/19.09/weechat/2.7.1::release-19.09,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"Release notes: irc: fix crash when receiving a malformed message 352 (who) irc: fix crash when a new message 005 is received with longer nick prefixes irc: fix crash when receiving a malformed message 324 (channel mode) (CVE-2020-8955) (cherry picked from commit 2d77fc3053400059d70feaa97b1980dd0daa6886) backport of #80672 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4bbadcfe99d02fbe21de95bb8790a9d343b24b5c::10babe3868d3cedbdb83d50ba27d41ee98e51291::
https://api.github.com/repos/NixOS/nixpkgs,80673,pr/20.03/weechat/2.7.1::release-20.03,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"Release notes: irc: fix crash when receiving a malformed message 352 (who) irc: fix crash when a new message 005 is received with longer nick prefixes irc: fix crash when receiving a malformed message 324 (channel mode) (CVE-2020-8955) (cherry picked from commit 2d77fc3053400059d70feaa97b1980dd0daa6886) backport of #80672 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9571b07ed323e471d01114b79f7d0baf7476505d::
https://api.github.com/repos/NixOS/nixpkgs,80636,can-remove-pytest-timeout::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ZHF: #80379 pytest-timeout can cause tests to be flaky. It's not necessary to patch the code, as pytest ignores unrecognized marks with an ignorable warning. This can be backported in order to avoid possible flakiness in the future. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ec06d0b3979c3b64853b7a1e5d4bafb57671b2c3::
https://api.github.com/repos/NixOS/nixpkgs,80571,pr/mariadb_darwin_fix_19.09::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 0::6.topic: darwin::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Fix mariadb on darwin for 19.09 by backporting #70841 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @ryota-ka::",1ddda1ca8d69c3811b1bbc169f7c3df702f0ec55::
https://api.github.com/repos/NixOS/nixpkgs,80560,lbzip2-fix-build-update::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"The build fails with newer glibc due to vendored gnulib. ###### Motivation for this change * ZHF: #80379 (will backport once this one is merged) * updated to newer version because the original tarball does not exist anymore ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc @abbradar ::",f3ad0d0f4985b388646909943c543acd4fa8c5b0::
https://api.github.com/repos/NixOS/nixpkgs,80526,yorickvp/fix-bk-agent-hooks::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::9.needs: port to stable::,"###### Motivation for this change Got broken in #38373, fixes https://github.com/NixOS/nixpkgs/pull/78373#issuecomment-587948762 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### cc: @flokli @grahamc should backport to 20.03. @GrahamcOfBorg test buildkite-agents ::",1b351f81f4e0e350b26154509023035f852d0c00::
https://api.github.com/repos/NixOS/nixpkgs,80480,systemd-243.7::staging,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::11.by: package-maintainer::9.needs: port to stable::,"###### Motivation for this change This includes backports from upstreams https://github.com/systemd/systemd-stable, possibly security-related. It doesn't bump to another major version. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",53488b27beeb8398d894ab01bf9e039ff7992b56::
https://api.github.com/repos/NixOS/nixpkgs,80461,ftfy-5.7::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Changelog: https://github.com/LuminosoInsight/python-ftfy/blob/master/CHANGELOG.md#version-57-february-18-2020 The most important change in this version is the update of Unicode character categories data to Unicode 12.1. This fixes the Python 3.8 build. This was the only failing dependency for spaCy on Python 3.8. Tested by loading a spaCy model and annotating a text. Should probably also be backported for ZHF #80379 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",77aa1a7f5b1a8e4bda7c009e2d7f2687936efb00::
https://api.github.com/repos/NixOS/nixpkgs,80455,backport-fastparquet::release-20.03,0,merged,,"###### Motivation for this change backport of #80123 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d9b64766646c4e90bb8f6f0feab9bb33b3ad8fb3::
https://api.github.com/repos/NixOS/nixpkgs,80447,bump-matrix-synapse::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::6.topic: python::8.has: changelog::8.has: documentation::8.has: module (update)::8.has: port to stable::,"###### Motivation for this change This updates `matrix-synapse` to [1.11.1](https://github.com/matrix-org/synapse/releases/tag/v1.11.1). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::I'm not a fan of these options. I think `ensure` is in general a ""bad word"" for a declarative tool like NixOS. I think Nix isn't a good tool for this type of mechanism. @aanderse and @flokli and I have talked in the past about supporting this in a way similar to the ""users"" support (mutableUsers / creation / deletion as needed.) In particular, I'm uncomfortable with these `lc_collate` and `lc_ctype` options because they are not declarative, and don't _ensure_ these databases _are_ as specified. In other words, this is creating a type of untracked state where the configuration.nix is lying about the system, something I think we should try hard to avoid. Concretely, these two systems will end up in different states, something NixOS typically tries very hard to not do: ``` + ensureDatabases.foo.lc_collate = ""foo""; $ nixos-rebuild switch - ensureDatabases.foo.lc_collate = ""foo""; + ensureDatabases.foo.lc_collate = ""bar""; $ nixos-rebuild switch ``` ``` + ensureDatabases.foo.lc_collate = ""bar""; $ nixos-rebuild switch ``` I would prefer to not see this part of this PR merge.::First of all, thanks a lot for raising your concerns about those patches! > I think ensure is in general a ""bad word"" for a declarative tool like NixOS Those options were introduced earlier (we have `ensure{Users,Databases}` for quite a while now). Also, I'd like to mention that previously options such as [`initialScript`](https://nixos.org/nixos/options.html#services.postgresql.initialscript) were used that were even more impure. Or in other words: do you have a suggestion how to manage that kind of state in Nix? (Admittedly I'm fairly unsafe when it comes to state in Nix, I mostly use workarounds like those `ensure*`-options or `initialScript` as I'm currently not aware of a better solution). > @aanderse and @flokli and I have talked in the past about supporting this in a way similar to the ""users"" support (mutableUsers / creation / deletion as needed.) In case this was discussed in IRC - do you have a link to that discussion? :) > In particular, I'm uncomfortable with these lc_collate and lc_ctype options because they are not declarative, and don't ensure these databases are as specified. In other words, this is creating a type of untracked state where the configuration.nix is lying about the system, something I think we should try hard to avoid. As already mentioned, I'm rather uncomfortable when it comes to actual state-management with Nix. May I ask if you have a different suggestion (don't get me wrong - I don't expect you to know ""the perfect"" solution just because you raised concerns about those patches. I'm just curious as I currently don't know any better fix than the one I filed here).::I know `ensurexxx` has been here longer than this PR, and I don't like it any better :P. ensureUsers in particular is Very scary for me. If initialScript could work, I think that would be okay-ish. initialScript is less bad, since it has in its name the fact that it is almost guaranteed to be lies and doesn't attempt to pretend that it is declarative.::So your main problem are those `ensure*` options, especially if there are additional options to configure a database or a user as those can be wrongly interpreted as declarative? And that the same issue exists with the GRANT-options for `ensureUsers`? > If initialScript could work, I think that would be okay-ish I'm not sure if I can agree here. I still remember the first time I used the postgresql-module a few years ago and it took me a while until I figured out that `initialScript` is only executed if `${cfg.dataDir}/.first_startup` doesn't exist. What I want to say is that this can be misinterpreted as well, but in the end the behavior of both `initialScript` and `ensure*` is currently well-documented and doesn't affect existing setups (at least in the case of matrix-synapse). If you insist on not enhancing and using `ensure*` here, we can still revert #75294 and fix the issue in the systemd-unit. Otherwise I personally think that this is a general issue with the way Nix ""handles"" state and further measures should be discussed in a separate issue.::`ensureDatabases.*.initializationOptions.*` would be both more convenient and explicit enough in my opinion.::The PR is more about `synapse` than `ensureDatabases`. However the later blocks the PR. How can we resolve this deadlock?::@mguentner I basically agree with you (that's why I suggested to merge this and discuss the issues about `ensure*` in a separate issue), however I certainly understand @grahamc's concerns about worsening the situtation in `nixos/postgresql` and I'd like to have this resolved before having those patches in upstream. We'll probably talk about the entire issue synchronously on IRC and try to find a suitable comproise. Apart from this I'd probably add `matrix-synapse` at [`1.11`](https://github.com/matrix-org/synapse/releases/tag/v1.11.0) before considering this mergable again.::Very important point about `lc_ctype` and `lc_collate` violating the current behaviour of `ensure*`, and being more similar to `initialScript`, though with database creation level instead of database software installation level granularity. As synapse (may?) will eventually disallow databases with incorrect ctype and collation, don't we need some form of automatic ctype & collation migration anyway? That would allow to have a `lc_ctype` and `lc_collate` option that doesn't lie about the system state and behaves with the same guarantees like all other `ensure*` options.::I reverted the patch that used ensure* in the matrix-synapse module, so I consider this resolved for now. > don't we need some form of automatic ctype & collation migration anyway IMHO no: as we've seen e.g. throughout this discussion Nix doesn't do a very good job at state management. IMHO the safest approach here would be to ask administrators to manually do the migration. Please note that I just realized that this only affects synapse setups from the last few months as we configured databases properly before switching to ensure* here (b2d67c08d03679ba1b9a928ac5610ad940846e7f).::Note to self: as soon as we have enough approvals here I should update the release notes.::This will cause issues with setups that were created on nixos-unstable while ensureDatabases were used as in those cases a database was created with touching `${cfg.dataDir}/db-created`. Any ideas atm how we can work around this?::Isn't a better approach to write idempotent SQL statements and pass to `psql`?::@kampka Suggested to use an idempotent SQL statement. This could determine whether the database exists and create it along with the user and role. After the execution, `db-created` will be created, either because the script determined that nothing is to do and exited or because the script created the resources. sth like ``` SELECT COUNT(*) FROM pg_database WHERE datname=""matrix-synapse""; ```::Wouldn't we reintroduce the issues @grahamc expressed with `ensure*`?::~~@Ma27 I don't understand what you mean by ""reintroduce"" - the issues @grahamc brought up have not been resolved by any approach mentioned so far.~~ After reading again I notice I misunderstood some points. The two approaches are similar - conditionally execute SQL in effect, so both seem fine to me I guess... not sure what @grahamc thinks :thinking:::This PR is now open since 19 days and stalled because of @grahamc 's opinion on `ensureDatabases`. > I would prefer to not see this part of this PR merge. -- @grahamc This is clearly resolved. We cannot guarantee the state of postgresql. State may change outside of Nix's control, whether we like it or not. We will and should not solve this issue here. Can we please get this into master and backport this to 19.09 already? @Ma27 I will ping you concerning the SQL stanza. ::Release-notes were updated during the latest push.::We'll drop the database setup entirely for now. An example is shown in the vm-test, users with existing setups won't have any problems since they already have a fully configured database. For further information, please read the release-notes I added in this PR.::As mentioned in https://github.com/NixOS/nixpkgs/pull/80447#discussion_r392385305, the db setup will be dropped, so this doesn't need to be discussed anymore.::This SQL will only execute if `postgresql` has never ran before. It seems possible this documentation wouldn't work for a at least a number of users.::This is actually the reason why I linkified the `initialScript` option here :) ::```suggestion Due to <link xlink:href=""https://github.com/matrix-org/synapse/releases/tag/v1.10.0rc1"">stricter requirements</link> ```::Indentation gone wrong here?::I did this on purpose: the first line will be prefixed with a `- `, so with my indention the error message will actually look like this: ``` error: Failed assertions: - Cannot deploy matrix-synapse with a configuration for a local postgresql database and a missing postgresql service. Since 20.03 it's mandatory to manually configure the database (please read the thread in https://github.com/NixOS/nixpkgs/pull/80447 for further reference). If you - try to deploy a fresh synapse, you need to configure the database yourself. An example for this can be found in <nixpkgs/nixos/tests/matrix-synapse.nix> - update your existing matrix-synapse instance, you simply need to add `services.postgresql.enable = true` to your configuration. For further information about this update, please read the release-notes of 20.03 carefully. (use '--show-trace' to show detailed location information) ```::The only remark: If a config has `postgresql.enable = true` for another service, this message will not be shown. Only a check of the system logs will point to the missing database. We cannot check for everything :woman_shrugging: ::Well, one of the reasons for this assertion is to ensure that people with an existing matrix-synapse and a local database don't deploy a config without a postgresql service (that isn't enabled anymore by this module).::",500375e338098e26f23f962f41ad10f4b317a50f::8be61f7a36f403c15e1a242e129be7375aafaa85::849e16888f439d98ba99c6a67123033edaa56663::
https://api.github.com/repos/NixOS/nixpkgs,80397,hakyll-contrib-hyphenation-jailbreak::haskell-updates,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"ZHF: #80379 ###### Motivation for this change Latest [upstream commit](https://bitbucket.org/rvlm/hakyll-contrib-hyphenation/src/master/) is from 2015, so I guess it's the easiest to jailbreak it (as it builds that way). This needs to be backported to `release-20.03`. Should I create a separate PR for that? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",a7ae4c6fd6bbe8be97b93f99848da72c51fcfcf2::
https://api.github.com/repos/NixOS/nixpkgs,80391,update/mint::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change This also fixes the build with the latest crystal version Don't backport this, 20.03 can be fixed without a version update ###### Things done - [x] Built it successfully - [x] Created a project and tested it::",35417911b14b5251a7b3ea1bacb2b8f95079bcf0::
https://api.github.com/repos/NixOS/nixpkgs,80390,crystal-0.33.0::master,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ZHF: #80379 Can't be backported to 20.03 because of feature freeze (0.32.1 build for 20.03 handled in #80389) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). <!-- Reviewable:start --> --- This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/nixos/nixpkgs/80390) <!-- Reviewable:end --> ::Why not? LGTM. The alternative is to set a writable `HOME`.::```suggestion sha256 = ""1zg0qixcws81s083wrh54hp83ng2pa8iyyafaha55mzrh8293jbi""; ```::",3b63e8178dd0bc0bb088ed6f6c0b513cd6c66362::a0dae99f90d8b7f1606391fce2dfeaf46e42fd26::e11bfc8a456db044fcf660ab4d07a0bf1d791a3a::
https://api.github.com/repos/NixOS/nixpkgs,80327,19.09/firefox::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: rust::8.has: clean-up::8.has: documentation::8.has: package (new)::,"###### Motivation for this change This is the long overdue backport of #79786 to 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d06ec64dc2324a4440e451c8a71097f569128408::884967c7a88e000ff2b11252eaa7434b85bf5cef::7420ce3799f9b11beac1a0eb969d87c9b6f15213::dfa2bb079ab692f5c0f8b9d9d6755e3f4519a764::f814b797dc93e0c3871eed01efe5bd2a69b90450::4e62685fe923a82f1fdb2e8b44cb623ecaee9bb7::1e8947c11dcda4e0ce560b3090609f7dbcf658ab::
https://api.github.com/repos/NixOS/nixpkgs,80210,master_tor-browser-bundle-bin::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://blog.torproject.org/new-release-tor-browser-905 This should be backported to 19.09 and 20.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS (32 and 64bit) - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",ec3daae1fc259ad2f7530327815453d4b3a93090::
https://api.github.com/repos/NixOS/nixpkgs,80128,backport-79659::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backports https://github.com/NixOS/nixpkgs/pull/79659 cc @tfc ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",fbfa6ac0778f90029c30b21d3cff7f793c8f20ae::aea80290efa5a59829d23dc5c4535a7bc2951fd0::d074d34343faf3a33dfb81e13ea1e97363da933a::
https://api.github.com/repos/NixOS/nixpkgs,79990,backport-numba::release-20.03,0,merged,,"###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/79988 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b50a70a114f863de7a47b9933efde8b9a85a77f4::
https://api.github.com/repos/NixOS/nixpkgs,79903,trezord-backport::release-20.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"###### Motivation for this change 2.0.28 contains an important fix yet is a small release, I would like to propose it for a backport. (cherry picked from commit ab1a14d581b5afd6126c6e474dedb94308ab382c, PR #79857) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",9690c7e2c6a66c3ffdcc0cb93c0cd38f5b528f1c::
https://api.github.com/repos/NixOS/nixpkgs,79862,fix-run-keys::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::9.needs: port to stable::,"###### Motivation for this change 3c74e48d9c8dbcede89a72ea18cd27def4b498a9 was a bit too much, it updated permissions of all files recursively, causing files to be readable by the group. This isn't a problem immediately after bootup, but on a new activation, as tmpfiles.d get restarted then, updating the permission bits of now-existing files. This updates the `Z` to be a `z` (the non-recursive variant), and adds a `d` to ensure a directory is created (which should be covered by the initrd shell script anyway) cc @NixOS/backports ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",4c8bdd1c4f6aafd96e002e4cae14c0c5798ddfd7::
https://api.github.com/repos/NixOS/nixpkgs,79833,20.03/encrypted-swap-entropy-fix::release-20.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change #71302 hasn't been merged in time before the split off, but entropy starvation during boot is pretty annoying, so this is a backport of the commits. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",93bd12da9167b2cf53e08f319167f7a3b4995095::4579f11c20db996732caa01b2de5bd2b02ae4ac6::
https://api.github.com/repos/NixOS/nixpkgs,79778,delly::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Bumped version and backported patch to fix building with htslib 1.10.2. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Previous expression was broken by 940d12bf5daba9b0af846646b58b84a81107089c ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). @scalavision ::Could you please use `fetchpatch` to fetch from https://github.com/dellytools/delly/commit/0e5c710b0c5ea790bb39699d4cbd49cf4fb86f14.diff::The patch has been modified slightly to remove the subproject commit hash update on lines 50-56. How should this be handled?::`fetchpatch` has an option to exclude certain files https://github.com/NixOS/nixpkgs/blob/0566b5ce19fabe3c70ab1f56415dd8a019fa0aa8/pkgs/build-support/fetchpatch/default.nix#L12 Don't forget to update the hash every time you change the parameters or fixed-output derivation won't be rebuilt.::Neat, thanks!::",a8fe9e7affb27e803b5cfaa134019b028b25b8f0::
https://api.github.com/repos/NixOS/nixpkgs,79772,fix-aspell-CVEs-backport::release-19.09,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change See http://aspell.net/aspell-0.60.8.txt for release information. (#71242) The fix for CVE-2019-20433 may break compatibility for some applications, hence a version bump instead of adding a patch. Also: backport of 648678f6e14ab473e4d52cd98d7c97afcc158dc2 Fixes https://github.com/NixOS/nixpkgs/issues/79719 Fixes https://github.com/NixOS/nixpkgs/issues/73616 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",24ad80200f6edc99a64c0c242165e530496d07d4::
https://api.github.com/repos/NixOS/nixpkgs,79767,bump-pytest-black::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: python::,"###### Motivation for this change routine update ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). failure broken on master ``` [45 built (1 failed), 543 copied (1985.0 MiB), 479.2 MiB DL] error: build of '/nix/store/n290g530b5g3xdpin7nd17i9mnmj1khr-env.drv' failed https://github.com/NixOS/nixpkgs/pull/79767 1 package failed to build: topydo 37 package built: aws-sam-cli buku ceph ceph-client cookiecutter errbot fava flexget libceph mailman-web mnemosyne python37Packages.arrow python37Packages.backports_functools_lru_cache python37Packages.cheroot python37Packages.cherrypy python37Packages.django-q python37Packages.hyperkitty python37Packages.ics python37Packages.irc python37Packages.jaraco_collections python37Packages.jaraco_functools python37Packages.jaraco_logging python37Packages.jaraco_text python37Packages.jinja2_time python37Packages.mesa python37Packages.portend python37Packages.pyalgotrade python37Packages.pytest-black python37Packages.rainbowstream python37Packages.stravalib python37Packages.tempora python37Packages.ws4py python37Packages.zerobin rapid-photo-downloader samba4Full tribler watson ```::",d3eb54f13de160aa7d5d0e6dff8472cad81569de::
https://api.github.com/repos/NixOS/nixpkgs,79639,ris-libexif-CVE-2019-9278::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::,"##### Motivation for this change https://nvd.nist.gov/vuln/detail/CVE-2019-9278 No upstream release with this yet. Haven't done a full rebuild - too big for me. Will need a backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",dd811b20c4c5cf489880e15a0f4f9ed3f662a6f5::
https://api.github.com/repos/NixOS/nixpkgs,79265,sudo-update-backport-19.09::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"(cherry picked from commit f58c90fa8d2a65211f2cfe15304438336776db82) <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Backport of #79262 (I don't backport often, tell me if I did something wrong) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3cac4ba38247f2fc1fee6ef5fb214e6e5e572234::
https://api.github.com/repos/NixOS/nixpkgs,79257,release-19.09_gdal-3.0.3::release-19.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"Update GDAL/OGR to 3.0.3 (cherry picked from commit e8aa909fa7536862d7636f4035a777e0f3ef8f33) `001.3_0_1.darwin.patch` isn't needed anymore, because the change it made is part of [the QGIS 3.0.3 code](https://github.com/OSGeo/gdal/releases/tag/3.0.3): OSGeo/gdal@db666328f5131aa435d147636cec72d5b6dc981f `CVE-2019-17545.patch` isn't needed anymore, because the change it made (OSGeo/gdal@148115fcc40f1651a5d15fa34c9a8c528e7147bb) is part of [the QGIS 3.0.3 code](https://github.com/OSGeo/gdal/releases/tag/3.0.3). ###### Motivation for this change (Backport of #78774) GDAL/OGR 3.0.3 contains bugfixes to be shipped with QGIS 3.10.2 (#78755) See [mailing list post about lib versions in QGIS](https://lists.osgeo.org/pipermail/qgis-developer/2020-January/060056.html) and [blog post recommending to upgrade QGIS](https://blog.qgis.org/2020/01/24/public-service-announcement-update-to-the-latest-point-release-now/). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `LC_ALL=C.utf-8 nix run nixpkgs.nixpkgs-review -c nixpkgs-review rev -b release-19.09 931c6103f1e6ae874ab52f203389479cffef64e9` (output see below - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Output of `nixpkgs-review rev` <details><summary>(click to expand)</summary> ``` $ git -c fetch.prune=false fetch --force https://github.com/NixOS/nixpkgs release-19.09:refs/nixpkgs-review/0 From https://github.com/NixOS/nixpkgs + 2ec5c4adf9e...4e3aa3de412 release-19.09 -> refs/nixpkgs-review/0  (forced update) $ git worktree add /home/das-g/.cache/nixpkgs-review/rev-931c6103f1e6ae874ab52f203389479cffef64e9-1/nixpkgs 4e3aa3de412249ac422272d7ee9193934e6a958f Preparing worktree (detached HEAD 4e3aa3de412) HEAD is now at 4e3aa3de412 Merge pull request #79225 from primeos/signal-desktop-backport $ nix-env -f /home/das-g/.cache/nixpkgs-review/rev-931c6103f1e6ae874ab52f203389479cffef64e9-1/nixpkgs -qaP --xml --out-path --show-trace $ git merge --no-commit 931c6103f1e6ae874ab52f203389479cffef64e9 Updating 4e3aa3de412..931c6103f1e Fast-forward pkgs/development/libraries/gdal/001.3_0_1.darwin.patch | 29 ----------------------------- pkgs/development/libraries/gdal/default.nix            | 14 ++------------ 2 files changed, 2 insertions(+), 41 deletions(-) delete mode 100644 pkgs/development/libraries/gdal/001.3_0_1.darwin.patch $ nix-env -f /home/das-g/.cache/nixpkgs-review/rev-931c6103f1e6ae874ab52f203389479cffef64e9-1/nixpkgs -qaP --xml --out-path --show-trace --meta $ nix build --no-link --keep-going --option build-use-sandbox relaxed -f /home/das-g/.cache/nixpkgs-review/rev-931c6103f1e6ae874ab52f203389479cffef64e9-1/build.nix [28 built, 537 copied (3877.8 MiB), 741.2 MiB DL] 21 package built: gdal grass libLAS mapnik mysqlWorkbench openorienteering-mapper postgis postgresql11Packages.postgis python27Packages.cartopy python27Packages.python-mapnik python27Packages.tilestache python27Packages.worldengine python37Packages.cartopy python37Packages.gdal python37Packages.python-mapnik python37Packages.worldengine qgis qgis-unwrapped qlandkartegt qmapshack saga $ nix-shell /home/das-g/.cache/nixpkgs-review/rev-931c6103f1e6ae874ab52f203389479cffef64e9-1/shell.nix these paths will be fetched (0.05 MiB download, 0.28 MiB unpacked): /nix/store/5h35s50503spks8gkxdv3kk4szz8vx9g-bash-interactive-4.4-p23-dev copying path '/nix/store/5h35s50503spks8gkxdv3kk4szz8vx9g-bash-interactive-4.4-p23-dev' from 'https://cache.nixos.org'... [nix-shell:~/.cache/nixpkgs-review/rev-931c6103f1e6ae874ab52f203389479cffef64e9-1]$ ```::",931c6103f1e6ae874ab52f203389479cffef64e9::
https://api.github.com/repos/NixOS/nixpkgs,78741,pkg/opensmtpd-6.6.2::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: package (update)::,"###### Motivation for this change Fixes critical vulnerability: https://www.mail-archive.com/misc@opensmtpd.org/msg04850.html @flokli Since you bumped opensmtpd from 6.4 to 6.6, can be also backport that bump to 19.09? Here are the changes if we want to pick the changes (not tested if they apply cleanly): https://github.com/OpenSMTPD/OpenSMTPD/compare/6.6.1p1...6.6.2p1 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7b9bd595cdb661a7302fbefa6703cd76d0cb61e9::
https://api.github.com/repos/NixOS/nixpkgs,78501,feature/fetchcargo-tar-gz::staging,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 1001-2500::10.rebuild-linux: 501+::6.topic: rust::8.has: documentation::,"This has several advantages: 1. It takes up significantly less space on disk in-between builds in the nix store. 2. It plays nicely with hashed mirrors like tarballs.nixos.org, which only substitute --flat hashes on single files (not recursive directory hashes). 3. It's consistent with how simple `fetchurl` src derivations work. 4. It provides a stronger abstraction between input src-package and output package, e.g., it's harder to accidentally depend on the src derivation at runtime by referencing something like `${src}/etc/index.html`. Likewise, in the store it's harder to get confused with something that is just there as a build-time dependency vs. a runtime dependency, since the build-time src dependencies are tarred up. Note that since the binary cache vendor packages are already compressed with xz, it's not more efficient on that end or in terms of network traffic. Disadvantages are: 1. It takes slightly longer to untar at the start of a build (~2 seconds). As currently implemented, this attaches the compacted vendor.tar.gz feature as a rider on `verifyCargoDeps`, since both of them are relatively newly implemented behavior that change the `cargoSha256`. If this PR is accepted, I will push forward the remaining rust packages with a series of treewide PRs to update the `cargoSha256`s. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::I have updated the hash on every package that has `verifyCargoDeps = true;` in this PR, and verified that other rust packages with this set to false are not impacted, e.g., changing 1 character on the hash for `ripgrep` and re-building it produces an error that shows the old hash. I have a script to do the rest of them and set it to true everywhere, but figured I'd open the PR first for feedback about whether others agree this is a good idea in general first.  If so, once it's merged I can send the treewide follow-up PR that changes all the hashes and sets the attribute to true, then once that's merged I'll send another that removes the boolean.  ::I've run this through a bunch of times and verified that it is indeed reproducible.  ::While we're making some light changes in the `default.nix`, there is no change in `fetchcargo.nix` -- just a switch on which implementation to use.::I think the actual implementation is relatively straightforward and the advantages are clear, but I could foresee this causing git merge conflict hell for maintainers.  As implemented here and discussed I think this provides the easiest/clearest way for maintainers to resolve cherry-pick conflicts on stable backports, but if anyone has any better guidance LMK.  ::I'd remove `v` flag.::Removed. BTW, here's a concrete example of the difference that this makes to the `attr.cargoDeps` size: ``` 156M /nix/store/vdaa161ixsyjmvqpyf101nvkrf9w0ddm-ripgrep-11.0.2-vendor 16M  /nix/store/cwafl8f9gradpyhs4mjygnkl8mijq558-ripgrep-11.0.2-vendor.tar.gz ``` `156M` -> `16M` is a pretty big difference when you add up across all the Rust packages! We could get down all the way to `11M` if we're willing to spend ~5x as much time compressing [1]. [1] Evidence for this claim: ``` $ out=/nix/store/vdaa161ixsyjmvqpyf101nvkrf9w0ddm-ripgrep-11.0.2-vendor $ hyperfine --prepare 'rm ripgrep*' ""tar -cjf ripgrep.bz2 $out"" ""tar -czf ripgrep.tar.gz $out"" Benchmark #1: tar -cjf ripgrep.bz2 /nix/store/vdaa161ixsyjmvqpyf101nvkrf9w0ddm-ripgrep-11.0.2-vendor Time (mean ± σ):     14.849 s ±  0.476 s    [User: 14.739 s, System: 0.196 s] Range (min … max):   13.668 s … 15.423 s    10 runs Benchmark #2: tar -czf ripgrep.tar.gz /nix/store/vdaa161ixsyjmvqpyf101nvkrf9w0ddm-ripgrep-11.0.2-vendor Time (mean ± σ):      2.610 s ±  0.037 s    [User: 2.644 s, System: 0.199 s] Range (min … max):    2.570 s …  2.694 s    10 runs Summary 'tar -czf ripgrep.tar.gz /nix/store/vdaa161ixsyjmvqpyf101nvkrf9w0ddm-ripgrep-11.0.2-vendor' ran 5.69 ± 0.20 times faster than 'tar -cjf ripgrep.bz2 /nix/store/vdaa161ixsyjmvqpyf101nvkrf9w0ddm-ripgrep-11.0.2-vendor' ```::I don't think it's worth spending too much CPU on this. The NAR files are already compressed (with xz) and the end-user installing ripgrep won't be downloading this.::Sounds good, I'll leave it as is then. This does cause a rebuild of all the Rust applications, due to the attributes shuffling around, but no `cargoSha256`s or versions are materially changed, so I've currently got it going against `master`, but I can rebase and retarget for `staging` if we prefer.  ::Yeah I think this is due for staging due to the amount of rebuild. It might also make sense to do the whole migration as a single commit to reduce the amount of rebuild.::```suggestion '' + stdenv.lib.optionalString (cargoDeps.passthru ? checker) cargoDeps.passthru.checker ``` This is just an idea I want to mention, it doesn't need to be acted upon. If that code was moved to the fetcher, it would allow to pass `cargoDeps` to the buildRustPackage and make this whole thing more composable. Right now the arguments to buildRustPackage contain both arguments for it and the fetcher which makes it quite wide. By separating the cargoDeps it would allow for example to change the compression of the deps in a local development scenario. It's just an idea. It also has downsides since some of the arguments like the `src` are currently shared.::I plan to move relatively quickly on this once it lands on master, but ideally would like to proceed in the incremental steps outlined in the doc to attempt to reduce merge conflicts. Already I had to carry 1 commit over from master to resolve a merge conflict for the git-workspace tool :) If I change everything on staging, then for the next ~week or so contributors who send PRs to master updating Rust packages will be sending the ""wrong"" hashes, so I'd like to get the infra in-place first.::Hmm, I'll ponder it over -- but in the meantime, while looking at this area of the code and while prepping some work for the next step in the mass migration where we set `legacyCargoFetcher = false;` by default, I noticed that this block of code gets entered into even when `cargoSha256 == ""unset"";`, e.g. building `cargo` itself.  I've updated accordingly to check that we actually have a `cargoSha256` before validating it now.::Also added this, which ensures that the default value of `legacyCargoFetcher` does not impact the hash sent to `stdenv.mkDerivation`.  This lets us do the next step (default it to true, opting out all packages via a treewide sed) without causing any hash changes or package rebuilds, including in packages like `cargo` that do use the Rust build platform infra but don't use any fetchers (it inherits its vendor dir from `rustc`).  ::A script that accomplishes this is attached at the bottom.  I have run it on this implementation and verified that it does not cause any rebuilds or change any hashes.  Since it touches 200+ files and causes no rebuilds, my current plan is to let the implementation filter its way through staging -> staging-next -> master, then send the treewide PR to master to reduce merge conflict burden on the maintainers, as mentioned above. At that point, all of the Rust applications will be explicitly opting into the legacy Cargo fetcher, with a comment to maintainers to delete the attr line on the next update. ```bash #!/usr/bin/env zsh set -euo pipefail cd ~/src/nixpkgs || exit 1 sed -i 's|^, legacyCargoFetcher.*|, legacyCargoFetcher ? false|' pkgs/build-support/rust/default.nix for f in $(rg -l 'cargoSha256 = ""' **/*.nix); do if rg -q 'legacyCargoFetcher = false;' $f; then continue fi sed -i '/cargoSha256 = ""/i   # Please delete this line on next update\n  legacyCargoFetcher = true;\n' $f done ```::",2115a2037cb8337ccb09798c175733f1fc747ee3::
https://api.github.com/repos/NixOS/nixpkgs,78479,pr/CVE-2019-18218_url_fix::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This unbreaks the build of `file` for users who don't rely on cache.nixos.org. ###### Things done ``` # cat test.nix with import <nixpkgs> {}; { a = (fetchpatch { name = ""CVE-2019-18218.patch""; urls = [ ""https://release.debian.org/proposed-updates/stretch_diffs/file_5.30-1+deb9u3.debdiff"" ]; sha256 = ""1i22y91yndc3n2p2ngczp1lwil8l05sp8ciicil74xrc5f91y6mj""; }); b = (fetchpatch { name = ""CVE-2019-18218.patch""; urls = [ ""https://git.in-ulm.de/cbiedl/file/raw/054940e842528dca434a92820f9abb89adce0574/debian/patches/cherry-pick.FILE5_37-67-g46a8443f.limit-the-number-of-elements-in-a-vector-found-by-oss-fuzz.patch"" ]; sha256 = ""1i22y91yndc3n2p2ngczp1lwil8l05sp8ciicil74xrc5f91y6mj""; }); c = (fetchpatch { name = ""CVE-2019-18218.patch""; urls = [ ""https://sources.debian.org/data/main/f/file/1:5.35-4+deb10u1/debian/patches/cherry-pick.FILE5_37-67-g46a8443f.limit-the-number-of-elements-in-a-vector-found-by-oss-fuzz.patch"" ]; sha256 = ""1i22y91yndc3n2p2ngczp1lwil8l05sp8ciicil74xrc5f91y6mj""; }); } # nix-build test.nix -A a --check checking outputs of '/nix/store/f4y4akrw8dggkg092ryhddyhq2a0vd3k-CVE-2019-18218.patch.drv'... trying https://release.debian.org/proposed-updates/stretch_diffs/file_5.30-1+deb9u3.debdiff % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current Dload  Upload   Total   Spent    Left  Speed 100  3598  100  3598    0     0  21289      0 --:--:-- --:--:-- --:--:-- 21289 warning: rewriting hashes in '/nix/store/j681fm0gcmpvnfc5syjv23jsqhj3lfcn-CVE-2019-18218.patch'; cross fingers /nix/store/j681fm0gcmpvnfc5syjv23jsqhj3lfcn-CVE-2019-18218.patch # nix-build test.nix -A b --check checking outputs of '/nix/store/6j23k0qzziz3pwrh1fhlba9vh1vs4lk5-CVE-2019-18218.patch.drv'... trying https://git.in-ulm.de/cbiedl/file/raw/054940e842528dca434a92820f9abb89adce0574/debian/patches/cherry-pick.FILE5_37-67-g46a8443f.limit-the-number-of-elements-in-a-vector-found-by-oss-fuzz.patch % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current Dload  Upload   Total   Spent    Left  Speed 100  1056  100  1056    0     0   1889      0 --:--:-- --:--:-- --:--:--  1889 warning: rewriting hashes in '/nix/store/j681fm0gcmpvnfc5syjv23jsqhj3lfcn-CVE-2019-18218.patch'; cross fingers /nix/store/j681fm0gcmpvnfc5syjv23jsqhj3lfcn-CVE-2019-18218.patch # nix-build test.nix -A c --check checking outputs of '/nix/store/aawwb6x40bpfhff529s9lnf2x621k79b-CVE-2019-18218.patch.drv'... trying https://sources.debian.org/data/main/f/file/1:5.35-4+deb10u1/debian/patches/cherry-pick.FILE5_37-67-g46a8443f.limit-the-number-of-elements-in-a-vector-found-by-oss-fuzz.patch % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current Dload  Upload   Total   Spent    Left  Speed 100  1056  100  1056    0     0   2687      0 --:--:-- --:--:-- --:--:--  2693 warning: rewriting hashes in '/nix/store/j681fm0gcmpvnfc5syjv23jsqhj3lfcn-CVE-2019-18218.patch'; cross fingers /nix/store/j681fm0gcmpvnfc5syjv23jsqhj3lfcn-CVE-2019-18218.patch ``` ::@risicle I suspect this URL is wrong here. It does not return the same [contents](https://release.debian.org/proposed-updates/stretch_diffs/file_5.30-1+deb9u3.debdiff) as the other 2 URLs; instead of being a diff on the `file` source, it is a diff on a debian package, thus the actual source patch being a diff-of-diffs. I suspect that your test from the PR description > ``` >   a = (fetchpatch { >     name = ""CVE-2019-18218.patch""; >     urls = [ >       ""https://release.debian.org/proposed-updates/stretch_diffs/file_5.30-1+deb9u3.debdiff"" >     ]; >     sha256 = ""1i22y91yndc3n2p2ngczp1lwil8l05sp8ciicil74xrc5f91y6mj""; >   }); > ``` is ineffective because it already is a fixed-output derivation.::D'oh.::@nh2 Nice catch! Thanks. I replaced the url with another one and tested with a proper `nix-build --option substituters """"`.::Ah, I also just noticed I pinged the wrong person, @risicle made the `master` PR but @veprbl this backport.::@nh2 There is no master PR. There, the patch in question was removed in 25fb1a02a35bf024c9d909b7629d1ca653f6cfe0.::I meant #72025.::",5c39e8c8adba37e6f18d067d678e879062c6ea49::
https://api.github.com/repos/NixOS/nixpkgs,78435,heaptrack_wrap::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Fixes: ``` $  heaptrack_gui qt.qpa.plugin: Could not find the Qt platform plugin ""xcb"" in """" This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem. zsh: abort (core dumped)  heaptrack_gui ``` Please backport to 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",30c2ac9efa641df286dab9ebdc5c27e107e84673::
https://api.github.com/repos/NixOS/nixpkgs,78388,update-steam-stable::release-19.09,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: steam::,"###### Motivation for this change backport of #78310 closes #73512 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f6f39c34e71c43b4e80aba4d001961b9c97b4a39::
https://api.github.com/repos/NixOS/nixpkgs,78369,bump-matrix-synapse::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://github.com/matrix-org/synapse/releases/tag/v1.9.0 As discussed in the [unofficial nixos-matrix channel](https://riot.im/app/#/room/#nix:matrix.org), this should be fine to backport: matrix-synapse doesn't work with rather old sqlite versions (<3.11) anymore, on master we have 3.30, on release-19.09 we have 3.28. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",6930a1602c861216f99a37d17b7368dffa5420cc::
https://api.github.com/repos/NixOS/nixpkgs,78050,fix-pycurl-stable::release-19.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"###### Motivation for this change backport of #72039 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ``` [43 built, 526 copied (1578.8 MiB), 343.7 MiB DL] https://github.com/NixOS/nixpkgs/pull/78050 22 package built: pyCA pyload python27Packages.blivet python27Packages.bugwarrior python27Packages.koji python27Packages.nixpart python27Packages.nixpart0 python27Packages.osc python27Packages.pycurl python27Packages.pykickstart python27Packages.rpkg python27Packages.thumbor python27Packages.urlgrabber python37Packages.bugwarrior python37Packages.nvchecker python37Packages.osc python37Packages.patator python37Packages.pycurl python37Packages.urlgrabber system-config-printer udocker virtinst ```::",cc751ef8a88e8af8ee69e19984658552f6e542af::
https://api.github.com/repos/NixOS/nixpkgs,77998,19.09-e2fsprogs-1.45.4::staging-19.09,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"backport to 19.09, fixes CVE-2019-5094. closes #70087 ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",2a65776d10eeac65494aea04878a48b1d6ce0d30::
https://api.github.com/repos/NixOS/nixpkgs,77617,cawbird104-backport::release-19.09,0,merged,,"###### Motivation for this change backport of #77583 /cc @jonringer ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",13b4f9554e1ea3eabd2083e53849fec9e9b4cd2c::
https://api.github.com/repos/NixOS/nixpkgs,77605,ceph-backport-14.2.6::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: nixos::8.has: clean-up::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This backports necessary parts to get the critical 14.2.5 release into 19.09 Also backports 14.2.6 (bugfix, less important) while we're at it. WIP while I test this ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",0f48aae695d6318fdf5bcb3d8eff7211a4ede3bb::23a6575e234ce1c3713a68c7f01371b440afa688::543f12cb34fe4188ef71b9cc7712e775f2a89c09::938da23f97c7c816da73bdc63fc1eb5d08de727b::e4c2df3ceed3ba9796747cceda97f2fca1fa108f::9fdba84c07d7b0b264fec76cd70d51c5bdaa6bb3::73475e96648935ec6299b17a36f4eb56137db056::87c5282f7a9d9e97ea64b21922c7fe52b6885503::
https://api.github.com/repos/NixOS/nixpkgs,77583,cawbird104::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"fixes a crash caused by invalid Twitter API data. That's why it also needs to be backported to release-19.09. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e86c767ee1b6d0e63eddca2f89bd732fb4116b07::
https://api.github.com/repos/NixOS/nixpkgs,77556,fix-wpa-multiple::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change #61931 (backport #77554) ###### Things done - [x] Tested on raspberry pi, both with and without an extra USB WiFi adapter - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",47e03159da3c2614cafe72e26ab20e540b64c36c::
https://api.github.com/repos/NixOS/nixpkgs,77525,fixup-backport::staging,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux-stdenv::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The backport in #76972 was bad. cc @flokli ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",22a8e7f13dc00688b0516d3b67fa3b38d45a9be6::b5a45106ae351e5332abd96605560aa91e8c8679::
https://api.github.com/repos/NixOS/nixpkgs,77390,tor-browser-bundle-bin-9.0.3_release-19.09::release-19.09,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"backport of #77340 to release-19.09 https://blog.torproject.org/new-release-tor-browser-903 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @offline @matejc @doublec @thoughtpolice @joachifm @scaredmushroom ::",16f8bb62a4639faca65bce524d5b17b27e4a400e::
https://api.github.com/repos/NixOS/nixpkgs,77374,1909-ffbin7201::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"(cherry picked from commit 0271b2c9a08bf49152d45bed4cfb97cdcb6bed02) <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Security updates, Vulnerability is already exploited in the wild, backport of #77373 to 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",af4d6c235fbebb561b12abf4ba868e382b6c8946::
https://api.github.com/repos/NixOS/nixpkgs,77366,fix-libxml2-1909::release-19.09,0,merged,1.severity: security::10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"#### Motivation for this change See https://github.com/NixOS/nixpkgs/issues/77265 Updating libxml2-2.9.9 to 2.9.10 on 19.09 seems to be too intrusive (https://github.com/NixOS/nixpkgs/pull/73178). May also warrant backport to 19.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @volth @edolstra @NixOS/security-notifications ::",4bbd82f1adf78eab997c1a0e20e78bec09c0fb58::
https://api.github.com/repos/NixOS/nixpkgs,76795,python-tablib-fix-broken::staging,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::2.status: merge conflict::6.topic: python::8.has: package (new)::,"###### Motivation for this change Required a backport of openpyxl from 3.0.2 -> 3.0.1. 3.0.2 is broken https://bitbucket.org/openpyxl/openpyxl/issues/1373/broken-writer-with-lxml-defusedxml. Which causes the writer to fail. Enable tests on openpyxl as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",229336ce5b272bd3748be6f3e1ace918a3e04f0e::362bb16b407d3743029762c30fb7db8fe1a1ef65::83c05917f07fa42e6a1e5e1c88c0c16dc686828f::
https://api.github.com/repos/NixOS/nixpkgs,76785,nix-2.3.1::release-19.09,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change CVE-2019-17365, which wasn't backported to the stable release. This is the second attempt of https://github.com/NixOS/nixpkgs/pull/76736, including all the NixOS activation script changes mentioned by @edolstra. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @NixOS/backports ::",88ed1af71433a8415f7c466e4d46da9764475dda::487288f6bedf648257963f56679583313868a794::13b4d10331ace176666405f64ec833ca47a0cfde::e4ce88802b60c7d2589699b6b6529492d593017f::
https://api.github.com/repos/NixOS/nixpkgs,76643,resilio-sync-2.6.4::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This release is a hotfix for a WebUI security issue: https://forum.resilio.com/topic/71647-latest-desktop-build-264/ Since update fixes a security issue, it should probably be backported to nixpkgs 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nixpkgs-review --run ""nixpkgs-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",cbea197e01fddae2ceae103df63da26a5f38d141::
https://api.github.com/repos/NixOS/nixpkgs,75724,19.09/advancecomp::release-19.09,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Fixes an out of bounds write in the library. Stable backport of #75723 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers ::",8fe113b10a6db92f6d0a0708be160c780b30028e::
https://api.github.com/repos/NixOS/nixpkgs,75520,patch-1::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"backport of #74319 without the file consistency checks. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change 3.12 was rated a major security update but was broken for NixOS, therefore jump to 3.13 which incorporates the necessary fix. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @Kiwi @Lassulus ::",4154831f7aa3f67f11378e8d6cd0031846427a64::
https://api.github.com/repos/NixOS/nixpkgs,75508,gitlab-12.5.4::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: port to stable::,"https://about.gitlab.com/blog/2019/12/10/critical-security-release-gitlab-12-5-4-released/ Insufficient parameter sanitization for Maven package registry could lead to privilege escalation and remote code execution vulnerabilities under certain conditions. The issue is now mitigated in the latest release and is assigned CVE-2019-19628. When transferring a public project to a private group, private code would be disclosed via the Group Search API provided by Elasticsearch integration. The issue is now mitigated in the latest release and is assigned CVE-2019-19629. The Git dependency has been upgraded to 2.22.2 in order to apply security fixes detailed here. CVE-2019-19604 was identified by the GitLab Security Research team. For more information on that issue, please visit the GitLab Security Research Advisory closes #75506. Should be backported to 19.09, too. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",5bf07d665f0b1f14c6ab8f8fba069dfb1bf1c3d1::
https://api.github.com/repos/NixOS/nixpkgs,75488,internetarchive-setuptools::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::9.needs: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Since commit f7e28bf5d8181926e600a222cb70180519d09726 (""Split buildPythonPackage into setup hooks""), the `ia` command provided by this package has crashed with the error: Traceback (most recent call last): File ""/nix/store/7n1jf081h0qnj82m2s69mxzj02zf746f-python3.7-internetarchive-1.8.1/bin/.ia-wrapped"", line 7, in <module> from internetarchive.cli.ia import main File ""/nix/store/7n1jf081h0qnj82m2s69mxzj02zf746f-python3.7-internetarchive-1.8.1/lib/python3.7/site-packages/internetarchive/cli/__init__.py"", line 27, in <module> from internetarchive.cli import ia, ia_configure, ia_delete, ia_download, ia_list, \ File ""/nix/store/7n1jf081h0qnj82m2s69mxzj02zf746f-python3.7-internetarchive-1.8.1/lib/python3.7/site-packages/internetarchive/cli/ia.py"", line 60, in <module> from pkg_resources import iter_entry_points, DistributionNotFound ModuleNotFoundError: No module named 'pkg_resources' This commit fixes that by adding `setuptools` (which contains the 'pkg_resources' module) to `propagatedBuildInputs`. This can also be backported to 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @FRidh ::",224ac7de37e1339e18092ed74c6955fef3ee1573::
https://api.github.com/repos/NixOS/nixpkgs,75480,patch-1::nixos-19.09,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"backport of #74319 without the file consistency checks. 3.12 was rated a major security update but was broken for NixOS, therefore jump to 3.13 which incorporates the necessary fix. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @Kiwi ::",4154831f7aa3f67f11378e8d6cd0031846427a64::
https://api.github.com/repos/NixOS/nixpkgs,75146,nin-hostapd-2.9::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"Associated release note: https://w1.fi/security/2019-6/sae-eap-pwd-side-channel-attack-update.txt ###### Motivation for this change Our current hostapd setup might be vulnerable to a side-channel attack on `EAP-pwd` in a particular setup. Relevant release note part: > All wpa_supplicant and hostapd versions with EAP-pwd support (CONFIG_EAP_PWD=y in the build configuration and EAP-pwd being enabled in the runtime configuration). Note that EAP-pwd server implementation in hostapd enables only a single group at the time (pwd_group parameter) and by default, group 19 is used. As such, this would be applicable only if the pwd_group parameter is set to use one of the groups 28-30. The EAP-pwd peer implementation wpa_supplicant, follows the group selected by the server and as such, it would be vulnerable for the case where an attacker controls the authentication server (e.g., through a rogue AP) if the crypto library supports groups 28-30. No reason to freak about that, but better be safe than sorry. There's no breaking change regarding this release, updating `hostapd` should be safe and backward-compatible. We probably want to backport this to 19.09 together with https://github.com/NixOS/nixpkgs/pull/75140 (not merged yet). Tested on my test router setup. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @flokli ::",280ad36a2e51d98c8553817453ca7d44d9de9d22::
https://api.github.com/repos/NixOS/nixpkgs,74905,firefox-71::master,0,merged,10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::11.by: package-maintainer::,"##### Motivation for this change This updates Firefox to the upcoming stable version. This might look like it should go to staging but it actually just has to land on master AFTER #74795 since that already includes the NSS bump. I kept it in this branch to have a consistent history regarding what kind of updates are required to make this work. Release notes should pop up at https://www.mozilla.org/en-US/firefox/71.0/releasenotes/ some time today/tomorrow. I'll start working on a backport of all the deps to stable within the next day. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::This should be ""68.3.0"". This is my mistake.::Fixed.::",d4ee04bd169c961f585fca79d02fc228963c59e0::8eb6c64404021e22e34d1c8c9f64ce0a9a7cca99::ba1acd2f0c43510c7c11797fb10d2155318ca855::bbb74cdb3cd35e9d180e607bffb5d6243f417ead::ff0cd023effea955cb65db1445c7fe76cc4ee1a2::1993a8bb451165bbcd389f59b5f6929c3ade0188::
https://api.github.com/repos/NixOS/nixpkgs,74823,backport-splitVersion::release-19.09,0,merged,,"###### Motivation for this change noticed stable wasn't eval'ing due to this needing to be backported example: https://github.com/NixOS/nixpkgs/pull/74815 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",4412d7b8e339383d5ecd87e56ffee6e7644b1bac::
https://api.github.com/repos/NixOS/nixpkgs,74815,bump-azure-cli-stable::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::,"###### Motivation for this change backport of #74807 I left off the package bumps as this isn't supposed to be a rolling release, at least not as much :) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",f362448115d1d6ffb2422d0f18e9b5e50e47cb76::c2c9e0136536948da899810761322cd0813f0677::d7e2b6a62aa82a08b2a4072d3f5e602f45726454::
https://api.github.com/repos/NixOS/nixpkgs,74339,release-19.09::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Break-fix backport. Cherry-picked from 69889d3359066ed68db7f6d56e4c2fee66162175 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @mmahut ::",8a8de0becbb199ddfa95d49f2ebdf781fe7f7943::
https://api.github.com/repos/NixOS/nixpkgs,74090,ghcjs-cross-without-cc::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::6.topic: stdenv::,"###### Motivation for this change This commit allows treating GHCJS builds as cross compilation. This is useful for a number of correctness reasons, chiefly getting the right build-time `build-tool-depends` so things like literate READMEs work. There is some trickiness to get this to work however. Read the first commit for details. In short, as usual, dependency ""splicing"" is a terrible idea but one with no better alternative that isn't a huge refactor. I was very careful to break any interfaces with this e.g. existing native and cross platforms will have the same hashes, and whether `stdenv.cc == null` before, that is still the case. This will allow me to backport this to `19.09` for e.g. reflex-platform and haskell.nix. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ElvishJerricco @ElvishJerricco @ali-abrar @cdepillabout ::Why not just `optionalString` the whole `--replace` argument?::I agree eventually, but trying to avoid a mass rebuild for now :)::```suggestion then throw ""no C compiler provided for this platform"" ```::Thanks!::is this always null?::otherwise it needs some comments::This is a little weird considering https://github.com/haskell/cabal/issues/6466. Isn't --with-gcc always needed for GHC?::I suppose but those ""cross flags"" do that. We should really just combine the list of flags and make cross and native more similar.::",63bd851e9554cdb1bd703a461443723fd057933d::c739c420db5b9d56c335414be1696c57f2dbbb6a::ea9a2c5ec21bf088bbdef036238fa67cdc85b073::6bc456c91c6a556e905852d9a13034ed1932ea3d::765d2608b694e425743b8030570ea8c99e167558::80524db331e6dbd75aaba12f7097a6be269ac7c6::87379637357f362abe47cc8a86fd7f2735f6180a::c4508df25d3b16f7b4d20d1cd781f320a6232c46::d3ecd5bde5682b62728101a3026875aabeb1886d::891662e829ef51f26f9953f492a27203f9838a76::ad93663a485afe830b3d1edb27ae3d3471e6cf99::c3c245dcda8cc54055bca7fe08c59dd1d3a41408::95464f6ad3cb64bcc56b4761cfcb4261944679e9::a8bd27b45486cbc4060e1a03a54d8e66e04a76fa::694b81fabc288c49cf2f1c29ae91f3c18def7a8d::ed6c877f143db3bbe3c17a71370a0b93b244d813::f29fceebdcb1b765d12bfaef9ff15bfe1f4e13df::6a23c9ddbef2bf80f28d9d2cda778f429a50b3f1::49daa0aa64aea9143f9deb75bf277670dac90e1f::d8dd3014120af31d4567de8247900a1088ec6e7b::9cbbe2b00f91b699a887b6844414c2612f82d85f::6078f094c638faabc63cffe285dc91af4e04a741::c1fb358a78862c7ffb90f6f7a319935fb73039b4::
https://api.github.com/repos/NixOS/nixpkgs,74064,cdda-git-bump::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change The cataclysm-dda-git package is pinned to a specific version, and the previous version was bumped more than 6 months ago. There has been some substantial work done on the game, so it's good to keep it bumped occasionally. I built the newest version without the locale patch (since it didn't apply cleanly) and it built/ran fine. I'm not sure if there was a reason why it was needed originally that I missed (didn't find any relevant comments in the old commits), so I removed it for now. Played the game for a while, seems to work great. If it is needed, here's a new backported verison of the patch that we can add back in: ```patch diff --git a/src/translations.cpp b/src/translations.cpp index 2bd330314e..c786216930 100644 --- a/src/translations.cpp +++ b/src/translations.cpp @@ -211,14 +211,12 @@ void set_language() auto env = getenv( ""LANGUAGE"" ); locale_dir = std::string( PATH_INFO::base_path() + ""lang/mo/"" + ( env ? env : ""none"" ) + ""/LC_MESSAGES/cataclysm-dda.mo"" ); -#elif (defined(__linux__) || (defined(MACOSX) && !defined(TILES))) +#else if( !PATH_INFO::base_path().empty() ) { locale_dir = PATH_INFO::base_path() + ""share/locale""; } else { locale_dir = ""lang/mo""; } -#else -    locale_dir = ""lang/mo""; #endif const char *locale_dir_char = locale_dir.c_str(); ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @mnacamura @rardiol ::",5e8770a8bb077e6e8dd32a2cdbf766d13bb85981::
https://api.github.com/repos/NixOS/nixpkgs,74058,wrapper-pname-support-19.09::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: GNOME::6.topic: lua::6.topic: nixos::6.topic: vim::8.has: documentation::8.has: module (update)::,"###### Motivation for this change Backport of #74057 that is careful not to break any interfaces. I want to backport because otherwise I'll get more conflicts backporting other things. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",84a105254d52d8ded6c5365399b61bea14505cd7::99537e994f09e8e5499d3d877df0e16da8452ca7::9b090ccbca3f7dd26d91db06e96e8bf8282c37ca::97baa2e21bcfad1c4e21333c31b6d12385b2e18e::4a0a297861dad089c08373822c5fa28556a2a089::
https://api.github.com/repos/NixOS/nixpkgs,74026,nixos-v243.3::staging,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::11.by: package-maintainer::,"###### Motivation for this change This bumps our systemd version to the latest stable point release of system v243. There are a bunch of bugfixes that all look good and none that seem overly intrusive. Once this has dripped through staging into master I'd also backport it to 19.09 (cc RMs @samueldr @disassembler). Here is the list of  non-merge changes: ``` test: Pass personality test even when i686 userland runs on x86_64 kernel docs: fix inadvertent change in uid range cgroup: fix typo in BPF firewall support warning message fix build with compilers with default stack-protector enabled nspawn: surrender controlling terminal to PID2 when using the PID1 stub pid1: fix DefaultTasksMax initialization src/core/automount: use DirectoryMode when calling mkdir -p udevadm trigger: do not propagate EACCES and ENODEV hwdb: Correct WWWW Pattern In Documentation Comment nspawn: consistenly fail if parsing the environment fails nspawn: default to unified hierarchy if --as-pid2 is used cgroup: Mark memory protections as explicitly set in transient units cgroup: Respect DefaultMemoryMin when setting memory.min cgroup: Check ancestor memory min for unified memory config cgroup: docs: memory.high doc fixups cgroup: docs: Mention unbounded protection for memory.{low,min} Consider smb3 as remote filesystem Handle d_type == DT_UNKNOWN correctly util-lib: Don't propagate EACCES from find_binary PATH lookup to caller network: drop noisy log message Updated log message when the timesync happens for the first time (#13624) units: make systemd-binfmt.service easier to work with no autofs Corect man page reference in systemd-nologin.conf comments man: Add a missing space in machinectl(1) log: Add missing ""%"" in ""%m"" log format strings pid1: do not warn if /run/systemd/relabel-extra.d/ doesn't exist man: fix typo dhcp6: use unaligned_read_be32() dhcp6: add missing option length check ndisc: make first solicit delayed randomly dhcp6: read OPTION_INFORMATION_REFRESH_TIME option l10n: update Czech Translation sd-radv: if lifetime < SD_RADV_DEFAULT_MAX_TIMEOUT_USEC, adjust timeout (#13491) polkit: fix typo sd-netlink: fix invalid assertion network: do not enter failed state if device's sysfs entry does not exist yet network: add missing link->network checks path: stop watching path specs once we triggered the target unit hwdb: add Medion Akoya E2292 (#13498) po: update Brazilian Portuguese translation po: update Polish translation polkit: change ""revert settings"" to ""reset settings"" man: fix description of ARPIntervalSec= units hwdb: axis override for Dell 9360 touchpad test: drop the missed || exit 1 expression udevadm: use usec_add() udevadm: missing initialization of descriptor networkd: unbreak routing_policy_rule_compare_func() core: coldplug possible nop_job tty-ask-pwd-agent: fix message forwarded to wall(1) core: Fix setting StatusUnitFormat from config files network DHCP4: Dont mislead the logs. Update m4 for selective utmp support. 	modified:   tmpfiles.d/systemd.conf.m4 core: restore initialization of u->source_mtime mount-setup: relabel items mentioned directly in relabel-extra.d Call getgroups() to know size of supplementary groups array to allocate test: add test cases for empty string match udev: fix multi match man: move TimeoutCleanSec= entry from .service to .exec zsh: udpate bootctl completions resolved: fix abort when recv() returns 0 man: remove repeated words hwdb: Also mark lis3lv02d sensors in ""HP"" laptops as being in the base udev: also logs file permission udev: add missing flag for OPTIONS=static_node network: do not abort execution when a config file cannot be loaded fileio: update warning message pstore: fix use after free journal: Make the output of --update-catalog deterministic travis: protect the systemd organization on Fuzzit from forks hwdb: Mark lis3lv02d sensors in HP laptops as being in the base po: update Japanese translation docs: fix push recipe in RELEASE.md man/systemctl.xml: fix missing ""not"" docs: fix typo in boot loader doc pstore: fix typo in error message - directoy -> directory Fix typo in comment: overide -> override po: update Polish translation ``` (https://github.com/NixOS/systemd/compare/nixos-v243...nixos-v243.3) ###### Things done I did build the nixos-small and the nixos release tests and no new obvious issues appeared. Running this systemd version on-top of nixos-unstable on my notebook didn't show any obvious problems, as well. ###### Notify maintainers cc @flokli @fpletz @mic92 ::",d5914d7d680a62554a46cdf3afcc227fa82ae42e::
https://api.github.com/repos/NixOS/nixpkgs,74015,chromium-aarch64::staging,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"The skia patch no longer applies, and is no longer necessary. The current version of chromium doesn't build with gcc. This has been fixed upstream[1] and could be backported, but switching aarch64 to clang/llvm and making the build the same on all platforms is simpler. [1] https://chromium.googlesource.com/chromium/src/+/9662ec844017690d5fd56bf0f05ef6a540dd29c1 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",376628a91ade32399117194026fa17664e35bba5::
https://api.github.com/repos/NixOS/nixpkgs,74014,add-azure-cli-stable::release-19.09,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: python::8.has: package (new)::,"###### Motivation for this change backport of #71797 fixes a bunch of namespace issues with azure packages closes #40073 closes #71096 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ``` [6 built, 0.0 MiB DL] https://github.com/NixOS/nixpkgs/pull/74014 177 package were built: azure-cli nixops_1_6_1 python27Packages.applicationinsights python27Packages.azure-applicationinsights python27Packages.azure-batch python27Packages.azure-cli-core python27Packages.azure-cli-telemetry python27Packages.azure-cosmos python27Packages.azure-eventgrid python27Packages.azure-functions-devops-build python27Packages.azure-graphrbac python27Packages.azure-keyvault python27Packages.azure-loganalytics python27Packages.azure-mgmt-advisor python27Packages.azure-mgmt-applicationinsights python27Packages.azure-mgmt-authorization python27Packages.azure-mgmt-batch python27Packages.azure-mgmt-batchai python27Packages.azure-mgmt-billing python27Packages.azure-mgmt-cdn python27Packages.azure-mgmt-cognitiveservices python27Packages.azure-mgmt-commerce python27Packages.azure-mgmt-common python27Packages.azure-mgmt-compute python27Packages.azure-mgmt-consumption python27Packages.azure-mgmt-containerinstance python27Packages.azure-mgmt-containerservice python27Packages.azure-mgmt-cosmosdb python27Packages.azure-mgmt-datafactory python27Packages.azure-mgmt-datalake-analytics python27Packages.azure-mgmt-datalake-store python27Packages.azure-mgmt-datamigration python27Packages.azure-mgmt-devspaces python27Packages.azure-mgmt-devtestlabs python27Packages.azure-mgmt-dns python27Packages.azure-mgmt-eventgrid python27Packages.azure-mgmt-eventhub python27Packages.azure-mgmt-hanaonazure python27Packages.azure-mgmt-iotcentral python27Packages.azure-mgmt-iothub python27Packages.azure-mgmt-iothubprovisioningservices python27Packages.azure-mgmt-keyvault python27Packages.azure-mgmt-loganalytics python27Packages.azure-mgmt-logic python27Packages.azure-mgmt-machinelearningcompute python27Packages.azure-mgmt-managementgroups python27Packages.azure-mgmt-managementpartner python27Packages.azure-mgmt-maps python27Packages.azure-mgmt-marketplaceordering python27Packages.azure-mgmt-media python27Packages.azure-mgmt-monitor python27Packages.azure-mgmt-msi python27Packages.azure-mgmt-network python27Packages.azure-mgmt-notificationhubs python27Packages.azure-mgmt-policyinsights python27Packages.azure-mgmt-powerbiembedded python27Packages.azure-mgmt-rdbms python27Packages.azure-mgmt-recoveryservices python27Packages.azure-mgmt-recoveryservicesbackup python27Packages.azure-mgmt-redis python27Packages.azure-mgmt-relay python27Packages.azure-mgmt-reservations python27Packages.azure-mgmt-resource python27Packages.azure-mgmt-scheduler python27Packages.azure-mgmt-search python27Packages.azure-mgmt-servicebus python27Packages.azure-mgmt-servicefabric python27Packages.azure-mgmt-signalr python27Packages.azure-mgmt-sql python27Packages.azure-mgmt-storage python27Packages.azure-mgmt-subscription python27Packages.azure-mgmt-trafficmanager python27Packages.azure-mgmt-web python27Packages.azure-servicebus python27Packages.azure-servicefabric python27Packages.javaproperties python27Packages.msrest python27Packages.msrestazure python27Packages.portalocker python27Packages.sshtunnel python27Packages.vsts python27Packages.vsts-cd-manager python37Packages.applicationinsights python37Packages.azure-applicationinsights python37Packages.azure-batch python37Packages.azure-cli-core python37Packages.azure-cli-telemetry python37Packages.azure-cosmos python37Packages.azure-eventgrid python37Packages.azure-functions-devops-build python37Packages.azure-graphrbac python37Packages.azure-keyvault python37Packages.azure-loganalytics python37Packages.azure-mgmt-advisor python37Packages.azure-mgmt-apimanagement python37Packages.azure-mgmt-appconfiguration python37Packages.azure-mgmt-applicationinsights python37Packages.azure-mgmt-authorization python37Packages.azure-mgmt-batch python37Packages.azure-mgmt-batchai python37Packages.azure-mgmt-billing python37Packages.azure-mgmt-botservice python37Packages.azure-mgmt-cdn python37Packages.azure-mgmt-cognitiveservices python37Packages.azure-mgmt-commerce python37Packages.azure-mgmt-common python37Packages.azure-mgmt-compute python37Packages.azure-mgmt-consumption python37Packages.azure-mgmt-containerinstance python37Packages.azure-mgmt-containerregistry python37Packages.azure-mgmt-containerservice python37Packages.azure-mgmt-cosmosdb python37Packages.azure-mgmt-datafactory python37Packages.azure-mgmt-datalake-analytics python37Packages.azure-mgmt-datalake-store python37Packages.azure-mgmt-datamigration python37Packages.azure-mgmt-deploymentmanager python37Packages.azure-mgmt-devspaces python37Packages.azure-mgmt-devtestlabs python37Packages.azure-mgmt-dns python37Packages.azure-mgmt-eventgrid python37Packages.azure-mgmt-eventhub python37Packages.azure-mgmt-hanaonazure python37Packages.azure-mgmt-hdinsight python37Packages.azure-mgmt-imagebuilder python37Packages.azure-mgmt-iotcentral python37Packages.azure-mgmt-iothub python37Packages.azure-mgmt-iothubprovisioningservices python37Packages.azure-mgmt-keyvault python37Packages.azure-mgmt-kusto python37Packages.azure-mgmt-loganalytics python37Packages.azure-mgmt-logic python37Packages.azure-mgmt-machinelearningcompute python37Packages.azure-mgmt-managedservices python37Packages.azure-mgmt-managementgroups python37Packages.azure-mgmt-managementpartner python37Packages.azure-mgmt-maps python37Packages.azure-mgmt-marketplaceordering python37Packages.azure-mgmt-media python37Packages.azure-mgmt-monitor python37Packages.azure-mgmt-msi python37Packages.azure-mgmt-netapp python37Packages.azure-mgmt-network python37Packages.azure-mgmt-notificationhubs python37Packages.azure-mgmt-policyinsights python37Packages.azure-mgmt-powerbiembedded python37Packages.azure-mgmt-privatedns python37Packages.azure-mgmt-rdbms python37Packages.azure-mgmt-recoveryservices python37Packages.azure-mgmt-recoveryservicesbackup python37Packages.azure-mgmt-redis python37Packages.azure-mgmt-relay python37Packages.azure-mgmt-reservations python37Packages.azure-mgmt-resource python37Packages.azure-mgmt-scheduler python37Packages.azure-mgmt-search python37Packages.azure-mgmt-security python37Packages.azure-mgmt-servicebus python37Packages.azure-mgmt-servicefabric python37Packages.azure-mgmt-signalr python37Packages.azure-mgmt-sql python37Packages.azure-mgmt-sqlvirtualmachine python37Packages.azure-mgmt-storage python37Packages.azure-mgmt-subscription python37Packages.azure-mgmt-trafficmanager python37Packages.azure-mgmt-web python37Packages.azure-multiapi-storage python37Packages.azure-servicebus python37Packages.azure-servicefabric python37Packages.javaproperties python37Packages.msrest python37Packages.msrestazure python37Packages.portalocker python37Packages.secure python37Packages.sshtunnel python37Packages.vsts python37Packages.vsts-cd-manager ```::",93c89789a41ad3ed019daaf9e2e285b417ed03a7::772fe1080ebd61a04a61c541f0ecd30675750c6d::b2d3899cc8e27d53af6ecd1c001b993e1e4b3cbc::62f3f94d99fcf14b7af70be3fdfb77d958e39430::3cff16e0192ae606df1dae6207274b795f7a4963::29ab3594760c875bafcccd3d6ee7f506b4895ae8::b7f1430fad7855d66fd7913410c9000dfcab7ed0::45a614643479d361c63b576cc400b802ddc8a3d8::8e69ca73e0dd6aa0c15e7f56951be884e5bc9a2d::dde88b6f52d4e5502d2ad1cc23e40e32ddad2280::92da6cabeb1a0098cfc9563d773aab91a9c2db3e::1069b3f949fc2e1e5dfb949366bc9c1c1f49f52f::eaff4716cbc062476f1fe954e85b21eb84e3c277::4ba5fae210b10a552ae2f2114fecf2fc81c8e8e8::83f2aecd3d44752c30091bbf0aa5063d001c433d::d8574e72e0dd33884a0fa2017e90419f643dacd7::c72e3cd72bdeb927ae768ac09e76f1a72b8414e4::8956b7df38653f3ee3d15158db98ffecbc72ae3c::ca8b66ea43cad490bce0c0e8253efbffc49f20b7::bdb9a5480ba7429d960e4fe166d970764fd33df8::b7710a2403e2ea3722dcac56147b374308a5f87a::9f13fecb9f52c41627a16caca40164fd8ca7dd35::f7ac595d4c5427edf2834a9d912892ae5fcf35b8::992aa3b29a420808b9cc3ccac11c871221b6a928::43289c1e7fe7275c11aa3e7cf39cf9bc0c1308cf::1d803ee46ec7138a1d04eefa8554f0b7f17ed7d0::8aee72337e06550f9f47694972c603a52024b506::bbfbb453db499fab1fef6d5dc7ffbde73d7fdc69::7e2713d62d13393e988e9c3e813bf7e7f07b476c::cb095471a3f979046634c8d39223a77aa038ce73::437b432b0c9eeced65f0d2cc675e47bdbb45823a::e003515c6d2aa4e64c4c12a111556045b95c39b7::048cf350da51398aec8d4788a5e473d08e934834::c72b918be1c5a1ee57c248e2cd4e743badac05e8::f876ab9e5b24e053035fa3370408c7696253704b::ab286503e5e687e6360a4d4d4009293e098af28a::2b1a1c1bbc991f0cf39ce648e6aa2a14404d44bf::58b7ffa8ef51f1b9487a0118651666d25be1f7b2::7d6347d9d433653a6c9b58e61ca3eceba8d45913::2f0bc594433a65bbf2288a7485e695dd38649280::87983f36bf40d7f4737bcbfca16c9cd8cb4ba6b3::606042e9298dfabd6fa1a2b768b032b9380c0dc4::
https://api.github.com/repos/NixOS/nixpkgs,73928,fix_mariadb_drivers::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::9.needs: port to stable::,"##### Motivation for this change The mariadb unixODBC drivers fail to load with an unhelpful error message - https://github.com/NixOS/nixpkgs/issues/73258 I haven't been able to pin down what exactly is wrong, but I've found that building against the subrepo rather than against the system libmysqlclient leads to working drivers. I've tested this PR against mariadb on NixOS and OS X Mojave. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::I'm terribly sorry I didn't notice this before... we generally set `rev` to something involving `version` for easy updates. So in this case: ```suggestion rev = version; ``` I've tested this on NixOS and after this change I'm happy to merge to `master`. This change deserves a backport as well. Thank you so much for digging into this! Hopefully at some point someone can get to the bottom of our `libmysqlclient` issue, but until that happens the priority is to have a working package :smile: Thanks again @jamii :tada: ::",fa9a981fafde12540d1d19c1c7d85154409f0681::
https://api.github.com/repos/NixOS/nixpkgs,73922,fix_py27_cherrypy_master::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: python::,"###### Motivation for this change Due to the recent update of python 2.7 from 2.7.16 to 2.7.17 (see 05dfc5063928030483ad5f5e468d3b9ec8632a1d) the `StaticTest::test_null_bytes` test case started failing on 2.7 too. This is because additional validation has been backported to httplib in PR 13315 in https://github.com/python/cpython to to address a security issue. (cherry picked from commit 1295a8e9feb3f7f99f53c93234a680c18eca8dda) *Note*: This is currently not building due to some other issue involving pytest-black. Backport: https://github.com/NixOS/nixpkgs/pull/73920 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",34a05bd5454eeccf323597232c4ed5c76f40193f::
https://api.github.com/repos/NixOS/nixpkgs,73920,fix_py27_cherrypy::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Due to the recent update of python 2.7 from 2.7.16 to 2.7.17 (see 05dfc5063928030483ad5f5e468d3b9ec8632a1d) the `StaticTest::test_null_bytes` test case started failing on 2.7 too. This is because additional validation has been backported to httplib in PR 13315 in https://github.com/python/cpython to to address a security issue. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",1295a8e9feb3f7f99f53c93234a680c18eca8dda::
https://api.github.com/repos/NixOS/nixpkgs,73879,update/jetbrains-2019.4::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Bugfix releases of jetbrains Ideas. For me, Goland is broken in 2019.2.4. so I updated it to 2019.3. (I'm not sure if it is broken for everyone, it could be my specific combination of plugins). It works with 2019.3. I've tested the execution of Goland, Phpstorm and clion. IMHO, as Goland is broken, it should be backported to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",f4a4557e6091b15cbaca9214271ba49ebe11cb3a::af027134bcdba19d980f85454eff33a6769a74f2::2a717b3ff66a9b5308d7d8806fa3a29c95ca570f::d29879d21e023b217599d116d961caa9bdf096de::305f2863cfbd7ce714c91cd036952910d57b733f::6274424647df9c449d4326b194d5c12062d2be14::2a3d2c18c68879e6ae427bee92cff167872f7ee5::918ed06f292f29fb1f880853c39787683fc8695d::9cff83f0eb3116ac2e778af385453e79c2e62a13::9a01f62d98beb17bd8ef71d1dbc375cbc7b31406::598e4ec0b63cb33240a4562b5e8e15c3825bb43c::5cda2de538cfa4c06e8f71f963e35ba36c13e20b::246cfe4f5757926ce6eb2f8ef14243d1390ffb02::46ed341384a331301e3a87013772f58d72c637c0::9e2792a6acf2dbaeaa9bc123c7250b4fb942d4b9::9123715410b3d86682978c56a270abc3a9175428::b2d769dc8adb9cd39805b56f098b7a7404130c11::1e5dfe05c322f381e2f3ee0fe4b3f9c83473a5c3::5acd28298b4f7268f88c6758c7e521dacd6350b7::2c964ae68ec8570041c5a6b2d2cdf60b7da574a3::919368a37ab87798ef70e0afc097f45239f90ba7::5ae4412196e039e1adcfc39e13fef4dc23eb5fe3::62a5b9743bbb8a1d373c1cb3a745a57d79f44dad::4b5bdb7dbeaa45efa4346d5c4411ceca62487cae::ff60e96187ea279c0a13eb8b895c2f4cd30b0924::
https://api.github.com/repos/NixOS/nixpkgs,73870,fix-tensorboard-stable::release-19.09,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"The cli requires the wheel package to determine entry points for execution. (cherry picked from commit 7d091ce5ad4eb0ee1294f2d7bd2d2a60bca5b43e) Signed-off-by: Jonathan Ringer <jonringer117@gmail.com> ###### Motivation for this change backport of #73842 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",340d08f054d0c61bb407d7a1bbf8d1692f2912db::
https://api.github.com/repos/NixOS/nixpkgs,73785,libinput-options-all-19.09::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Without this change any special config used for libinput like `accelSpeed` won't apply to mice because it isn't a touchpad. This could possibly change the user experience for someone, like if they came to rely on the bug. An example situation would be: * have `services.xserver.libinput.accelSpeed` in config * not notice it doesn't apply to your device that isn't a touchpad (mouse) * update on 19.09 and suddenly the acceleration of your mouse is different. It's generally not good to make a change like that, but it would be nice to be able to actually configure your mouse with libinput... ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers @NixOS/backports (and myself apparently)::",ea83c792ffe65aa84395c032531fac0dd134f604::
https://api.github.com/repos/NixOS/nixpkgs,73763,hardening-profile::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Use scudo allocator for the hardened profile by default. Includes changes to compiler-rt to make it more compatible by default with things like man see #65000 for some details. Turning these two options off by default will prevent issues in programs from crashing the malloc, which is critical if we are replacing it as the system malloc. These options are all able to be overridden by simple environment variables even when compiled in so this should be a very safe change. I enabled the allocator zeroing by default in the hardened profile only. The buildSandbox option is currently incompatible with the hardened profile so it should be defaulted to off unless you manually re-enable both it and user namespaces. I tested in a VM using the master branch. I used the hardened profile for the guest. I used both standard llvmPackages.compiler_rt and llvmPackages_9.compiler_rt for testing and both work. I mostly tested these options affects on programs by using man but I've also noticed needing these options as an environment variable for qemu to function well. I feel like this should be backported to 19.09 so that the hardened profile can take advantage of it as was intended in #65000 for 19.09 (albeit with the graphene_malloc allocator). I feel the clang allocator has a much more stable history and should be the mkDefault here. I was unsure if and how to make the environment variable depend on the scudo allocator being the default but I do feel like it's safe to set in to profile anyway since it can be overridden easily. I wasn't sure if maintainers wanted me to apply the compatibility all the way back to 4 which does still have scudo. I included 8 because I'm not sure what is going to land as the default for 20.03 ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @joachifm @lovek323 @dtzWill @7c6f434c ::I'd think `cmakeFlags` would be a more natural place to pass this? Or does that not work?::I tried there and it ends up uninitialized::Are usernamespaces also not allowed for privileged users?::Debian (used to?) carry a patch that allowed disabling unprivileged ns only.  Vanilla kernel is all or nothing, iirc.::Should security.allowUserNamespaces imply nix.useSandbox?::> Debian (used to?) carry a patch that allowed disabling unprivileged ns only. Vanilla kernel is all or nothing, iirc. Here is the relevant debian [patch](https://salsa.debian.org/kernel-team/linux/-/blob/master/debian/patches/debian/add-sysctl-to-disallow-unprivileged-CLONE_NEWUSER-by-default.patch) > Should security.allowUserNamespaces imply nix.useSandbox? Yes probably. Ideally I would prefer to rewrite a more scoped patch for the kernel that was a restricted user namespace patch to only allow the build user group and maybe one additional group so namespaces could be used additionally by say a user wanting to benefit from giving chromium/other applications access to the user namespaces but not giving it system wide to every user. I'm more then willing to create an additional PR with the debian patch if it's desired and modify this accordingly if it helps this get merged quickly. ::",00ac71ab1932b395452209627011a32a63d81897::759968a6126a9bf4962a3ddea4eaf6466baff122::
https://api.github.com/repos/NixOS/nixpkgs,73758,backport_musl_bump::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change I think it's worth considering to backport this fix for 19.09 too, as it's rated as critical. Addresses: https://github.com/NixOS/nixpkgs/issues/73668 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @dtzWill ::",30843efc849739dcc19e8123154ef727bf469e90::
https://api.github.com/repos/NixOS/nixpkgs,73754,samba_update_security_fixes::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::,"###### Motivation for this change Addresses issue: https://github.com/NixOS/nixpkgs/issues/73682 Samba fixes overview for reference: https://www.samba.org/samba/history/security.html This should be also backported to 19.09. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @aneeshusa @dtzWill ::",0de2c3011e880d0335ad298b1db935c5823d0d4d::
https://api.github.com/repos/NixOS/nixpkgs,73590,ris-ghostscript-CVE-2019-14869-r19.09::staging-19.09,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::,"###### Motivation for this change This was originally aimed at just fixing https://nvd.nist.gov/vuln/detail/CVE-2019-14869 as a backport of #73500, the patch of course needed some adjustment and also appeared to depend on some changes made in previous commits. The answer came from debian's `9.26a~dfsg-0+deb9u6`, which has an appropriately adjusted, though not well labeled, patch series. Unfortunately I couldn't find any online source that actually hosted these individual files. Not https://sources.debian.org, not https://salsa.debian.org/printing-team/ghostscript - so I had to include the files hand-extracted from the source package, leaving them verbatim to acknowledge their source. The bonus was that this patch series also included adjusted patches for CVE-2019-3835 & CVE-2019-3838, which had previously been unpatched. Though it was a royal pain in the ass determining exactly the role of each patch in their series and which were totally necessary... ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",7350a30029e4db98433e8293cc16aefa9d479be0::0040e62f1b1ca934f90b9f359f2a3be42ab0f86b::14b5a9303c362460df0eed86e53abd118edc9aa3::
https://api.github.com/repos/NixOS/nixpkgs,73586,sec/jasper::staging,0,merged,1.severity: security::10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 2501-5000::10.rebuild-linux: 501+::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The JPEG2000 library `jasper` has many unfixed CVEs. See previous discussion in #57681 Vuln roundups: #57148, #55388 and many more before. Also [Debian sec tracker](https://security-tracker.debian.org/tracker/source-package/jasper) for it. v2.0.16 could have fixed a small subset of known CVEs but many are still open and upstream seems dead. At this point, Debian/Ubuntu, Gentoo and NetBSD removed `jasper` entirely. OpenSuSE should do it too. An [upstream issue](https://github.com/mdadams/jasper/issues/208) by an OpenSuSE maintainer sums up the situation. On DigiKam bug tracker an interested party also [shared informations](https://bugs.kde.org/show_bug.cgi?id=364231#c4) showing that `jasper` is barely on life support. So I replaced `jasper` with `openjpeg` whenever possible, otherwise I disabled JPEG2000 support by default. OpenCV situation is a little bit different because it disables jasper by default (since 3.4.6/4.1.0) and requires a deliberate runtime option to use it. See https://github.com/opencv/opencv/issues/14058 But since `jasper` will fail to eval because of `meta.knownVulnerabilities` it will prevent opencv from building. ~~Will turn it off by default in opencv too tomorrow~~ Done I don't think we will _need_ to backport this given that open CVEs in jasper are mostly memory mgmt issues (low to medium severity) and that exploitability remains unknown. But this goes in the direction of deprecating `jasper`. Hopefully by the time we release 20.03 digikam, gdk-pixbuf & co would have switched to using openjpeg instead. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @pSub @andir ::Jasper is off by default so you can just drop this line.::Yes, I wrote it that way after reading Gentoo's ebuild but you are right. I will correct it later today.::Done::This is probably transient URL and may go away with some future Debian release. File in the git repo will hopefully stay longer: https://salsa.debian.org/science-team/grib-api/raw/36e3bfa4d7e0d43b217241a73ca2cb69925e14e0/debian/patches/openjpeg2.patch::Done::",93150004326cac44a95affef39f1fba9175edc25::acd905893148adadf3e5ff080bba71cd940cf93a::ab8889d8b18aab8a80242b695256d5bcee19f8e8::0a443f4c72595d0fc1b678ad4f511429c13c8c65::9aa62321ea9c2f7a355d4c549cf1f803c0283ca8::652a178840a08527bfd41aa871820c66bd0b8c57::329270e8520820e5aebe43f78dd9a50eed4c565c::9ee141e8c4cd6b5dd3d71d9ebf9c763f97fb27ec::d2a536ff9a832c4bbeb62db081c3f42500ff9800::a13779a779d6fec1ec959c7b7a20d50fd5e13b49::9a48332935d2b1c33cc160d8ded248091dc3052e::a0d335ff39c4280456b293fb83582d7a0cc6b939::
https://api.github.com/repos/NixOS/nixpkgs,73545,magnetico-backport::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,###### Motivation for this change Backport #72012 for 19.09 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one `nixosTests.magnetico` - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @NixOS/backports @c0bw3b ::,6c6423ae12029fbd5c5eb6f80f557d0ecb82eedd::c01eda58b0fa03db32a9757064c529a20bd59fb8::728f74ef9cfd942d509c2554fbb4a47d4dfc3313::
https://api.github.com/repos/NixOS/nixpkgs,73512,fix-steam-release::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: steam::,"###### Motivation for this change backport of #73481 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",f77c439c7d27de320c4ba8cf3292461ca431255b::
https://api.github.com/repos/NixOS/nixpkgs,73490,19.09-youtube-dl::release-19.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,youtube-dl changes should be backported to the stable channels since websites break API quite often::,9777414ad89f4b926755b84b7b5c8616f78c003b::b9f8fd1e09d602b7987dce7d1886a6c05122f19c::
https://api.github.com/repos/NixOS/nixpkgs,73333,davmail_5.4.0::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change A *lot* of things changed between 5.2.0 and 5.4.0 including security fixes (should it be backported?) ``` ##DavMail 5.4.0 2019-11-11 Main new feature is experimental support for stored Oauth tokens with davmail.oauth.persistToken=true, tokens are stored encrypted with client provided password. Also improved SPECIAL-USE IMAP support and fixed a few regressions related to ExchangeSessionFactory refactoring and a lot of bug fixed from user feedback. ###Enhancements: - Add sonar target to ant build - Sonar configuration - Add sonarqube-ant-task to lib - Throw NoSuchElementException in message iterator for iteration beyond the end of the collection - InterruptedException should not be ignored - currentVersion is never null - Make AbstractConnection abstract - Update default user agent to latest version of Edge on Windows - Add .gitignore file - Update StringEncryptor to Java 8 - Update Maven and Ant build to Java 1.8 - Drop Java 7 in travis config - Add {AES} prefix to encrypted strings - Improve StringEncryptor compatibility with older jdks - Ignore stream errors on disconnect, messages cleanup - Testcase for password based string encryptor - Implement password based string encryptor - Refactor settings save to preserve comments - Force Trusty in Travis config ###Appveyor: - Appveyor: Update to ant 1.10.7 - Appveyor: test JDK 12 and 13 build ###Security: - Security: secure XML transformer - Security: Untrusted XML should be parsed without resolving external data ###SWT: - SWT: Refactor the synchronisation mechanism to not use a Thread instance as a monitor ###LDAP: - LDAP: Add a note to Thunderbird directory config on uid=username syntax ###IMAP: - IMAP: implement RETURN (SPECIAL-USE) in IMAP list command, return special folders only, fix for https://sourceforge.net/p/davmail/bugs/721 - IMAP: allow recursive search on public folders ###Carddav: - Carddav: iOS does not support VCard 4, detect its old Carddav client and send VCard 3 content, exclude unsupported distribution list items ###Caldav: - Caldav: do not try to send cancel notifications on shared and public calendars ###EWS: - EWS: allow O365Manual in headless mode - EWS: implement command line mode for O365ManualAuthenticator, as suggested in https://github.com/mguessan/davmail/issues/48 - EWS: exchangecookie is not a good check of successful authentication - EWS: detect direct EWS even if mode is different - EWS: experimental, store Oauth refresh tokens in davmail.properties when davmail.oauth.persistToken=true - EWS: fix /public and /archive folders access over EWS - EWS: improve O365Authenticator error detection - EWS: fix access to /public folder - EWS: Try to improve O365 authentication with ADFS tenants ###Documentation: - Doc: fix trusterbird link on home page ###Linux: - Linux: switch spec file to java-1.8.0 - Linux: prepare rhel8 support ###SMTP: - SMTP: fix #720 Davmail returns 503 instead of 530 when trying to send mail before authentication ## DavMail 5.3.1 2019-08-12 Bugfix release to fix NTLM authentication for some Exchange on premise instances. Also includes a new OSX handlers implementation required to support recent OSX JDKs. ###Enhancements: - Reprocess credentials in addNTLM - Use github download link instead of direct sourceforge link in About dialog - Improve ExchangeFormAuthenticator logging ###EWS: - EWS: fix possible bug with username with authenticatorClass - EWS: add an Open button to O365ManualAuthenticatorDialog in case links are not working - EWS: fix regression in OWA authentication mode, enable NTLM if required by EWS endpoint ###OSX: - OSX: comment zulufx jre embed - OSX: prepare zulufx jre embed - OSX: drop old OSXAdapter - OSX: cleanup unused methods - OSX: no need to register QuitHandler, default is fine - OSX: implement new Desktop handlers on Java 9 and later, keep compatibility with com.apple.eawt.Application ## DavMail 5.3.0 2019-08-06 Major update with a focus on O365 and MFA support, this release includes a new davmail.userWhiteList setting to filter users by email or domain. We now have a more modern responsive site thanks to new Maven skin. Migration to HttpClient 4 is in progress but not finished yet. ###Enhancements: - Cleanup from audit - Update Maven POM - Implement a new davmail.userWhiteList setting to only allow limited users and/or domains, see https://github.com/mguessan/davmail/issues/47 value is a comma separated list of emails or domains (user@company.com or @company.com) - Cleanup: remove duplicate code ###IMAP: - IMAP: additional folder test case - IMAP: Fix #714 StringIndexOutOfBoundsException with NOT UID condition - IMAP: fix https://github.com/mguessan/davmail/issues/35, Result of of a mailbox search is different between search and uid_search - IMAP: try to encode invalid character ( and ) in keywords - IMAP: fix #708 issue, more generic patch when folder name starts with a special folder name - IMAP: fix #708 issue with folder name that starts with Inbox - IMAP: encode greater than character in folder name ###HTTP: - Fix logger and remove old httpClient dependency in HttpClientAdapter - HTTP: Full Http Client 4 form authentication module - HTTP: experimental Http Client 4 authenticator - HTTP: Implement execute with custom local context and manage cookies - HTTP: cleanup from audit - HTTP: remove form authentication code from ExchangeSession - HTTP: Switch to new ExchangeFormAuthenticator - HTTP: adjust RestRequest for HttpClient 4 Exchange DAV requests - HTTP: implement HttpClient 4 Exchange DAV requests - HTTP: prepare major refactoring, extract form authentication from ExchangeSession - HTTP: migrate O365Token to HttpClient4 - HTTP: remove last dependencies to HttpClient3 in URIUtil - HTTP: set logging levels for HttpClient 4 - HTTP: improve request implementation - HTTP: move requests to new package - HTTP: improve REST request - HTTP: Accept String urls in GetRequest and PostRequest - HTTP: switch to GetRequest in getReleasedVersion - HTTP: Http Client 4 GET and POST request wrappers - HTTP: a few more test cases - HTTP: improve HttpClientAdapter interface - HTTP: switch check released version to HttpClient 4 - HTTP: implement Get and Rest requests with HttpClient 4 - HTTP: reenable basic proxy authentication on Java >= 1.8.111 in HttpClientAdapter - HTTP: reimplement URIUtil to prepare HttpClient 4 migration - HTTP: Cleanup from audit - HTTP: reenable basic proxy authentication on Java >= 1.8.111: jdk.http.auth.tunneling.disabledSchemes="""" - HTTP: Implement JCIFS NTLM authentication with HttpClient 4 ###GUI: - GUI: translate disableTrayActivitySwitch messages - GUI: merge Add davmail.disableTrayActivitySwitch to disable tray icon activity, see https://github.com/mguessan/davmail/pull/28 ###EWS: - EWS: O365Manual add mode in Settings - EWS: O365Manual enable in ExchangeSessionFactory - EWS: O365Manual missing label - EWS: add davmail.oauth.tenantId setting to GUI and documentation - EWS: create a new davmail.oauth.tenantId setting to set actual company tenant - EWS: additional cases for Microsoft account authentication - EWS: refactor O365 interactive to always use an HttpURLConnectionWrapper - EWS: Fix error handling in manual authentication failover - EWS: fix NPE in manual authenticator - EWS: do not force user agent in O365 interactive authenticator, breaks Microsoft login form browser detection - EWS: improve Okta support in O365 interactive authenticator - EWS: prepare tenant independent authenticator: do not hard code /common/ - EWS: always enable interactive authenticator in settings now that we have a failover without JavaFX - EWS: i18n manual authentication messages - EWS: Prepare a failover manual authenticator when OpenJFX is not available - EWS: merge https://github.com/mguessan/davmail/pull/26, Added input names for form authentication - EWS: do not call addNTLM in ExchangeSessionFactory to avoid kerberos configuration conflict - EWS: fix regression to correctly detect network down - EWS: fix regression, do not force user-agent in 0365 interactive authenticator - EWS: cleanup from audit - EWS: O36 authenticators cleanup from audit - EWS: use ConvertId to retrieve current mailbox primary SMTP address, more reliable than ResolveNames - EWS: migrate O365Authenticator to HttpClient 4 - EWS: remove duplicate code in O365 interactive authenticator - EWS: improve interactive authenticator, adjust integrity workaround for Okta - EWS: improve interactive authenticator, adjust integrity workaround and catch javascript errors - EWS: Apply integrity disable workaround to Okta form second step - EWS: use URIBuilder instead of URIUtil to build URI - EWS: fix support for new Okta authentication form, need to disable integrity check - EWS: drop old Autodiscover failover, need to implement before authentication instead - EWS: log connection errors in O365InteractiveAuthenticator - EWS: new AutoDiscoverMethod implementation - EWS: improve O365 token logging ###Linux: - Linux: adjust AWT tray icon for Linux Mint Cinnamon - Linux: Merge patch, add JFX_CLASSPATH when SWT3 is available - Linux: Fix spec file for copr ###Unix: - Unix: failover to xdg-open on both Linux and Freebsd ###Documentation: - Doc: fix title in page - Doc: improved site skin with collapsible sidebar - Doc: upgrade Maven Javadoc plugin - Doc: Switch to modern responsive Maven fluido skin - Doc: Switch to modern responsive Maven reflow skin ###DAV: - DAV: cleanup from audit - DAV: remove dependency to old URIException ###Caldav: - Caldav: cleanup from audit - Caldav: send 404 not found instead of 400 for unknown requests - Caldav: Do not try to update event is X-MOZ-FAKED-MASTER is set - Caldav: fix test case ###OSX: - OSX: merge patch #54 Set NSSupportsAutomaticGraphicsSwitching to Yes to prevent macOS GPU access ###SWT: - SWT: merge duplicate code ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @larkery ::",538815313cb935210f6ee0863fcb16dcefc88999::
https://api.github.com/repos/NixOS/nixpkgs,73281,steam::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: steam::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This is a backport of #73108 to 19.09: After the newest update Steam itself complained about missing files and would not start: * libva.so.2 * libva-x11.so.2 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @aanderse ::",4d114d2e600da39c298c023db06fcafe8a4658fb::
https://api.github.com/repos/NixOS/nixpkgs,73276,r19.09-guake-add-setuptools::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"guake: add missing dependency on setuptools <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/73250 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",5ab322490fdb919e15470cb1af476427d4cfb456::
https://api.github.com/repos/NixOS/nixpkgs,73185,gcc-fix-cross-whoops::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backport of #73184 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",3f74a4d066b9d3ec4a8608ddc385b329e1463652::
https://api.github.com/repos/NixOS/nixpkgs,73163,backport-qscintilla-qt4-build-fix::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"(cherry picked from commit eb1cd0d27d42f5a3d969a5a87330d1322812b09c) Fixes https://github.com/NixOS/nixpkgs/issues/73148 ###### Motivation for this change https://github.com/NixOS/nixpkgs/issues/73148 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). I have built and testes octaveFull with this backport. Everything works fine (gui + editor). ###### Notify maintainers cc @ ::",425e779c17b134c8c473a5eddd8e02525205843a::
https://api.github.com/repos/NixOS/nixpkgs,72977,appimageTools-19.09::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change I would like to nominate this change for a backport. We are having a problem with this and I think it might be worth to backport, as I have seen a number of these issues already. Number of images are missing this dependency as on most impure systems it is carried out with ```at-spi2-atk```. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @tilpner @disassembler @lheckemann @1000101 ::",cc526906d2499cab10cae85b4d642aa08cdc18f7::
https://api.github.com/repos/NixOS/nixpkgs,72958,libexif-cve-2018-20030::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::11.by: package-maintainer::9.needs: port to stable::,"###### Motivation for this change Close https://github.com/NixOS/nixpkgs/issues/70104, https://github.com/NixOS/nixpkgs/issues/57153, https://github.com/NixOS/nixpkgs/issues/56361. ###### Things done Patch for `CVE-2018-20030`. As the fix in https://github.com/libexif/libexif/commit/6aa11df549114ebda520dde4cdaea2f9357b2c89 seems to depend on https://github.com/libexif/libexif/commit/5d28011c40ec86cf52cffad541093d37c263898a, I also pulled that commit in. The fix itself alters `./NEWS` in the source tree and causes a patch failure when directly applied, so I edited that part out and saved it as `./CVE-2018-20030-2.patch`. That is a bit hacky, but the best I could come up with. Also: - Use https://github.com/libexif/libexif/commit/c39acd1692023b26290778a02a9232c873f9d71a as source for the old CVE-2017-7544.patch. The resulting patch is identical, but comes in a different format. Therefore we can skip the `patchFlags`. - Update the website, as http://libexif.sourceforge.net/ shows only a move notice. - Add erictapen as maintainer. This needs to be **backported** to `release-19.09`. - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",6310531fe2f75e535a8abc6e62adbd65bca5c904::
https://api.github.com/repos/NixOS/nixpkgs,72955,opencv-3.4.8::release-19.09,0,closed,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::,"This is a backport of https://github.com/NixOS/nixpkgs/pull/72625. Closes https://github.com/NixOS/nixpkgs/issues/70117. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @mdaiter @basvandijk ::",36feefa74592f6d9f00f3f7e1e89b3c63ab13b33::
https://api.github.com/repos/NixOS/nixpkgs,72952,u/upd-lego::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change lego 3.0.2 won't build anymore because one of the go dependencies cannot be downloaded due to the commit being missing. This should probably be backported to 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @andrew-d ::```suggestion modSha256 = ""0k3p11cji3p4nzr8aia8hp01wyx1qfx84259dwbfwg1b32ln8rkc""; ```::",0eab53f4687df6bcd131e61195a748069872a387::
https://api.github.com/repos/NixOS/nixpkgs,72925,nlohmann_json_disable_tests::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"##### Motivation for this change Should fix https://github.com/NixOS/nixpkgs/issues/72890 and https://github.com/NixOS/nixpkgs/issues/72717 Workaround for https://github.com/nlohmann/json/issues/1816 Please backport to 19.09 ASAP since the channel is blocked by this! ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7456f19b40ddd9008275e75c9258e9c3bad38f66::
https://api.github.com/repos/NixOS/nixpkgs,72916,nm-prope-merge::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"Incorrect merging of modules in https://github.com/NixOS/nixpkgs/pull/64364 resulted in dhcpcd being enabled causing flaky network connection. Fixing it uncovered an infinite recursion from the same commit, previously masked by the incorrect merge. We can just drop the `mkDefault` for `networking.wireless.enable` as it is already `false` by default. Closes: https://github.com/NixOS/nixpkgs/issues/72416 cc @laikq, @alexeymuranov ([reporters](https://github.com/NixOS/nixpkgs/issues/72416)), @JohnAZoidberg ([cause of breakage](https://github.com/NixOS/nixpkgs/pull/64364)),  @worldofpeace ([backporter](https://github.com/NixOS/nixpkgs/commit/dcc4078492574089a92fef38db8cda527b375e0f)) ::",894fdfaf1fbcdd9e584ca655a2229f62d9d7c830::
https://api.github.com/repos/NixOS/nixpkgs,72874,grass-fix1::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Fix this error: ``` checking whether to use MySQL... yes checking for location of MySQL includes... /nix/store/550i6lsdrdrank2kxq8xnv5njsxl4qf6-mariadb-connector-c-3.1.4/include/mysql checking for mysql.h... yes checking for location of MySQL library... /nix/store/550i6lsdrdrank2kxq8xnv5njsxl4qf6-mariadb-connector-c-3.1.4/lib/mysql checking for mysql_query in -lmysqlclient... yes checking for mysql_config... /nix/store/550i6lsdrdrank2kxq8xnv5njsxl4qf6-mariadb-connector-c-3.1.4/bin/mysql_config /nix/store/550i6lsdrdrank2kxq8xnv5njsxl4qf6-mariadb-connector-c-3.1.4/bin/mysql_config: unrecognized option '--libmysqld-libs' checking for mysql_server_init... no configure: warning: libmysqld not found ``` Partial correction this issue - https://github.com/NixOS/nixpkgs/issues/72772 Please backport to 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",c50b5af8d39cc4a260759d36a93d3bee09b71863::
https://api.github.com/repos/NixOS/nixpkgs,72808,ris-ghostscript-CVEs-r19.03::release-19.03,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::,"###### Motivation for this change This is a backport of #62029 and #71872. They seem to work fine, though I haven't done a full reverse dependency rebuild, I've rebuilt a number of key depending packages and they seem happy. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",6db96e97c88161be009f62015ef6a462432e8ebb::7e2ddc63cc7e21c950dcf7600dedf9090197e092::
https://api.github.com/repos/NixOS/nixpkgs,72755,org-9.2.6::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: emacs::,"Note that the update-org script couldn't be used, as it is currently broken. The upgrade was thus done by hand. I also intend to backport this, as org-mode appears to be conservative with patch-level upgrades, and the git log between the two versions is basically only backports. Please confirm that's ok with you. I have checked that the `emacs` of `nix-build -E 'with import [...]/nixpkgs {}; pkgs.emacsWithPackages (epkgs: [ epkgs.orgPackages.org-plus-contrib epkgs.orgPackages.org ])'` appears to be parsing correctly and to be parsing a file OK and to be using my org config. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @rasendubi @ttuegel ::",963fee775c05733b5ecd40fad299d551057adb86::
https://api.github.com/repos/NixOS/nixpkgs,72723,accountsservice-fix-19.09::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backports  #72400 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",e5c558783e98333c11a080233461eb071db81a44::
https://api.github.com/repos/NixOS/nixpkgs,72362,nm-fix-pppd-path::staging,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Fixes #72330 Upstream MR: https://gitlab.freedesktop.org/NetworkManager/NetworkManager/merge_requests/323 Here's a monkey patch to test it off of master * https://github.com/worldofpeace/nixpkgs/commit/e0262df4350eda2ed5a09493f48a4a22b08711f1 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Could we fetch the [backported patch](https://gitlab.freedesktop.org/NetworkManager/NetworkManager/commit/4c11364201c094ad19ab9980ea6051a82bd2a550.patch), now that it has been merged?::Was changing this before you've commented :smile: ::oop, wrong patch.::",e88fb2dca24d8cb09dd8db12a3c7cec3f74365db::d1d380729b3f498545c8f9f43117e995b5ae2494::
https://api.github.com/repos/NixOS/nixpkgs,72339,cawbird-1.0.3.1::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change simple version bump of the cawbird client. Has been done as part of some further backports for release-19.09, see the according PR for that. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS linux) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",d5c3688546da4aab0e654a001982996e086dd6ba::
https://api.github.com/repos/NixOS/nixpkgs,72278,ris-keepalived-1.4.5::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::9.needs: port to stable::,"###### Motivation for this change Patches https://nvd.nist.gov/vuln/detail/CVE-2018-19115 Also bumped to last release of 1.4.x series. Why not the newer 2.x series? I have never used keepalived and this package has no maintainer listed, so I'm being conservative, not wanting to break anything... Will probably backport the patch without the bump. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",5e8eaa676919206235d43a14aa5558030146068d::03d6145cb020aa4c782c78580d2d049b42ea5a28::
https://api.github.com/repos/NixOS/nixpkgs,72263,bump-matrix-synapse::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://github.com/matrix-org/synapse/releases/tag/v1.5.0 Please note that there's a security-relevant fix in this release: https://github.com/matrix-org/synapse/pull/6262 I'm not sure if we want to backport this minor release as well, but we should add the patch to release-19.09 at least. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",ec83cda2d51eb69b4e6863a6c7ebaf5b35860b56::
https://api.github.com/repos/NixOS/nixpkgs,72249,backport-qgis-19.09::release-19.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#chap-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change qgis is currently broken on release-19.09. This PR backports all necessary fixes to have it up to date and running. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",f2bda75493eaac7c301fefd1eb15c8b25d7d7f7b::5072e7cc0dd2253bc3759fef3be4d91bdeb959f4::bce18ad3fd88c02a5758149d44faa428ac37f03f::f5960c7d4335b2219924b12d26d394c56d7fb41c::cb8aaa15f1593baf0592a0a1d34aa130f5b18a68::1c3c88c1820f8ed0b23d05e6280c5ea546936d82::
https://api.github.com/repos/NixOS/nixpkgs,72186,ec2-19-09-amis::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"also replace /home/deploy -> $HOME to allow running the script from outside the bastion. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @NixOS/backports @edolstra ::",dc13a7f26a26b0cae49b4d79bc03db68dc463b87::
https://api.github.com/repos/NixOS/nixpkgs,72177,melpa-2019-10-24-stable::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: emacs::8.has: port to stable::,"###### Motivation for this change lua-mode issue: https://github.com/NixOS/nixpkgs/issues/71948 original PR: https://github.com/NixOS/nixpkgs/pull/71922 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @adisbladis cc @endgame who requested backport ::`nixos-rebuild switch --upgrade` still fails trying to find something with this sha. Should it really take five days for the merge to trigger a channel update?::The channels advance when Hydra builds a substantial subset of packages. (Because people hate building stuff on their computers. Especially heavy beasts like browsers, libreoffice, etc.) That's why it takes so long. This fix has already made to `nixos-19.09-small` channel—this is the channel that waits for fewer packages to build, so it usually moves faster.::Thanks for the pointer, I might move to -small for a while.::",eb0e901723070464c1c6511a92f5cd46d81b9772::
https://api.github.com/repos/NixOS/nixpkgs,72176,backport-minecraft::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of #72050 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",c4ad7d3b43f314891146bfb409d296d84b12efe5::
https://api.github.com/repos/NixOS/nixpkgs,72151,signal-desktop::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change electron needs libappindicator-gtk3 library so that it can draw indicators in gnome. ###### Things done added indicator and verified it worked on my machine. im also interested in backporting this to 19.09 <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",485479758eb55fe8629f7446ab3e29d46f4664ab::
https://api.github.com/repos/NixOS/nixpkgs,72147,keybase-gui-indicator::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change electron needs libappindicator-gtk3 library so that it can draw indicators in gnome. ###### Things done added indicator and verified it worked on my machine. im also interested in backporting this to 19.09 <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",21bbb924d61d4ac8d64296585a35d9b8a5ddc2d5::
https://api.github.com/repos/NixOS/nixpkgs,72114,openexr-cve-2018-18444::staging,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::,"###### Motivation for this change Include a security fix for CVE-2018-18444 as reported in #51460. Although 2.4.0 has been released, I decided to backport the fix as it is tiny. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) -> _minimal_ - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers _no maintainer in default.nix_ ::",448d8e04c0bb0d0ced6c8f3ff2603f27e9d827db::f58ba3c14a042c608f40cd48c76c74b40e4088ac::
https://api.github.com/repos/NixOS/nixpkgs,72113,ilmbase-cve-2018-18443::staging,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::,"###### Motivation for this change Apply patch for security problems reported in #51460. Although ilmbase-2.4.0 is available now, I decided to backport the fix as it is tiny. A package upgrade is welcome though. :-) ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) -> _minimal_ - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers _Is there a maintainer for openexr/ilmbase?_ ::",58aac5d63c6e7e5505ea84c884cc625cf64fd4cd::
https://api.github.com/repos/NixOS/nixpkgs,72109,jira-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Standard package bump, tested on my own instance. 8.5.0 is an ""enterprise release""/LTS version, so I also backported and tested this for the 19.09 branch. A subsequent PR for the backport is also open. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3eff8b1ba97d2e2127a90409dffe365730e642cd::
https://api.github.com/repos/NixOS/nixpkgs,71711,bump_apsw_for_sqlite::staging-next,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: python::,"###### Motivation for this change Bumping version of apsw to be able to backport an upstream fix for SQLite >= 3.30.0 which fixes a failing test. Proposing this for staging, as the sqlite bump and sqlalchemy fix are on it too. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @FRidh  @dtzWill ::``` hash mismatch in fixed-output derivation '/nix/store/jm798wz9r03z77lgyhbbvixlfhy81j44-13df0b57bff59542978abf7c0a440c9274e3aac3.diff': wanted: sha256:17rlp9xv1xilvb830i3iwypzg52nfylw4b8xx97jzb1c2wcpxz8k got:    sha256:1wi1mfis2mr21389wdnvq44phg0bpm5vpwmxhvrj211vwfm0q7dv ```::Hm, odd. Lemme double-check.::Well, indeed. Thanks! I wonder why that sometimes happens. I certainly have not added the file manually to the store with the wrong hash, but I did use git-prefetch-url, which seems to sometimes not work as expected.::that's why i always just change the last character, so that it's invalid and forces a cache miss :)::",b108fc8e934466523cf43c1d2e4c89e4bfb82214::
https://api.github.com/repos/NixOS/nixpkgs,71604,redmine-update::release-19.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change http://www.redmine.org/news/124 **note:** not a backport because the package(s) in `master` are being restructured and dropping version 3. PR to follow. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",7bf4f9fd95db1181708cc39594134ed27d9f0160::
https://api.github.com/repos/NixOS/nixpkgs,71602,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. - https://github.com/ytdl-org/youtube-dl/releases/tag/2019.10.22 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @bluescreen303 @phreedom @AndersonTorres @fuuzetsu @fpletz @enzime ::",f34d39d1e235f85c69326c54cf769c260282ad9d::
https://api.github.com/repos/NixOS/nixpkgs,71585,release-19.09::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,…temd-oneshot This is the backport of #71584. Fixes #71414 cc @flokli ::,26b4119730f15b66f5abab028b24175815e5af7c::
https://api.github.com/repos/NixOS/nixpkgs,71573,msodbc::master,0,merged,0.kind: bug::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::9.needs: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Partial fix for https://github.com/NixOS/nixpkgs/pull/67594. It turns out that the `isql` tool provided by the `unixODBC` package requires `openssl` to be working with `msodbcsql17`. If you run `ldd` on the `libmsodbcsql17` `.so` file from the old version compared to the new version (new and old defined by https://github.com/NixOS/nixpkgs/pull/67594) then you'll see `ldd` no longer lists `openssl`, even though `openssl` is still required for the `isql` tool to function. I'm not entirely sure about the details but `openssl` is listed as a dependency by microsoft and `isql` fails with ``` [08001][Microsoft][ODBC Driver 17 for SQL Server]SSL Provider: [OpenSSL library could not be loaded, make sure OpenSSL 1.0 or 1.1 is installed] [08001][Microsoft][ODBC Driver 17 for SQL Server]Client unable to establish connection ``` if `openssl` isn't `patchelf`'d in... so this change is necessary. **note:** `isql` is broken in `19.09` when using `msodbcsql17` and this PR requires backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @spencerjanssen as an FYI ::",18ad0a8028c48625527a790c5c2f09e7847a7840::
https://api.github.com/repos/NixOS/nixpkgs,71516,patch-1::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: port to stable::,"it was doubled please also backport to 19.09 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",590789f02367d7e24f11b912b007a2d96fca7330::
https://api.github.com/repos/NixOS/nixpkgs,71450,zabbix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change With NixOS `19.09` we offer two LTS versions and 1 regular version of `zabbix`. With the `19.09` release of NixOS I set the default version of `zabbix` to `4.2` which is not a LTS release. I *should* have selected `zabbix` `4.0` which *is* a LTS release. Unfortunately `4.2` is now end of life and users are urged to upgrade to `4.4`. See https://www.zabbix.com/life_cycle_and_release_policy for details. To correct the problem I want to backport `zabbix` `4.4` to `19.09`, though not change the default as users should have explicitly choose to upgrade. Optionally, at the discretion of the release managers @disassembler and @lheckemann I could add some `warnings` to the `zabbix` modules instructing users to upgrade to a supported version. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @mmahut @PsyanticY ::",fdee83d0fb46f326265dfa5d84de43416dac770d::
https://api.github.com/repos/NixOS/nixpkgs,71366,nm-fortissl-backport::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,Otherwise connecting simply fails: VPN connection: failed to connect: 'La création du fichier « /tmp/lib/NetworkManager-fortisslvpn/0507e3ef-f0e0-4153-af64-b3d9a025877c.config.XSB19Z » a échoué : No such file or directory' backport of #71298::,847fe167764c616625d3de6f614c589fd1478658::
https://api.github.com/repos/NixOS/nixpkgs,71298,nm-fortissl::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"Otherwise connecting simply fails: VPN connection: failed to connect: 'La création du fichier « /tmp/lib/NetworkManager-fortisslvpn/0507e3ef-f0e0-4153-af64-b3d9a025877c.config.XSB19Z » a échoué : No such file or directory' Currently the plugin is non-functional so I think a backport to 19.09 is required. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> Tested by connecting to a vpn. - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::I know it's out of scope for this change, but can we use tmpfiles?::Maybe in a later PR. I wanted this to be backportable, and thus the most simple possible fix.::can $TMPDIR be used?::why not, but honestly it does not improve anything.::",a37b9636f75a9850a792f639113b546410137b37::
https://api.github.com/repos/NixOS/nixpkgs,71271,release-19.09::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change This is a backport of a standalone service module, which is disabled by default. It enables people who need PPP connections (i.e. me :) ) to use NixOS 19.09 as a router. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",e7536956eebe505c64366c6043e63d3ec2c5434a::b4851132910143e8789337f13b595a95cb30abc7::40b18600ab30cc210c3c5674e5a5a2f60ed290a4::b563ba0b4fddf443f351571633f6951e17dd048b::
https://api.github.com/repos/NixOS/nixpkgs,71270,ris-putty-CVE-2019-17069::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change https://nvd.nist.gov/vuln/detail/CVE-2019-17069 Technically 0.73 fixes CVE-2019-17068 as well, but I'm fairly convinced that only 0.72 was ever vulnerable to that. I'll attempt to patch for 19.09 so no automatic backport please... ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",a3ea2866279eb82b79c721146583e40bea3605f2::
https://api.github.com/repos/NixOS/nixpkgs,71233,vcv-rack-glfw::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The commit we previously used of the glfw fork for Rack disappeared. See https://github.com/NixOS/nixpkgs/issues/71189 It looks like it is easier to patch out that function call, as it isn't needed on Linux. But we still need a newer version of glfw. Needs backport to 19.09, as Rack is broken there as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",66eb70321a05c0584bb1b55dcdbe5e3a1f3d24b6::
https://api.github.com/repos/NixOS/nixpkgs,71213,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. - https://github.com/ytdl-org/youtube-dl/releases/tag/2019.10.16 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @bluescreen303 @phreedom @AndersonTorres @fuuzetsu @fpletz @enzime::",5c7fb8bea95cfaec49dc3d134ceac7a66ea08b28::
https://api.github.com/repos/NixOS/nixpkgs,71203,bepasty-fix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change fix bepasty, this also needs backporting to 19.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @makefu ::",5e73d19040947d8d604189968d1b7c935e2f43c4::
https://api.github.com/repos/NixOS/nixpkgs,71183,rpi-zero-dt-fix::release-19.09,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Upstream raspberrypifw has changed ###### Motivation for this change Upstream has renamed their `.dtb` files, so `device-tree_rpi` no longer builds. This is fixed on master due to #68265 but this bit needs backporting to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @lheckemann @disassembler I think you're the right people for backports as release managers? ::",d80b685c5fe1809ed193afec186c85df10964df0::
https://api.github.com/repos/NixOS/nixpkgs,71137,smokeping-fix-permission::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This fixes a regression from bb649d96b038ab2c567439987bc182f6797bae5a. There were permission problems, when the preStart script tried to copy the smokeping.fcgi file over the old file. ``` 834fi85dzixkalmk383gp0v9ps6rd4gy-unit-script-smokeping-pre-start[1545]: cp: cannot create regular file '/var/lib/smokeping/smokeping.fcgi': Permission denied ``` ###### Things done As I don't see any reason why `smokeping.fcgi` should be writable, I replaced it with a symlink from `/nix/store`. **Warning**: If you experience this problem, applying this patch and rebuilding your system is not enough: - You need to manually remove the old file with higher privileges than `smokeping` user has. - I also needed to restart `thttpd.service`. This needs to be **backported** to `nixos-19.09`. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @cransom as they introduced the module. ::",9eb067b0d7ea796f2c7c3b8b6a870e320e90863c::b8cd11f347d6f7a9b2993553247ee774b61ff721::
https://api.github.com/repos/NixOS/nixpkgs,71062,master::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"newsboat builds fine on master/19.09 thus this commit should also be backported https://hydra.nixos.org/job/nixos/trunk-combined/nixpkgs.newsboat.x86_64-linux#tabs-status <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",fb60d59a5143e59c291a6dd8f9fa153287d08990::
https://api.github.com/repos/NixOS/nixpkgs,71051,nm-1.18.4::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Patch update is for [0], as they've backported this commit. https://gitlab.freedesktop.org/NetworkManager/NetworkManager/blob/1.18.4/NEWS [0]: https://gitlab.freedesktop.org/NetworkManager/NetworkManager/commit/c162dc00e50431f3db2f560201051c0884ebbb1a ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers @NixOS/backports ::",d7834caeb0c3fa4dbc104d11472715ff862bd4b1::
https://api.github.com/repos/NixOS/nixpkgs,70993,iwd-0.24::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change This bumps iwd to 0.22, which finally supports certificate domain matching. Switched my systems' NetworkManager wifi backend to `iwd` via ``` networking.networkmanager.wifi.backend = ""iwd""; ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @NixOS/backports for backporting::",d3c069c50d0a75a6f96311a24315bbbcf075d8ba::29ba7592096c677ed343e878b51683b5770d7255::
https://api.github.com/repos/NixOS/nixpkgs,70973,meshlab-20190129-master::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change See #70937 (backport to `release-19.09` which I wrote first) for all details. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @viric ::seems like a logging artifact, any reason of its inclusion?::seems like a prepatch phase::thanks for including the explanations for each patch::is this still needed, I'm not sure what was the motivation behind its addition::vgclib looks like a standalone library (used in few other applications) to have its own build derivation, is there a reason to keep it in the same build as meshlab?::Yes, meshlab upstream does not seem to follow a proper release process, and the other dependencies of `vcg` may no longer work when we upgrade it for the purpose of meshlab. It can often be a challenge to find the commit of `vgclib` that works with meshlab, as from observation developers seem to just push when they have a working one in their local tree; until that process is improved, I think we should use a meshlab-specific vcg here. I'll add a comment.::Seems to come from https://github.com/NixOS/nixpkgs/commit/136562adab750df73f0f646fdc679bc71dcb9a68 Without it one gets: ``` ../../external/qhull-2003.1/src/io.c:2169:3: error: format not a string literal and no format arguments [-Werror=format-security] fprintf(fp, endfmt); ^~~~~~~ ``` I'll add a comment.::Oops, will remove.::Will try::Yes, works. I've switched.::If this is the only error maybe we should just patch it and remove the `hardeningDisable`. :)::`endFmt` doesn't really seem to be a format so I guess we should just `fputs` it.::I don't want to do that, because our patches will likely create conflicts with the next update, increasing maintenance burden. You can try make an _upstream_ PR (though meshlab has lots of PRs open and they get mostly ignored while further development is done).::",f50fca7dc72ff040003c0c6b5692eb495675454a::
https://api.github.com/repos/NixOS/nixpkgs,70972,dovecot-2.3.8-19.03::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backport of #70862 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @fpletz @peti ::",e656799d695823a3407fea293db98409e1f24211::5ab20c711e7426505d866468b4a3f6c669f47802::
https://api.github.com/repos/NixOS/nixpkgs,70968,dovecot-2.3.8::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/70862 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @fpletz @peti ::",1bd0d91840e3a5a85fd3151ddec33b46249f8ead::3641789e428281f19182884859813bc90105848d::
https://api.github.com/repos/NixOS/nixpkgs,70942,block_io_propagate_setuptools::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::9.needs: port to stable::,"Used during runtime <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Should be backported to 19.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",0ed95b3fadd82ba1951a2868559b287908ca9fbb::
https://api.github.com/repos/NixOS/nixpkgs,70937,meshlab-20190129::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Note this is the backport for `release-19.09` (because I tested this first). We may or may not merge this as a backport. See #70973 for the `master` version. ###### Motivation for this change I couldn't get the existing version to run with nix on Ubuntu (it complained about the QT hook stuff from #65399), so I tried to migrate it to the QT `mkDerivation` from https://hydra.nixos.org/build/96804884/download/1/nixpkgs/manual.html#sec-language-qt; that failed with clang errors, so I tried to upgrade it, that failed with lots of file problems, so I patched it like Arch does. Now it compiles, but still doesn't run on Ubuntu (same error as #34894), so I can't test it. But maybe it works on NixOS; I wanted to share the WIP work here. Please somebody try it on NixOS. Patches Based on Arch Linux versions: https://aur.archlinux.org/cgit/aur.git/tree/PKGBUILD?h=meshlab-git&id=f7250ea818470f07dc9b86726407091d39c0be6f ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @viric ::",1fd6f4cf0ca49eb6202e8b096b16ceb496ac1ba4::
https://api.github.com/repos/NixOS/nixpkgs,70936,hakyll-4.13.0.1-release-19.09::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: haskell::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change `hakyll` is still broken on `nixos-19.09`, as https://github.com/NixOS/nixpkgs/pull/69095 was not backported. ###### Things done I removed the outdated patch and also edited `hackage-packages.nix` to bump the package and unbreak it. The update is the same that was applied in https://github.com/NixOS/nixpkgs/commit/0d67be04168552eef267c66f4c41169261fd8feb#diff-e4ed6fefa9564bfd27ee249e42e145e2R104785 to master. I know that I shouldn't edit it on `haskell-updates`, but as this branch won't see an hackage update, I think it's fine? @GrahamcOfBorg build haskellPackages.hakyll <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::```suggestion ``` This line should also be removed, otherwise hydra won't build this package.::Right, I removed the line.::",f360d67f14c31b3b3f775398a2df98a8418ca66b::
https://api.github.com/repos/NixOS/nixpkgs,70935,cawbird-1.0.2::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::9.needs: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change fixes some TLS connection issues please backport to release-19.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",b4c6764334a95dd58d4be291f3dc955ffa9ae5e8::
https://api.github.com/repos/NixOS/nixpkgs,70862,dovecot-2.3.8::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"I assume this should not be backported? <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://dovecot.org/pipermail/dovecot-news/2019-October/000419.html ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers ::",5f03f32fa6b0e20b41d8b4f22fdfc7e0ef0d8ea3::395cdd7d4c9bd768d65c41fee4bda531e8cbf0d5::
https://api.github.com/repos/NixOS/nixpkgs,70657,pr/19.09/babeld/1.9.1::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change 1.9.0 has a nasty bug that results in the babel daemon crashing. Therefore backport the bump to 1.9.1 from master. Upstream CHANGELOG: ``` 20 August 2019: babeld-1.9.1 * Fixed a crash that could happen when unicast and RTT estimation are both enabled on an interface.  Thanks to Dave Taht. * Fixed compilation under BSD.  Thanks to Dave Taht. ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @fpletz @Fuuzetsu ::would like to see `pname` and `version` be used, but it's a backport, so I think this is alright. Just wanted to make a note, but don't change it, unless someone else feels more strongly about it :)::Do you have a link where I can read up on the `pname` thing?::it's for the automatic updates using repology. Since this is a backport to a stable branch, I feel that it should reflect what is in master, otherwise here is the main link: https://github.com/NixOS/nixpkgs/issues/61691::",845dc3f8e51325120850ab7a15e21b635fc89ee0::
https://api.github.com/repos/NixOS/nixpkgs,70645,19.09-zhf-mark-broken::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: python::6.topic: qt/kde::6.topic: xfce::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::znc backported fix https://github.com/NixOS/nixpkgs/commit/cc25b7a7bd17624daf4f7f60a99f8dc8266215c0::please link https://github.com/NixOS/nixpkgs/issues/70646::backported fix https://github.com/NixOS/nixpkgs/commit/f364b997a18b29b043b169ca7083dab81c6b88ec::this package builds on the branch::oh, i forgot to be backport #70073, nevermind::probably should backport @jonringer :+1: ::We'll backport it on this branch::Thanks, removed this broken-marking :)::",372c3d82f7f9e297ec4fe72708069eafeb6b3abb::f68f0a84f4c445c42358094c8d48a2654cea7b1e::
https://api.github.com/repos/NixOS/nixpkgs,70614,fix-intecture-cli::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This was broken on unstable and release-19.09. The upstream seems unmaintained, so I've just got it into a working state in the easiest way. This should be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @rushmorem ::",f36de126dd5ce7f89cc719b8277afb8120a3987e::
https://api.github.com/repos/NixOS/nixpkgs,70490,openxr-loader-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Makes the loader able to actually function in a graphical application. Would be nice to backport this to 19.09. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",84b08c3ed8b6426fde6a20b48879edd74ee7da4b::
https://api.github.com/repos/NixOS/nixpkgs,70384,anonscm-19.09::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 101-500::8.has: documentation::,"###### Motivation for this change Partial backport of #70382 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",4b4790f28f22fd8803049ae090fb2e213fbe3fa5::3d81600b6c7ff5780ba6d9ab9a9c17d829f441f9::4b7a1231f1959f5548cc972ae3a1ea68d885f70c::d5639a07dee1bb4c125eeadfd6c256d268c15159::
https://api.github.com/repos/NixOS/nixpkgs,70368,go_1_12_disable_testgcsys::release-19.09,0,closed,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::6.topic: golang::,"###### Motivation for this change In our tests we have experienced failures of this test, but it was otherwise not reproducible so far. A backported upstream fix did not alleviate the issue either, so disabling seems workable for now. I'd suggest that we only apply this one to release-19.09 and leave master and staging as is, so that we're less likely to forget to check if the issue is fixed in newer releases. Related: https://github.com/NixOS/nixpkgs/issues/68361 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @mic92 @cstrahan @velovix @rvolosatovs @orivej ::Can this be done on the affected Arch only? I believe `i686` is the culprit.::@kalbasit: I was considering this too initially, but then thought that since we've seen this failure on x86_64 too when run on ofborg might as well just get this out of the way for the release and keep the test in on master and everywhere else to see if this stops happening with some newer version of GO. We saw such a failure when trying the upstream patch: https://github.com/NixOS/nixpkgs/pull/69359/checks?check_run_id=234367395 .::I see! Fair enough then.::",78f241d4be547c876850f6d8307ac80c7fb7bcf0::
https://api.github.com/repos/NixOS/nixpkgs,70362,gnome-shell-overides::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: GNOME::6.topic: nixos::8.has: module (update)::9.needs: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Without this these default settings overrides to gnome-shell don't appear to be used completely. I believe this might have been an issue since 3.32, so we should backport this change. ###### Things done The most obvious thing you can check for is that `edge-tiling` and `dynamic-workspaces` won't be enabled. With this change I verified the settings from the override appear to be used. ```ini [org.gnome.mutter:GNOME] attach-modal-dialogs=true edge-tiling=true dynamic-workspaces=true workspaces-only-on-primary=true focus-change-on-pointer-rest=true ``` <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",eb14b000e589417ab5a136b6f8b25984b814d84c::
https://api.github.com/repos/NixOS/nixpkgs,70338,asyncpg-fix-patch-hash::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::9.needs: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This has been broken for as long as this package has existed, on both `master` and `19.09`. This should probably be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @eadwu ::",109b4219b944c8a76caa87affdd3ebcb1484e190::
https://api.github.com/repos/NixOS/nixpkgs,70279,libtiff-cve-19.09::staging-19.09,0,merged,1.severity: security::10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"###### Motivation for this change CVE-2019-14973.patch is a manually backported of the upstream patch to work around some minor merge conflicts. #70108 (security bug) Master PR: #70277 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",172126058b6ca58d5275fc00b5abda04b546c3c3::
https://api.github.com/repos/NixOS/nixpkgs,70278,libtiff-cve-19.03::staging-19.03,0,merged,1.severity: security::10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"###### Motivation for this change CVE-2019-14973.patch is a manually backported of the upstream patch to work around some minor merge conflicts. #70108 (security bug) Master PR: #70277 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",b7eac277b3024c2adc9d5063f804a01c3faf3405::
https://api.github.com/repos/NixOS/nixpkgs,70277,libtiff-cve-master::staging,0,merged,1.severity: security::10.rebuild-darwin: 1001-2500::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"###### Motivation for this change CVE-2019-14973.patch is a manually backported of the upstream patch to work around some minor merge conflicts. #70108 (security bug) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",a2e1da7367bf2397cb0cd82a1ab6503a9c1fa5aa::
https://api.github.com/repos/NixOS/nixpkgs,70256,drop-nodejs-11_x::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::6.topic: python::8.has: changelog::8.has: clean-up::8.has: documentation::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Drops NodeJS v11 as discussed in #69008. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::The hash probably changes with different Node.js versions so it would be better to pin it to a certain release and change it everytime the version reaches EOL.::Nevermind it doesn't seem to have changed.::This has to be updated for master. We should be targeting 20.03 now.::So in your opinion this shouldn't land in 19.09? The thing is, NodeJS 11 is actually EOLed (see also  #69008).::No, entirely not my intention. I just think we should deprecate on master first and then backport it to whever we want it to be. If those target branches then are an upcoming release those should receive an appropriate changelog entry. If we would merge this now the changelog (from a master perspective) would not reflect the reality of 19.09. That is why I am saying we should update this PR to 20.03. After this has been accepted into 19.09 (by the RMs) then we should go ahead and remove the changelog entry from 20.03 since it would then no longer be true. We could also drop the message here and only add it to the backport PR. I do not like that since we do not know ahead of time if the RMs would like this kind of change this late in the process. That all being said. I think our RMs are very reasonable and will happily accept this even at this time.::+1 for backporting right away, it sucks but shipping EOL software sucks more :)::@andir as we should backport this to 19.09, I guess it should be fine to keep this in the 19.09 release notes, right? (Just talked to @lheckemann about this in person, so unless there are any further objections, I guess it should be fine to merge :))::sigh, I wish I had nixos users to talk to :(. Sad times in the states :/::",7c74ebd2a631ab52618829c367e112ed24fb97a6::334641d1127fdd90475bd128011dabc21d9b8141::594378ceeab609270541926860d7805620b39d00::
https://api.github.com/repos/NixOS/nixpkgs,70202,drop-kernels::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: clean-up::,"Quoting the release manual: > Remove attributes that we know we will not be able to support, > especially if there is a stable alternative. E.g. Check that our Linux > kernels' projected end-of-life are after our release projected > end-of-life::I think we keep the versioned name for ""latest""; @NeQuissimus backports the changes from master, and `_latest` always points to a versioned attribute, which gets dropped as needed.::Wouldn’t that mean we end up with unstable attribute names, which is what that part of the manual is trying to avoid?::It's much easier if `latest` is just a ""symlink"" to a named attribute. We could drop 5.2, I suppose... I generally keep the same kernels in stable that we have in master, except I don't add new ones unless requested. So unsupported ones go away, no new ones are added. Although I will likely bring 5.4 to 19.09 since it is probably going to be the next LTS kernel.::Just verifying, [all updates should be backported](https://github.com/NixOS/nixpkgs/issues/50412#issuecomment-439258275), considering it is sometimes necessary for new hardware to work. Anyway, yeah, this can break the workflow of someone who specifically used a versioned attribute, but this is not an issue per se. It would be an issue if there is no upgrade path to the next stable version.::Ah yes, we did discuss that :) :+1: ::Hmm. This doesn’t match at all with [this discussion](https://logs.nix.samueldr.com/nixos-dev/2019-06-24#2333952;) that prompted this PR, nor with what the manual says (added in https://github.com/NixOS/nixpkgs/pull/63735). Mentioning some people from that discussion: @domenkozar @Ekleog @grahamc @LnL7 @timokau::Hm, I previously had a discussion on the same topic, with the conclusion that backporting the latest kernels, thus ensuring dropping EOL'd kernels won't revert `_latest` to a prior version was the way to go. That was before pinging @NeQuissimus on the topic. I think we may need to revise the phrasing to drop the kernel example since we have a (de facto, I see) process to handle it. Additionally, writing down the fact that the versioned kernel attributes and kernel upgrades are to be backported would be needed, I think. And furthermore, we may want to codify the fact that the versioned kernel attributes will be dropped on EOL, both from stable and unstable when it happens. Thoughts?::I don’t think we should be providing attributes in stable that we don’t intend to exist for the lifetime of stable, and I’m surprised to learn that we are. Surely that’s the opposite of stability? The reason the kernel is the example in the manual is because the kernel was the subject of the discussion we had that led to that manual section.::(Sorry for dumping a wall of text.) I think it depends on what is defined as stable. Is it a stable API/ABI for Nixpkgs? Is it stability of [the release] of the software included? I don't think it's an ""either/or"" question. And I'm likely missing some kind of stabilities. Since stable does not mean stale, we're handling ""major upgrade"" backports to stable of some subsystems from unstable. Among those there are two main kinds, security sensitive software (e.g. browsers), and updates ""to make stuff work"" (e.g. spotify, youtube-dl) (though those examples are more service oriented). New kernel versions are of the ""to make stuff work"" kind. This is because it's been proven in the past that new stuff sometimes doesn't work right with LTS, especially when it ""skips"" a NixOS upgrade. The backports process is to cherry-pick changes from unstable, generally without changes. This is the main reason I see that the process of backporting kernel upgrades and EOL removal is fine as it is. The previous issue where I approached @NeQuissimus was to codify the approach that was observed with the previous release (18.03), and make sure that no kernel versioning regression happened. I wasn't involved with NixOS with 17.09 and prior to know whether it was the practice at that time to backport upgrades to stable that way. Though, with that said, I do appreciate the concerns on the issue of stable ABI, and disappearing attributes. It does make it harder to make a judgement call here on the issue. And with that said, pre-emptively dropping attribute names does not in itself break the codified process of bringing kernel updates to the stable branch. This is only the thought process I have had up to here. I don't have an answer or judgement or anything more concrete. I only know what has happened for the other releases up to now. * * * Partly unrelated, and likely not to be an issue, but what about the introduction of a new LTS? Should it skip having its versioned attribute added to all-packages, and only be the `_latest` in a transient manner until next LTS+1 is released? I figure here that the answer is simple ""LTS gets their versioned attribute added"". It's only tangentially related to the issue at hand, but something to keep in mind. I'm not sure if this muddies the waters.::> New kernel versions are of the ""to make stuff work"" kind. This is because it's been proven in the past that new stuff sometimes doesn't work right with LTS, especially when it ""skips"" a NixOS upgrade. That is what users could use the `_latest` kernel for. With that attribute we can provide access to the latest kernel for the latest hardware, without guaranteeing/suggesting support for any particular non-lts kernel version. If users just pin at some version that works now and then forget about it, that may lead to security issues that won't be fixed.::> And with that said, pre-emptively dropping attribute names does not in itself break the codified process of bringing kernel updates to the stable branch. Yeah, exactly!  I’m all for bringing kernel updates to stable. > what about the introduction of a new LTS? Should it skip having its versioned attribute added to all-packages, and only be the `_latest` in a transient manner until next LTS+1 is released? I figure here that the answer is simple ""LTS gets their versioned attribute added"". Yes. I’d propose the following: - When a non-LTS kernel is released, linux_latest is updated to be that kernel, but no attribute for that kernel is added. - When an LTS kernel is released, an attribute is added, and linux_latest is updated to be an alias to that attribute. That way, we end up with kernel upgrades in stable, which I think we all agree is a good thing, but we don’t end up with people writing configurations that break when they update their stable channel. I think that would also be a very good thing.::",2226dec7b11e2f30b982299f7d705640896b04c9::
https://api.github.com/repos/NixOS/nixpkgs,70193,call-hackage-cross::release-19.09,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"###### Motivation for this change backport of #70192 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",d6f1e7056067d4df513a0d1fbb1c2220ee080aa2::
https://api.github.com/repos/NixOS/nixpkgs,70170,transifex-client-setuptools::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Fix runtime error: ``` Traceback (most recent call last): File ""/nix/store/q9nlwh7ndxp7p6ivx1ac7k6w8vkhfgc4-transifex-client-0.13.6/bin/.tx-wrapped"", line 7, in <module> from txclib.cmdline import main File ""/nix/store/q9nlwh7ndxp7p6ivx1ac7k6w8vkhfgc4-transifex-client-0.13.6/lib/python3.7/site-packages/txclib/cmdline.py"", line 7, in <module> from txclib import utils File ""/nix/store/q9nlwh7ndxp7p6ivx1ac7k6w8vkhfgc4-transifex-client-0.13.6/lib/python3.7/site-packages/txclib/utils.py"", line 37, in <module> from txclib.web import user_agent_identifier, certs_file File ""/nix/store/q9nlwh7ndxp7p6ivx1ac7k6w8vkhfgc4-transifex-client-0.13.6/lib/python3.7/site-packages/txclib/web.py"", line 5, in <module> from pkg_resources import resource_filename ModuleNotFoundError: No module named 'pkg_resources' ``` This is an issue in 19.09 as well and needs to be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers ::",e8fd9a389dc09ef8bb5686b3270dbca4109c253f::
https://api.github.com/repos/NixOS/nixpkgs,70041,desktopmanager-compat::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: GNOME::6.topic: nixos::6.topic: pantheon::6.topic: xfce::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Fixes #69208 Thanks @Infinisil for being my rubber duck, turns out the `basePackages` internal option is void. The only other error is ``` error: The unique option `services.gvfs.package' is defined multiple times, in: - /alt/nixpkgs-channels/nixos/modules/services/x11/desktop-managers/lxqt.nix - /alt/nixpkgs-channels/nixos/modules/services/x11/desktop-managers/xfce4-14.nix. ``` The is because we have these definitions: ``` # for xfce4-14 services.gvfs.package = pkgs.xfce.gvfs; # for lxqt services.gvfs.package = pkgs.gvfs; ``` In this case, I think it would make sense for `pkgs.gvfs` definition to win. The xfce version just isn't built with samba, which TBH could be a defunct config at this point. I'm in favor of backporting, this probably could have broken someone's multi-de setup. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",68ab37aa4491c8f870483c9eff888dc5fc88d2c8::9bc81696957106cd5ba51be104d86cff60063620::
https://api.github.com/repos/NixOS/nixpkgs,70025,closure-size--staging-19.09::staging-19.09,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 1001-2500::10.rebuild-linux: 501+::6.topic: closure-size::,"###### Motivation for this change These are more closure size improvements for `release-19.09` because they aren't relevant toward `master`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::we actually already went a lot further with this * https://github.com/NixOS/nixpkgs/commit/e1cb839d17d7ec6bdf97624e0f1c0f0af6fb62c3#diff-b15562677b44058bddf61ce5bc1b5c20 There's other commits there that clean up dependencies etc. on master that perhaps we can backport.::I wasn't aware of that pull request, thanks! I will backport that instead, as I prefer not to diverge from master.::",3837059961e057cd49921a7ad755410be6ea8a13::ce2bb4de26ad7020b6dee7793c31d19409ebe805::686237e0a4b8c491dde135567f28df3951576485::92a51ddc8fd20a21109b15dcbbce606856c3bf73::
https://api.github.com/repos/NixOS/nixpkgs,70020,pr/tests/ferm::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The test has recently been failing due to the IPv6 address on the server still being in the tentative state, when the client sends its first request. The server will not start using the IPv6 address until DAD has completed. Scripted networking seems not to wait for DAD completion before completing network-online.target, so let's switch to networkd instead, which does. Needs a backport to 19.09, was mention in #68361. Currently not working on master due to #70007, but other than that this makes it work again. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @Mic92 ::",1fb381844029d0bfd5f3ca85577695c112ce41f1::
https://api.github.com/repos/NixOS/nixpkgs,69706,gdm-isnt-unstable::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"GDM isn't dangerous anymore in NixOS. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This doesn't make NixOS look very good  :rofl: For sure backporting. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",e4cce87fbaff0c6f13ca391f5c1d0c4760e31648::
https://api.github.com/repos/NixOS/nixpkgs,69633,backport-mucommander-69280::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change backport for #69280 Ref. #68361 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @NixOS/backports ::",c32862ddb15ac6a8dde88ae6345dc353dcf9ffb8::
https://api.github.com/repos/NixOS/nixpkgs,69533,electron-cash-wrap::master,0,merged,,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ``` qt.qpa.plugin: Could not find the Qt platform plugin ""xcb"" in """" This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem. fish: “./result/bin/electron-cash” terminated by signal SIGABRT (Abort) ``` I'll also backport this to 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @Lassulus @nyanloutre ::",0838bc0ed5718658538453f58b3698341bdc1b2e::
https://api.github.com/repos/NixOS/nixpkgs,69518,ceph-14.2.4::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change According to https://ceph.com/releases/v14-2-4-nautilus-released/ , as serious regression has been fixed. The ceph NixOS test run without errors locally. **please backport to 19.09** cc @srhb ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7a61cd29bda1fdbae148a95b593f18fa2e0ccb9f::
https://api.github.com/repos/NixOS/nixpkgs,69426,closure-size/qt::staging,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 1001-2500::10.rebuild-linux: 501+::6.topic: closure-size::6.topic: qt/kde::,"###### Motivation for this change Fixes: #69272 This removes all the `-dev` outputs from the runtime closure of Qt applications that I found by looking at the closure of the graphical installer ISO. There may yet be others, but I think this is enough to remove the blocker once backported to NixOS 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers CC: @lovek323 (SDL), @7c6f434c (spandsp), @yegortimoshenko (ibus) ::",4edb8ade3d3bf1e4ef7d8284a6a8454a530c14d3::2f623ef52798e6b292f11a0a2955235ea85911a6::459ea150e8176b9b1b81b4873cf9a77a204d5376::338742effd9b04af1a5968b18d10ae9aa27bcbe4::f012fc8f61bfacd4c04a03511708367c761eb155::0f5769df77e25a5504ec8e0b41608d625315be2a::6cbf0b4bd22017f11f25d4b44e7cfaa02f3029dc::9d35ea756e0f3e16adc56d857f32cb42569bde29::315a049f0b96bfc990816fe192de4fe41ac0d5f2::75ced8ec93fc410062cc14e1a3777ae73fcd7799::
https://api.github.com/repos/NixOS/nixpkgs,69386,kernel-initrd-and-modules-build-locally::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change morph was spending too much time building these remotely. I confirmed that it started building locally. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @thoughtpolice If accepted, please cherry-pick to 19.09 or let me know you want a backport PR.::",f1426eef1488deaf85319db942e6d85dcca3e324::
https://api.github.com/repos/NixOS/nixpkgs,69379,net-prom::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::,"###### Motivation for this change Adding these packages to add support for Prometheus in Hydra. Should be backported so Hydra can make use of them. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",cd7ed820a09a2de82e606beb6c51f010ca271d83::9005bdd4609dd26a49f7d08644f5685290d01fea::
https://api.github.com/repos/NixOS/nixpkgs,69379,net-prom::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::,"###### Motivation for this change Adding these packages to add support for Prometheus in Hydra. Should be backported so Hydra can make use of them. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",cd7ed820a09a2de82e606beb6c51f010ca271d83::9005bdd4609dd26a49f7d08644f5685290d01fea::
https://api.github.com/repos/NixOS/nixpkgs,69378,kernel-sched-debug::staging,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::6.topic: nixos::8.has: clean-up::8.has: documentation::8.has: module (update)::8.has: package (new)::,"###### Motivation for this change This makes `/proc/sys/kernel/sched_migration_cost_ns` and [other tunables](https://github.com/torvalds/linux/blob/5184d449600f501a8688069f35c138c6b3bf8b94/kernel/sysctl.c#L326) available for configuring the scheduler. These tunables are mentioned in many places around the web, and it is surprising to not have them in NixOS. I checked the Debian kernel and it enables this option. I also confirmed that the oldest kernel that nixpkgs carries (4.4) has this option. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). I booted into a 4.19 kernel with this option enabled and it seemed to work fine. `/proc/sys/kernel/sched_migration_cost_ns` became available. ###### Notify maintainers cc @thoughtpolice @delroth may also want this If accepted, please cherry-pick to staging-19.09 or let me know you want a backport PR.::",97cc421cdd8ed6cd81ed0aa0158d0db670ff14c1::
https://api.github.com/repos/NixOS/nixpkgs,69358,idrisPackages.heyting-algebra::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: clean-up::,"The functionality provided by this package has been added to the Idris contrib library (module `Interfaces.Verified`). Therefore identifiers cannot be disambiguated anymore. ###### Motivation for this change @NixOS/backports #68361 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @brainrape ::",7df8575a723abaac022fa6bbd77aba66b96631f6::8eb0413c05df225fa697d3d413bfa25158d753ce::
https://api.github.com/repos/NixOS/nixpkgs,69356,tamarin-prover::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"#### Motivation for this change tamarin-prover is packaged twice in nixpkgs: the first one taken from hackage (`haskellPackages.tamarin-prover`), the second one taken from its github repository (`tamarin-prover`). So apparently, they broke their newest release (1.4.1). The corresponding haskellPackages package is already marked as broken whereas the package from github is not. This makes hydra try evaluating it and fail. @NixOS/backports #68361 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @thoughtpolice ::",815d940e524624ec78651617b928ba58eecd6699::
https://api.github.com/repos/NixOS/nixpkgs,69254,wordpress-19.09::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,backport (just the version bump) from #69247 to 19.09 cc @aanderse thanks!::,d03904fd9fb39309db9ff77c098761bb94729773::
https://api.github.com/repos/NixOS/nixpkgs,69206,update-palemoon::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Security and bugfix update to Pale Moon. From the [release notes](https://github.com/MoonchildProductions/UXP/releases/tag/PM28.7.1_Release): > This is a security and bugfix release. > ... > - Fixed security issues: CVE-2019-11744, CVE-2019-11752, CVE-2019-11737, CVE-2019-11746, CVE-2019-11750, CVE-2019-11747 and CVE-2019-11738. > - Unified XUL Platform Mozilla Security Patch Summary: 7 fixed, 1 DiD, 1 already covered, 22 not applicable. Should prolly be backported to `release-19.09` as well. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",e987cd54a0571e90cc71e3a5d7de60e320e2e082::de469b1ec503382dcd62d79033910f96fc109bd8::0d6c6901a9fba299f06c7af84d7d18630bafa96f::
https://api.github.com/repos/NixOS/nixpkgs,69173,wrap-qt-apps/fix::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 1001-2500::10.rebuild-linux: 501+::6.topic: qt/kde::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Fixes #69171 but still should achieve what https://github.com/NixOS/nixpkgs/commit/e55db0759c42cae9b9b8784dec386ff0b1abbc11 wanted to do. I've built `zoom-us` and it's wrapped. Note that https://github.com/NixOS/nixpkgs/commit/e55db0759c42cae9b9b8784dec386ff0b1abbc11 is on 19.09. We could either revert it there or backport this. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",15e99a06a8d06f992ff4b148ee2cbeaf763a674f::
https://api.github.com/repos/NixOS/nixpkgs,69149,mono-zeroconf::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: clean-up::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change No dependencies within nixpkgs, and the package has not built successfully since 2018-04-29 according to Hydra[1]. Last upstream release was in 2009, and last upstream git commit in 2013. [1] https://hydra.nixos.org/build/100604053 @NixOS/backports if you're interested for #68361 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::```suggestion mono-zeroconf = throw ""deprecated 2019-09-20: abandoned by upstream.""; ```::I wish git commit --amend would tell me when I've forgotten to git add the change :/ sorry.::",21c92c4a1d6031121b2cf705d14230ca0feb4c23::
https://api.github.com/repos/NixOS/nixpkgs,69120,pr/piper/0.3::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change New upstream release. Piper 0.3 requires libratbag 0.10, so don't merge before #69119. Also fix GI Import error by propagating gobject-introspection as a workaround for #56943. Please backport https://github.com/NixOS/nixpkgs/pull/69120/commits/fb9b7446ee0f2e57e6819982121ac01fa15d9601 to 19.09, as it fixes the ImportError there as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @mvnetbiz ::",fb9b7446ee0f2e57e6819982121ac01fa15d9601::67844e82be499d823022aa1a742a1187800195c4::
https://api.github.com/repos/NixOS/nixpkgs,69096,backport-ntopng-69080::release-19.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,##### Motivation for this change backport for fix #69080 ::,fc26864b36eadb6921e6e54b328857ff562aff5d::
https://api.github.com/repos/NixOS/nixpkgs,69064,t/mqtt::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Closes #69017. Needs backporting to 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers Thanks @ralight. ::",6605fffa17ed224d9ccbd1d4148fd9484d0064dc::
https://api.github.com/repos/NixOS/nixpkgs,68994,pr/pythonPackages/markdown::master,0,merged,,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Currently setuptools isn't automatically propagated to python packages (https://github.com/NixOS/nixpkgs/pull/68314). This fixes the following ImportError on application startup: ``` /nix/store/qh7ndfsar3icmwqbiwcla7pc8x1133vg-python2.7-Markdown-3.1.1/bin/markdown_py README.md > README.html.new Traceback (most recent call last): File ""/nix/store/qh7ndfsar3icmwqbiwcla7pc8x1133vg-python2.7-Markdown-3.1.1/bin/.markdown_py-wrapped"", line 7, in <module> from markdown.__main__ import run File ""/nix/store/qh7ndfsar3icmwqbiwcla7pc8x1133vg-python2.7-Markdown-3.1.1/lib/python2.7/site-packages/markdown/__init__.py"", line 25, in <module> from .core import Markdown, markdown, markdownFromFile File ""/nix/store/qh7ndfsar3icmwqbiwcla7pc8x1133vg-python2.7-Markdown-3.1.1/lib/python2.7/site-packages/markdown/core.py"", line 29, in <module> import pkg_resources ImportError: No module named pkg_resources make: *** [Makefile:53: README.html] Error 1 ``` Also needs to be backported to 19.09. Also probably fixes the build of bees on 19.09 (https://hydra.nixos.org/build/100463113#tabs-summary). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",2b239b5b309db6f02fa99dea509fd67613dc69e3::
https://api.github.com/repos/NixOS/nixpkgs,68983,xfce-cleanup::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::6.topic: xfce::8.has: clean-up::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Thought to do this after a bit of user feedback in https://github.com/NixOS/nixpkgs/issues/68977 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::Should this be included only if `config.hardware.pulseaudio.enable`?::Yes. I wonder what program non pulseaudio users should use.::Yeah, but I plan to do that for 20.03 and I'd like to backport this PR.::",a8167d10f6d346e6af09ffe10b8505dd3c3cd097::5bcec7642fcfc3dec003db62f7634d811e28ed90::f85e126f8ce44e8be17807305422f8cba2991ede::f6398d8ba2729778ea0ae0a0d283335997721d26::0b73294d60c14a9865bc9317acee2f14716f4d4e::
https://api.github.com/repos/NixOS/nixpkgs,68964,astropy-fix::master,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"###### Motivation for this change `python3Packages.astropy` test fails with the latest `python3Packages.numpy`: #68361 This issue has been fixed upstream, but the latest release does not include the fix yet: https://github.com/astropy/astropy/issues/8935 Disable the tests for now so we can get `python3Packages.astropy` in 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @kentjames @NixOS/backports ::",366fba34794088aa5bd581c9d040a7610d54ad27::
https://api.github.com/repos/NixOS/nixpkgs,68891,moodle::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::9.needs: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Missed this as an oversight of initial `moodle` module, required in many cases to add often required configuration to the service. Definitely needs backport to `19.09` for the module to be of any practical use, and safe to do so because very non-impacting change (simply adds an option). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",7491f85e4faa1be03572f25787e2577bd4ac5962::
https://api.github.com/repos/NixOS/nixpkgs,68852,location-provider::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change See https://github.com/NixOS/nixpkgs/pull/64309#issuecomment-531566170 I also moved the renames from `rename.nix` to the redshift module, see https://github.com/NixOS/nixpkgs/pull/61570 ###### Things done - [x] Checked that setting `services.redshift.provider` properly sets `location.provider` while emitting a rename warning. Ping @eadwu @turboMaCk This needs to be backported to 19.09::",ecf5f85a81d9ddd5a5c40eabb0e8fba3c8ed7481::e686b39288ed84be08a878175300c05929a049d3::
https://api.github.com/repos/NixOS/nixpkgs,68708,disable-cli-helper-py2-tests::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: port to stable::,"###### Motivation for this change #68361 There's an import error with the `backports` namespace. I tried to even add the `__path__ = pkg.extend(__path__,__name)` hack to the affected backports packages, but it still didn't work (but worked using nix-shell). It was weird. Decided to just check on python3 since python2 is EOL in 3.5 months. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ``` [1 built, 0.0 MiB DL] https://github.com/NixOS/nixpkgs/pull/68708 1 package were build: python27Packages.cli-helpers ```::",b673e40c883f7ac51e7f3cde85d16cb235eb96df::
https://api.github.com/repos/NixOS/nixpkgs,68636,pythondialog::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::8.has: package (new)::,"###### Motivation for this change pythondialog is only present in a backported Python 2 version. This adds the Python 3 package. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::Can't you just combine the `pythondialog` of Python 2 and 3 in one `buildPythonPackage`? Worst case (if they are too different) just in the same file?::You can add yourself as a maintainer here if you like.::",026b43042c165d10ba011dab495877bfd6399ae1::
https://api.github.com/repos/NixOS/nixpkgs,68495,fix-qtscript::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: qt/kde::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change These were broken by the gcc8.3 upgrade, and the fix is relatively simple (they've been fixed upstream so I pull the patch) This is wanted for #68361 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @qknight @ttuegel @periklis @bkchr @NixOS/backports ::",a4ace375d27cee8d3286de2a5d97b4a08a6d96bd::4535178a3774b6e8c45fc541b9cb04207f283fc7::
https://api.github.com/repos/NixOS/nixpkgs,68491,fix-dontRecurseIntoAttrs::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::,"###### Motivation for this change - `dontRecurseIntoAttrs` didn't do what it said - it and `recurseIntoAttrs` are valid and useful outside a full nixpkgs invocation Additionally, I will soon backport *only* the `lib.recurseIntoAttrs` addition to 19.03 and 19.09. The `dont` fix might kill someone's build setup, when they have a `with lib` inside a `with pkgs`... (Reminder: avoid `with;` use `inherit`.) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::Shouldn't this comment be moved to `lib/attrsets.nix` (and adjusted) as well?::It was already there, but I'll move this to the manual instead.::I haven't touched the `pkgs.dontRecurseIntoAttrs` doc because it adds meaning that isn't in `lib`.::",8935bfb4ac3680e38a8811c12282e2026f7e82ae::fc64cf65abfd6f42910a639f7ffb996788a95797::a96f37db10fb2892d0420a7ef51c5b157d9e58dd::
https://api.github.com/repos/NixOS/nixpkgs,68432,ktorrent-update::release-19.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change #68361 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @NixOS/backports ::",6bf223c82e0e7c9cb7cb02b27a2f6cf029105dbf::
https://api.github.com/repos/NixOS/nixpkgs,68417,moodle::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://docs.moodle.org/dev/Moodle_3.7.2_release_notes Needs backport to `19.09` as this is minor release. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",cb7deb3deba5c3195ed55f540f2e9895faf1a049::
https://api.github.com/repos/NixOS/nixpkgs,68411,flaky::master,0,merged,10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Version update. This update fixes annoying bug https://github.com/box/flaky/issues/156 Might be worth backporting to 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",218a91c5a8bddc4aeb05b21a663dcdcbfb2b4c99::
https://api.github.com/repos/NixOS/nixpkgs,68370,release-19.09/fix-hadoop::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Some annotation processing depends on tools.jar, which is usually shipped with JDKs. Because we symlink JRE into the JDK, a traversal from the JRE back to the JDK becomes impossible, so some assumptions of relative paths break. For ZHF: https://github.com/NixOS/nixpkgs/issues/68361 * Tested successful build for 2.7, 3.0 and 3.1. * Tested brief execution of some of the resulting binaries (wrapping scripts calling into the jars), but not actually run any daemons Overall, the impact of this change should only be visible during the build and have no further consequences. Some logs of recently failed builds: https://hydra.nixos.org/build/100037784/nixlog/1 (2.7) https://hydra.nixos.org/build/100064140/nixlog/1 (2.8) https://hydra.nixos.org/build/100022159/nixlog/2 (2.9) https://hydra.nixos.org/build/100055839/nixlog/1 (3.0) https://hydra.nixos.org/build/100059593/nixlog/1 (3.1) <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @volth cc @NixOS/backports ::Yeah, I don't think it's needed - I was just thinking explicit would be somehow nice.::",7d4eff97c04af4d9b2609dd67a25389a94f03440::
https://api.github.com/repos/NixOS/nixpkgs,68345,railcar-fixes::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::,"The documentation was out of date because of last-minute changes to the `ociTools` API. This should probably be backported to stable to not confuse everybody ;) (I guess that means I also PR to `staging-next`?) ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @alyssais @edef1c::",e72ec381b2ef090a84985bce86d4a308b86d9c3b::
https://api.github.com/repos/NixOS/nixpkgs,68278,update-syncthingtray::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: clean-up::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Other notes Both #68277 and #68276 need to be merged for this to work.::when was this attribute added? If it's in 19.09 like this we need to backport a change. And I guess setup an alias, which is unfortunate if anyone has that in their config.::This was committed by me (`git blame` me :point_left::) in https://github.com/NixOS/nixpkgs/pull/65480.::ah ok, no worries. If you make it a separate commit and add an alias to `aliases.nix` I can backport it for you.::If you are talking about backporting the rename for me personally (as it seems I may be the only Nix user of this package) then I don't mind it at all - I can just change it in my own `nix-env`. As for other users who may have come to rely on that, I think this change won't be too bad. We've already performed such renames, e.g https://github.com/NixOS/nixpkgs/pull/65724 .::",45a33da8873bdc4023e2aa15e3a1519b76e9bead::
https://api.github.com/repos/NixOS/nixpkgs,68264,ruby_2_6::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::6.topic: ruby::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change See https://bugs.ruby-lang.org/issues/16136. This patch is on Ruby trunk, but hasn't been backported (yet?). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",9cbd7dd8a2fca6c4d3d082c05e8b4f274ef5fea1::
https://api.github.com/repos/NixOS/nixpkgs,67987,19.03/firefox69::release-19.03,0,merged,1.severity: security::10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 2501-5000::10.rebuild-linux: 501+::11.by: package-maintainer::,"###### Motivation for this change Basically a backport of #67924 Surprisingly we do not need a newer rust version this time around… Changelog: https://www.mozilla.org/en-US/firefox/69.0/releasenotes/ Security Fixes: https://www.mozilla.org/en-US/security/advisories/mfsa2019-25/ ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",e87345d6f3a43f7bc4613a36cd373f4259d25514::f8bcf6771d3de8aa18731df162f4782bcbb352e6::f5fcdb5233864ba5fe2679d4cf4a9d46485e135e::02aad1f3734a986928dd5fcc622b62725c659690::6648a036a5cf3e85bf537ef1fa13147e05f208b7::ba76e1524bb699cd0e539b79bff6cc44cc55736f::84e1bbb86597536562de249e7bb7ad6f8be89dc6::9c13037b053273c7387a899ccf8697c229ecab1f::bad6bf2e5e10e6ad7c76dca59ad5afa06896da2a::
https://api.github.com/repos/NixOS/nixpkgs,67955,dqlite-1_0_0::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change I wanted to attempt to use `dqlite`. Note that the `lxd` build is broken in this PR, we need to await a new release before merging. I don't feel comfortable backporting API changes from the master branch. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::How do I generate these values? cc @dtzWill @jokogr ::```suggestion ""PREFIX=${placeholder ""out""}"" ```::i would move the pname and version into the mkDerivation scope, and make it recursive (rec)::I prefer not to use `rec`, it sacrifices overrides for nothing but syntactical convenience.::? you can still use overrideAttrs just fine::These are the commit date and hash, so for `3.29.0+replication3` these would be: `D 2019-08-19T10:56:12` and `e131dd7676fea1a0e101bfe0f25744bc9c4f9a69` respectively ([source](https://github.com/canonical/sqlite/commit/e131dd7676fea1a0e101bfe0f25744bc9c4f9a69)). If I remember correctly, I couldn't build it or package it without setting so. Feel free to test if it works without setting those files.::These are now in the sqlite-replication upstream repo so we don't need to track them in nixpkgs.::",244dee3b44900f1b8a67f7f548ded5de9385ee36::ecbcdab11a15bae674efae5460405271f52ad486::2e8f06efce02c5b8f9ad4acb94f4c393719c8bd1::f436253cdb538b06eb3b21bd2530e5ba06c7b260::6be7853edb2c12d2a50b4d7db1b4f0b210bda51f::
https://api.github.com/repos/NixOS/nixpkgs,67869,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. - https://github.com/ytdl-org/youtube-dl/releases/tag/2019.09.01 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @bluescreen303 @phreedom @AndersonTorres @fuuzetsu @fpletz @enzime::",cbd74442b7ad505633085e59edd18f177ae28411::
https://api.github.com/repos/NixOS/nixpkgs,67806,arx::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change The crash reporter needs wrapping (#65399). The package also needs its usual update before the 19.09 release. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested execution of the game - [x] Tested the crash reporter is wrapped and works (by killing -11 the game) - [x] Tested execution of all binary files - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Btw, here's proof the crash reported is working: ![crash](https://user-images.githubusercontent.com/2817565/64132620-5b971e00-cdd1-11e9-900c-df3b8b1f2397.png) ::please change this spacing back to just a single space between the attribute and `=` to match other packages.::I have been doing this is almost all the packages I have written. It feels tidier.::Actually the nixpkg [manual](https://nixos.org/nixpkgs/manual/#chap-conventions) says attribute names should be aligned.::ping If you insist I'll revert this change, the package should be updated to fix the Qt runtime errors.::I reverted the changes since I received no reply. Hope we can merge this and backport it to 19.09 soon.::Binaries in `libexec` should be automatically wrapped. Is this a script?::No, but I had to disable the wrapping by default since it was acting on other unrelated binaries: only the crash reporter is a Qt application.::",152402b52818873c57a204c63c0a2ffa517461c5::4af7f6321e54db0964fe051326d2221cba16ac7c::
https://api.github.com/repos/NixOS/nixpkgs,67773,19.03/gitlab-12.2.3::release-19.03,0,closed,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: port to stable::,"##### Motivation for this change 19.03 backport for https://github.com/NixOS/nixpkgs/pull/67770/commits ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::for darwin, it looks like there's a different release of this, or somehow getting a different hash: ``` hash mismatch in fixed-output derivation '/nix/store/kmrla6v72mv9gjk1pm9nwi7mlnsl4qis-source': wanted: sha256:02a1z2nky31acd17q2n4pi4jkbkr6x6frfi6qlcsmfza0x0kzpc0 got:    sha256:0dfzib24a23z92jw2h3pzbl1d7m56rbf36l55mblwhx7nhan9v2g ```::Huh? @LnL7, any thoughts?::Fetching from gitlab should be the same on both darwin and linux. Maybe the used git binary behaves differently?::very odd, i know, but that's what ofborg is tripping on::doing a nix-review on my macbook yields spectacular failures all over the place from trying to build ruby packages :(::@jonringer did it previously work on macos?::looks like that's a no.... gitlab expression only supports linux. Now I'm curious as to why ofborg tried to instantiate it...::",6a1eaa34eb302350aa7fbe3d2252fcc247d810ac::bf293debdc44eccf1d3205615421a33842f1f4e6::3673dc195f22606159b57e84698666a5c0d3dfd0::67b7ba6ab208afccaf41131654d59d51eb542f0b::
https://api.github.com/repos/NixOS/nixpkgs,67485,backport/go::release-19.03,0,merged,1.severity: security::10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::6.topic: golang::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Refs https://github.com/NixOS/nixpkgs/pull/66894#issuecomment-524590191 Cherry-picked all `1.11` and `1.12` go updates from `master`. @kalbasit I was not sure if you wanted both versions to be backported or only `1.11.13` - did both, let me know if `1.12` changes should be removed. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @kalbasit ::",0b848c3e927090cc38a9de95b1ed55afabcef50a::e65062aa1f7f4ab1cc7d10726f51a96eef8b2f10::cbee67da1ef50c1f964d925f29ff28b91275554b::aa12d6382eb91a9f1e736331245ad29e277540d3::e68391e98e5e01e33b1a266719d8480d4d133475::98c0b9305dbd12686cc34b5ba67886d83436220a::ec985551ff7d5cafd84a2cf430d427de7be521ca::
https://api.github.com/repos/NixOS/nixpkgs,67253,fix-oracle-jdk::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"backport #59947 to 19.03 ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @FRidh ::",c4fa1dbf196f4f63c0024f24bcadef5d5fe4994c::
https://api.github.com/repos/NixOS/nixpkgs,67245,fix_kde_update::staging-next,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: qt/kde::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Some KDE applications are not building currently in the staging-next branch The patch is coming from here : https://github.com/tsdgeos/grantlee/commits/fix_compilation I didn't backport the upstream patch because the current master is to far away from the latest tag to apply such big patch cleanly. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ttuegel ::",620331c294c8c8a30fd73818f4e4633325e47194::e841edacc5dc50cdf004c9e2cbf934bc978bdedb::9f5f9ab7e97b068c23eb66621a16c0f69740c90e::405f6a29cac459ad879d851e01291131058e7d54::
https://api.github.com/repos/NixOS/nixpkgs,66756,libreoffice-6.3.0.4::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Two changes besides the usual update: - The disabled test is due to #19071. - The export validation flag would ideally be a backport of LibreOffice/core@80805539f6bd9b5f6229682aa187de705cb83de9, but it turns out the test on that patch is wrong – the `schema` directory is present, it's the schema files that are missing. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @7c6f434c --- Should this be backported to 19.03 as well? ::",b90c63f50df94b37b46f9757ff4477a8875e22fb::
https://api.github.com/repos/NixOS/nixpkgs,66707,flash-update::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"This should probably also be backported to release-19.03, since it prevents rebuilds with Flash enabled (#59276). ###### Motivation for this change Previous version now 404s ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). - Built packages - `nix-build -i -nixpkgs=. -A flashplayer` - `nix-build -I nixpkgs=. -o flashplayer_i686 -A pkgsi686Linux.flashplayer` - `nix-build -I nixpkgs=. -o flashplayer_debug -E ""(import <nixpkgs> {}).flashplayer.override { debug = true; }""` - `nix-build -I nixpkgs=. -o flashplayer_i686_debug -E ""(import <nixpkgs {}).pkgsi686Linux.flashplayer.override { debug = true; }""` - `nix-build -I nixpkgs=. -A flashplayer-standalone` - `nix-build -I nixpkgs=. -A flashplayer-standalone-debugger` - `nix-build -I nixpkgs=. -o chromium -E ""(import <nixpkgs> {}).chromium.override { enablePepperFlash = true; }""`::",c2d5e7931be650fbb7c400d387f1be1acd1a409a::
https://api.github.com/repos/NixOS/nixpkgs,66603,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. - https://github.com/ytdl-org/youtube-dl/releases/tag/2019.08.13 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @bluescreen303 @phreedom @AndersonTorres @fuuzetsu @fpletz @enzime ::",0ab733a9e12f1da548c1eff81a1de6a6b4645ac1::
https://api.github.com/repos/NixOS/nixpkgs,66572,keepassxc/update1::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change [Patch update](https://github.com/keepassxreboot/keepassxc/blob/2.4.3/CHANGELOG). Probably needs backport to stable, I see data loss and security fixes in [the changelog](https://github.com/keepassxreboot/keepassxc/blob/2.4.3/CHANGELOG). edit: stable is still on 2.3 though ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @jonafato The darwin patch didn't apply anymore due to minor changes and offsets, so I manually applied and regenerated it. It may need testing on darwin.::",452128816f94bee57b486739997797a41fe079db::
https://api.github.com/repos/NixOS/nixpkgs,66523,sysdig-0.26.2::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change Fixes a crash in the kernel module in kernels that use `SIG_SEND_NOINFO` with `SIGKILL`, as introduced in torvalds/linux@98af37d624ed8c83f1953b1b6b2f6866011fc064, which has been backported to kernel trees as old as 4.19.x. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @7c6f434c ::",9d151f1b7be45bfb3f07d424ee1b4be690065ac0::
https://api.github.com/repos/NixOS/nixpkgs,66439,subversion::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::9.needs: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://github.com/NixOS/nixpkgs/pull/59440 Fix for CVE-2018-11782 and CVE-2019-0203, so requires backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",ccf0499170d1f20fe42b85c17b8ae1fbaa17de87::
https://api.github.com/repos/NixOS/nixpkgs,66371,fcitxqt5::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Fixes #65547.  Should probably be backported to fix #65716 as well. Instead of replacing the paths in the files generated by cmake (which turned out to be fragile), we now just patch the source cmake files. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ericsagnes @worldofpeace @nezumi1503 ::",63ea6e95f792a192bb8220781126438ef39fa743::
https://api.github.com/repos/NixOS/nixpkgs,66331,pr/19.03/chromedriver-76.0.3809.68::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Chromium on NixOS 19.03 was updated past the range of versions supported by chromedriver 2.46, which broke Selenium. ``` selenium.common.exceptions.SessionNotCreatedException: Message: session not created: Chrome version must be between 71 and 75 (Driver info: chromedriver=2.46.628388 (4a34a70827ac54148e092aafb70504c4ea7ae926),platform=Linux 5.1.21 x86_64) ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @cillianderoiste This is a backport of https://github.com/NixOS/nixpkgs/pull/66330 to v19.03. ::",45fd93a358f6a32a4b8412456b91c12410e6b4a3::
https://api.github.com/repos/NixOS/nixpkgs,66289,fix-hedgewars-master::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"- unbreak build by bumping version to latest beta as that removes the broken `bytestring-show` dependency - beta needs to be fetched from Mercurial repo <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Hedgewars is currently broken due to depending on the abandoned and broken `bytestring-show` package. In the latest [1.0.0 Beta 1](https://www.hedgewars.org/node/8962) release that dependency has been removed. So I figure having a working beta version in nixpkgs to be better than having a broken stable release. Please also backport to release-19.03, I've tested it successfully on stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @fpletz @kragniz ::",7030004ad6e6b895ea557c7bbf31457b5602970d::
https://api.github.com/repos/NixOS/nixpkgs,66273,rm-def-for-nixpkgs.system-release-19.03::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"@edolstra, @samueldr, @sphalerite this backports https://github.com/NixOS/nixpkgs/commit/7eb332af5d6e4ed76030f84d68bb62eaca7fdac2 to `release-19.03`. Without this, building a custom installation ISO image on MacOS results in a different derivation than when it's build on my Linux-based Hydra. Even when I set the `system` parameter of `<nixpkgs>` to ""x86_64-linux"". This is happening because the `nixpkgs.system` NixOS option has the default `builtins.currentSystem` which means that the generated manual has the string ""x86_64-darwin"" on my system but ""x86_64-linux"" on Hydra. This prevents getting the image from my nix cache. Backporting this should be save because `nixpkgs.system` is [set to a default anyway in `/nixos/lib/eval-config.nix`](https://github.com/basvandijk/nixpkgs/blob/7c375966f0d7d6db2ae05039fc4ff960d831bc17/nixos/lib/eval-config.nix#L43). <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @ ::",7c375966f0d7d6db2ae05039fc4ff960d831bc17::
https://api.github.com/repos/NixOS/nixpkgs,66173,tortoisehg-mercurial::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"When I've added `tortoisehg` package, it turned out that mercurial updates sometimes broke thg. I've added a comment to `mercurial/default.nix` to update torotisehg version during mercurial updates, but this worked the other way round: mercurial stopped to be updated regularly (https://github.com/NixOS/nixpkgs/pull/60993). And sadly it didn't solve the issue - https://github.com/NixOS/nixpkgs/issues/61759. Here I'm trying to untie them. Tortoisehg will build a custom mercurial package if versions don't match. This makes updating tortoisehg more complicated, but it is still better than current situation. Fixes https://github.com/NixOS/nixpkgs/pull/66164 Unbreaks https://github.com/NixOS/nixpkgs/pull/60993 (which is probably outdated now) Needs backport to 19.03 for https://github.com/NixOS/nixpkgs/issues/61759 cc @ryantm: I think bot updates will work for mercurial, but will break for `tortoisehg`. What can I do to fix that?::",456c0ca29d588e5c2435eb305af6dd4873265091::4a0d010035f477bb4535243a014ae1233dd4523f::919216b70201c8801a040a630885383ed33f27c5::
https://api.github.com/repos/NixOS/nixpkgs,65982,release-19.03::release-19.03,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change nheko 0.6.3 from nixos-19.03 channel crashes when sending messages to V3 matrix rooms (most rooms on modern servers) thus rendering it useless. This backport fixes it. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @fpletz  @Ekleog ::",83b7f8d8f5a4f5007a70a8ce0507604fe8ceeb10::
https://api.github.com/repos/NixOS/nixpkgs,65791,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. - https://github.com/ytdl-org/youtube-dl/releases/tag/2019.08.02 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ###### Notify maintainers cc @bluescreen303 @phreedom @AndersonTorres @fuuzetsu @fpletz @enzime ::",f93ef946e529da224ef4ea0c6c996e2ea71f00ad::
https://api.github.com/repos/NixOS/nixpkgs,65790,doc::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::8.has: port to stable::,"###### Motivation for this change Currently, the doc looks like this: ![Screenshot from 2019-08-02 15-58-33](https://user-images.githubusercontent.com/91113/62375380-75c5ae00-b53e-11e9-890c-a2418960249a.png) When i execute that, i get an error: ![Screenshot from 2019-08-02 15-59-55](https://user-images.githubusercontent.com/91113/62375446-9d1c7b00-b53e-11e9-81bb-81df6860324b.png) But there is a fix in master. So i backported it. ###### Things done I build the manual as described in the docs. The results looks completely different than the online doc. ![Screenshot from 2019-08-02 16-01-59](https://user-images.githubusercontent.com/91113/62375630-069c8980-b53f-11e9-90ef-ae7d97e1ead8.png) I think it **should** be fine, but i see again that contributing to the manual is annoying and inefficient. It took me 17 minutes to check after making the commit! ###### Notify maintainers cc @ ::",1acb2510a1d637546c3725fd55e3c8dc2bb0b5a9::
https://api.github.com/repos/NixOS/nixpkgs,65595,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. - https://github.com/ytdl-org/youtube-dl/releases/tag/2019.07.30 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",7ed270b37243fe6c65789b65858107c06844c2e1::
https://api.github.com/repos/NixOS/nixpkgs,65443,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. https://github.com/ytdl-org/youtube-dl/releases/tag/2019.07.27 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5e0c5caebdac5b0cd2029b007f0c5ea34369a5f2::
https://api.github.com/repos/NixOS/nixpkgs,65318,update-moto::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: python::8.has: package (new)::,"###### Motivation for this change Partially help with #65287 backports isn't need by python3, while editing decided to: -  update the package -  add tests - groom the dependencies. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ``` # nix path-info -Sh .... /nix/store/jy0yqccn70mk7h1837rbdpvj74xfhw63-python2.7-moto-1.3.8         212.9M /nix/store/f38r2ixcjnviq5vnc3ia4vk4mxzf3353-python2.7-moto-1.3.10        214.4M /nix/store/9dyr50mfa43jbf5g84nq4svdpfl8i3fk-python3.7-moto-1.3.8         210.3M /nix/store/pgnljjwla7a9iqkd04lzh1x5pbzag872-python3.7-moto-1.3.10        211.8M ``` ``` $ ./result/bin/moto_server * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit) ```::",3cf1dccdd8d590e5f922a914b9a4364fe7bfef8d::6d8c333bb7434451210f3ae699937c3e4181b041::
https://api.github.com/repos/NixOS/nixpkgs,65316,nixpkgs_fix-moto-collision::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: python::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update jsondiff, and remove the jsondiff binary to prevent collision with jsonpatch effectively breaking the moto package. closes #65287 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- TODO: - [ ] Fix the `__pycache__/__init__.cpython-37.pyc` collision between `python3.7-backports.weakref-1.0.post1` and `python3.7-backports.tempfile-1.0`. ``` collision between `/nix/store/ns2w9qjcac97iw3j8sn1ygnmcxlhjgw8-python3.7-backports.weakref-1.0.post1/lib/python3.7/site-packages/backports/__pycache__/__init__.cpython-37.pyc' and `/nix/store/0v89qm932fmifhib68nlimwzlzr6bnyq-python3.7-backports.tempfile-1.0/lib/python3.7/site-packages/backports/__pycache__/__init__.cpython-37.pyc' ```::",c555bc38a34b899dfba66663a18c7ea343935b5e::d99c6ccecebe0723d8700d5677f699b632f56fd9::
https://api.github.com/repos/NixOS/nixpkgs,65074,gitlab-workhorse-exiftool::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Gitlab workhorse fails while processing uploaded images, because exiftool is missing on path: ``` gitlab-workhorse    time=""2019-07-19T14:02:28+02:00"" level=info msg=""running exiftool to remove any metadata"" correlation_id=d4kAAM1G1W1 filename=IMG_20190719_134641.jpg ``` @GrahamcOfBorg test gitlab cc @globin please backport this to 19.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",120b298db498f63c8f34247d5b75749ab607e088::
https://api.github.com/repos/NixOS/nixpkgs,64718,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. https://github.com/ytdl-org/youtube-dl/releases/tag/2019.07.16 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3a1111b1726c0a1aad567d8a9bbbf049b2651a14::3e4e93d72837fd2b9bd161532bc24b4ae5d70678::
https://api.github.com/repos/NixOS/nixpkgs,64648,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. https://github.com/ytdl-org/youtube-dl/releases/tag/2019.07.12 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",345843601aaa2c9fb77af316f00630f4a33a8ac6::
https://api.github.com/repos/NixOS/nixpkgs,64380,ris-graphicsmagick-1-3-32::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change Security release fixing numerous issues. See http://www.graphicsmagick.org/NEWS.html#june-15-2019 - presumably too many to assign CVEs to. Darwin requires an extra patch, which I've included as a cut-down version of https://sourceforge.net/p/graphicsmagick/code/ci/f30492f40f78d867b43422215057dd21de4ba447 - we weren't able to find an url-addressable endpoint in sourceforge that would give us a raw `.patch`, despite the heroic efforts of @samueldr . Without this, use of pngs is liable to raise a `SIGABRT` and specifically this caused `dosbox` to fail to build on darwin. As far as backporting goes - though I'm usually in favour of patching, I do imagine we're going to have to go with a full version bump for 19.03 - you just have to look at the sheer number of fixes in the release notes to see it wouldn't be practical to patch. `nox-review` build failures are the same as without the bump, tested on macos 10.13 and non-nixos linux x86_64. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",9826490d5ea330e8c0dd944e5d131b569beed247::
https://api.github.com/repos/NixOS/nixpkgs,64379,oraclejre::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"(cherry picked from commit 9e2ec2a2df26a84c02a8da3c536f4a5cd1092dca) <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change It seems that Oracle Java 8u201 isn't available anymore, so building packages on 19.03 fails. I.e.: ``` > nix run -f channel:nixos-19.03 mediathekview trace: WARNING: Public updates for Oracle Java SE 8 released after January 2019 will not be available for business, commercial or production use without a commercial license. See https://java.com/en/download/release_notice.jsp for more information. builder for '/nix/store/l09wp0d9g0l220vmsf8ywyhxfgjcnm4r-jdk-8u201-linux-x64.tar.gz.drv' failed with exit code 1; last 10 log lines: trying http://download.oracle.com/otn-pub/java/jdk/8u201-b09/42970487e3af4f5aa5bca3f542482c60/jdk-8u201-linux-x64.tar.gz % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current Dload  Upload   Total   Spent    Left  Speed 0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0 100   531  100   531    0     0    293      0  0:00:01  0:00:01 --:--:--  1206 0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0 0     0    0     0    0     0      0      0 --:--:--  0:00:05 --:--:--     0 curl: (22) The requested URL returned error: 404 Not Found error: cannot download jdk-8u201-linux-x64.tar.gz from any mirror cannot build derivation '/nix/store/kbddbimhq843aaj7rcsgh5pkl7sdkibm-oraclejre-8u201.drv': 1 dependencies couldn't be built cannot build derivation '/nix/store/j0c270s673klpfi831bv6r5mhxrz5n7c-mediathekview-13.2.1.drv': 1 dependencies couldn't be built [0 built (1 failed)] error: build of '/nix/store/j0c270s673klpfi831bv6r5mhxrz5n7c-mediathekview-13.2.1.drv' failed ``` This PR backports the upgrade to 8u211 to the 19.03 channel. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",24be3d6cf45df66c56d84047ef5c94ffe8d3c655::
https://api.github.com/repos/NixOS/nixpkgs,64327,u/elisa_stable::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Turns out some people don't have sound. As nothing else depends on elisa and having a media player without sounds is rather pointless, we should backport this. Fixes #50726 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",799a18f3dc0fd591c13230c6d54d8d351b355189::
https://api.github.com/repos/NixOS/nixpkgs,64273,switchboard-plug-pantheon-shell/fix-lightdm::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: pantheon::,"backports https://github.com/elementary/switchboard-plug-pantheon-shell/commit/e4f86df6a6be402db4c979a4b005573618b744d1 <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Setting the lightdm background with the `lightdm-gtk-greeter` was broken. This patch should have that working as expected. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",47dcdfe3a18f5ed50968a70e0811920057a07266::
https://api.github.com/repos/NixOS/nixpkgs,64271,pari::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::9.needs: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Ensured that relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING. *** I don’t actually use this software, just happened to notice it was out of date. Would appreciate a look over by somebody familiar with it. Upstream refers to this as a bug fix release, so I plan to backport to stable unless there’s some reason I shouldn’t.::",7f28628c0b0ab6f6b284e05b3739d566e138788e::
https://api.github.com/repos/NixOS/nixpkgs,64090,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. https://github.com/ytdl-org/youtube-dl/releases/tag/2019.07.02 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4f4ae9c1563b687ba3699a0c04a0f8ee5f79b8ac::
https://api.github.com/repos/NixOS/nixpkgs,63952,gnupg-sks::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::2.status: wait-for-upstream::9.needs: port to stable::,"**I’ve asked the people behind keys.openpgp.org if they’re ready to become a distro default, and am awaiting a definitive answer from them. Until then this PR should not be merged.** This is a breaking change, but I think it should still be backported to stable because the alternative is leaving people vulnerable. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change See https://gist.github.com/rjhansen/67ab921ffb4084c865b3618d6955275f. The SKS network is vulnerable to certificate poisoning, which can destroy GnuPG installations. keys.openpgp.org is a new non-SKS keyserver that is resistant to this type of attack. With such an attack being possible, it is unsafe to use SKS keyservers for almost anything, and so we should protect our users from a now unsafe default. keys.openpgp.org offers some (but not all) functionality of SKS, and is better than nothing. This default is only present in `gnupg22`. `gnupg20` and `gnupg1orig` are not affected. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",c727083e6565293c0e38f033fc1db07b187bddb0::ba23c14b842e50cb9d8a228a6007207f2c28c1fe::
https://api.github.com/repos/NixOS/nixpkgs,63908,gnome-control-center-backports::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: GNOME::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Fixes #63820 for what appears to be an issue for 19.03. https://github.com/NixOS/nixpkgs/commit/7b8aad4b71bc31044d2c68a07f06d18f7b26a77d is just another backport I thought I should do while I was here. cc  @bjornfor ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",7aba64f8ec4bd53ee508ced56481521cb5a4601f::cb716d3cb9af78f5bdaba117f25a1c0bfba23c73::
https://api.github.com/repos/NixOS/nixpkgs,63880,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. https://github.com/ytdl-org/youtube-dl/releases/tag/2019.06.27 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ce1236b74edb3d571a3cf9c886f3a8d3ea0cb912::
https://api.github.com/repos/NixOS/nixpkgs,63785,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change [Latest patch release](https://github.com/grafana/grafana/releases/tag/v6.2.5) which includes two enhancements and some bug fixes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS (x86_64-linux & aarch64-linux) - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- **needs to be backported to 19.03**::",d0683d4a878dbe357a74a92eac7fcbd4bf392da7::
https://api.github.com/repos/NixOS/nixpkgs,63766,backport-systemd-boot-configurationLimit::release-19.03,1,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::8.has: port to stable::,"Backports 224a6562a4880195afa5c184e755b8ecaba41536 with backwards compatible default. I'd like to backport this as this is blocking me using stable, as my /boot runs out of disk space. The tricky bit of python is: ```python >>> list(range(0, 10)) [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] >>> list(range(0, 10)[-0:]) [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] >>> list(range(0, 10)[-9:]) [1, 2, 3, 4, 5, 6, 7, 8, 9] ```::The meaning of the value 0 is not explained anywhere.::Does this mean it will keep the newest 120 or oldest 120, or delete configurations, or garbage collect profiles, or?::Pushed doc update::Magic values like 0 should be avoided. Maybe give it type `nullOr int`?::BTW the word ""otherwise"" implies that it *can't* run out of disk space if you do set a limit, which isn't the case.::""Maximum of configurations"" should be ""Maximum number of configurations"".::I think I've addressed all comments.::",17be62f56cce92fb6c38d9ba3e8535b37e3b75a1::
https://api.github.com/repos/NixOS/nixpkgs,63618,tomcat-9.0.21-master::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change According to this announcement: http://mail-archives.us.apache.org/mod_mbox/www-announce/201906.mbox/%3Cca69531a-1592-be7b-60ce-729549c7f812%40apache.org%3E .. both the 8.5 and 9 versions we have in nixpkgs are vulnerable. I ran the tomcat nixos test with `services.tomcat.package` set to `tomcat85` and `tomcat9`. Both tests passed locally. Not sure of the severity of the CVE. Perhaps this should be backported to 19.03 as well. @grahamcofborg build tomcat85 tomcat9 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e62883d5cfa9c6153eb708cb89def653a4035553::1fd9ac6ff67239e939d26d7381b3f5b3fa4838cb::
https://api.github.com/repos/NixOS/nixpkgs,63601,update-postgresql::staging,0,merged,1.severity: security::10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 1001-2500::10.rebuild-linux: 501+::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://www.postgresql.org/about/news/1949/ backport please ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",69f1914ab76db093626d863ffc630725591a66c3::14de736372af3d316215000c7101920f23ccfc60::0f612b8ec4beb107694df8f314505696b375932e::76d3cbb096bcc61eb00d285428b5916480b08c31::5ba133ed2ed6c47e2eff34e7332132af7a43704c::
https://api.github.com/repos/NixOS/nixpkgs,63367,django_2_1_9::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"See https://www.djangoproject.com/weblog/2019/jun/03/security-releases/ Once merged, I’ll backport it to `release-19.03`. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",13859d3fd4ce1db64ce890d04c567b8966f1af8a::
https://api.github.com/repos/NixOS/nixpkgs,63366,django_1_11_21::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: python::,"See https://www.djangoproject.com/weblog/2019/jun/03/security-releases/ Once merged, I’ll backport it to `release-19.03`. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",1a3e3345d374612aa698bf0f4fe7857662b54d91::
https://api.github.com/repos/NixOS/nixpkgs,63331,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Latest [patch release](https://github.com/grafana/grafana/releases/tag/v6.2.3) with a few bug fixes and two enhancements. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS (x86_64-linux & aarch64-linux) - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- **needs to be backported to 19.03** /cc @samueldr @lheckemann ::",adfcb014154ecf47b2a7237c931c7276c0c9242c::
https://api.github.com/repos/NixOS/nixpkgs,62767,grafana-update::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change [Latest patch release](https://github.com/grafana/grafana/releases/tag/v6.2.2) that includes a few bug fixes and a [security fix](https://github.com/grafana/grafana/pull/17363). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS (x86_64-linux & aarch64-linux) - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- **needs to be backported to 19.03** /cc @samueldr @lheckemann ::",27f3d7ae74580e0418f4bfc7f7abaaf33745f96b::
https://api.github.com/repos/NixOS/nixpkgs,62719,docker-fix-shared-layers::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change PR #58431 added /nix/store to each layer.tar. However, the timestamp was not explicitly set while adding /nix and /nix/store to the archive. This resulted in different SHA256 hashes of layer.tar between image builds. This change sets time and owner when tar'ing /nix/store. Since #58431 was also backported to 19.03, this change should probably also be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d7f3186b4818fe8c6aaa5922861ed611c7249475::
https://api.github.com/repos/NixOS/nixpkgs,62595,dropbox/fix-tray-menu::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change If dropbox can't load libappindicator, it will fallback to using the old xembed protocol. If you (or your Desktop Environment) are running something like KDE's XEmbed SNI Proxy, then you'll at least see an icon, but clicking the icon won't give you menu. Adding libappindicator to the env allows dropbox to fully integrate with contemporary status trays, while still falling back to xembed if the required DBus service is not present. This should also be backported to (at least) the `nixos-19.03` channel. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",8f9a2f1358863f6ca8abb91a5c2f148486070a88::
https://api.github.com/repos/NixOS/nixpkgs,62173,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change [Latest patch release](https://github.com/grafana/grafana/releases/tag/v6.2.1) that includes a few bug fixes and two enhancements. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS (x86_64-linux & aarch64-linux) - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- **needs to be backported to 19.03**::",129a77eb1ace1a3b526e54a705582e337bc77f25::
https://api.github.com/repos/NixOS/nixpkgs,62152,crowd-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Security update as per [upstream advisory](https://confluence.atlassian.com/crowd/crowd-security-advisory-2019-05-22-970260700.html). Fixes CVE-2019-11580. Will backport to 19.03 as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",301c7a158a707b46537d91569af8ce6c60f0f24f::
https://api.github.com/repos/NixOS/nixpkgs,62123,terraform-provider-elasticsearch-0.6.0-release-19.03::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This backports https://github.com/NixOS/nixpkgs/pull/62122. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3c389b8c8d3c71ce65fdfdad467e51e906adc754::
https://api.github.com/repos/NixOS/nixpkgs,62119,qgis_3_4_8::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Once merged, I’ll backport it to `release-19.03`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",56835a890f30c4a7ae75a749b708321ebcaf63f9::
https://api.github.com/repos/NixOS/nixpkgs,62097,intel-ocl_urlfix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::9.needs: port to stable::,"###### Motivation for this change Current source download fails with 404. File seems to be available via http**s**. This should probably be backported to 19.03? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c508d587ccc2e4713b071d46ae4890e9160d8473::
https://api.github.com/repos/NixOS/nixpkgs,62008,opensc-CVE-2019-6502::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Closes #61957 See also upstream issue https://github.com/OpenSC/OpenSC/issues/1586. ###### Things done This needs to be backported to `release-19.03`. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6ae118baeeec4584e8b88a34ad9d7a5cbddaec83::
https://api.github.com/repos/NixOS/nixpkgs,61946,terraform-0.12-release-19.03::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This backports https://github.com/NixOS/nixpkgs/pull/61939 to `release-19.03`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d13f83f4bfa37fe209a314aa5515eb23619adf36::75846175caea58761e56c954be189da47cb5c618::ad6ba0e895dce8832f47373eb04ed0cbd1323327::54a3408e7f592e826501ce384d15c3e2949e6626::
https://api.github.com/repos/NixOS/nixpkgs,61886,signal-desktop-19.03::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change signal-desktop on 19.03 complains about the version being expired, and asking to upgrade, so let's do that! We should probably always backport signal-desktop version bumps to the stable release. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b9d9811bed89ccf9a390580a140cdc46ec0e8f91::f89692fc780ae8ec5fe816c7eafb1ce99eff842b::870ed5cf08941ab3d55557a1dfedfa56c1192fb8::f10dcdf0f79cda1f80356f002091baccf1494c35::bb2ec08e3eef3e879ad41878a5627a7fe726f12d::
https://api.github.com/repos/NixOS/nixpkgs,61882,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change [Latest release](https://github.com/grafana/grafana/releases/tag/v6.2.0) with many bug fixes and quite a few improvements / new features. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS (x86_64-linux & aarch64-linux) - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Even though this release includes [a small breaking change](https://github.com/grafana/grafana/issues/16870) (the prefix/suffix options were removed for the gauge panel) I'm in favor of having this backported to stable because of the bug fixes. /cc @lheckemann @samueldr::",3871b7610c38afccf58d1b0b8b9a15be34ebe588::
https://api.github.com/repos/NixOS/nixpkgs,61864,graylog_3.0.2_backport::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"(cherry picked from commit d537c4ce4621cfe0a6ed588438a6b4a6a6ca196f) Reason: The update fixes a bug with the handling of quoted PaloAlto input values. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Equivalent of PR #61862: Bugfix for PaloAlto input: http://docs.graylog.org/en/3.0/pages/changelog.html#graylog-3-0-2 Bug also affects users on 19.03 so it should be backported (minor release, no impact on anything else expected) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",8cc317ec76cb1bbd37fc193482e320284da75a21::
https://api.github.com/repos/NixOS/nixpkgs,61795,lbdb::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::9.needs: port to stable::,"###### Motivation for this change Incorporates an upstream bux fix for the broken 0.48.1 release (undefined exec_prefix). Should be backported to 19.03 (or 19.03 should revert to 0.48). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [X] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::please fetch only the corresponding patch: ```diff diff --git c/pkgs/tools/misc/lbdb/default.nix i/pkgs/tools/misc/lbdb/default.nix index a00da33d8c9..c915f56904a 100644 --- c/pkgs/tools/misc/lbdb/default.nix +++ i/pkgs/tools/misc/lbdb/default.nix @@ -32,7 +32,14 @@ stdenv.mkDerivation { ++ optional   (khard != null) ""--with-khard"" ++ optional      (mu != null) ""--with-mu""; -  patches = [ ./add-methods-to-rc.patch ]; +  patches = [ ./add-methods-to-rc.patch +    # fix undefined exec_prefix. Remove with the next release +    (fetchpatch { +      url = ""https://github.com/RolandRosenfeld/lbdb/commit/60b7bae255011f59212d96adfbded459d6a27129.patch""; +      sha256 = ""129zg086glmlalrg395jq8ljcp787dl3rxjf9v7apsd8mqfdkl2v""; +      excludes = [ ""debian/changelog"" ]; +    }) +  ]; postFixup = ""wrapProgram $out/lib/mutt_ldap_query --prefix PERL5LIB : "" + ""${AuthenSASL}/${perl.libPrefix}"" + "":${ConvertASN1}/${perl.libPrefix}"" ``` and the commit message should be `lbdb: fix build`. Besides that, LGTM::Thanks for this, clean solution! (I'm learning every day...)::",ffbea964ad8eb9899976dbc449893935cd2020b3::
https://api.github.com/repos/NixOS/nixpkgs,61785,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. https://github.com/ytdl-org/youtube-dl/releases/tag/2019.05.20 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",075d79aab05dc5901693b8efc7341bb107c684aa::
https://api.github.com/repos/NixOS/nixpkgs,61721,matrix_synapse_0.99.4::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Please backport to 19.03::",f654606e873c43cf32ac51a7436ea03b3a586dfb::
https://api.github.com/repos/NixOS/nixpkgs,61609,devede::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::9.needs: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://github.com/NixOS/nixpkgs/issues/61578 Needs backport to 19.03 as `devede` is currently broken there as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::atm I think we're preferring just disabling `strictDeps`. https://github.com/NixOS/nixpkgs/commit/b12b1e2f42841b47b3d1e2e44078dd5b18f6d78f::wait seeing https://github.com/NixOS/nixpkgs/issues/61578#issuecomment-493285373...::@worldofpeace unfortunately `strictDeps = false;` did not fix the issue: https://github.com/NixOS/nixpkgs/issues/61578#issuecomment-493285373::Checked locally, I didn't work with `strictDeps = false;` only if it's not a `nativeBuildInputs` and didn't check that it wasn't here because I expected it to be. So adding it to `nativeBuildInputs` and disabling `strictDeps` should work.::@worldofpeace Thanks!::",a370641c08305a109c7f5a0f095809fe33bf1735::
https://api.github.com/repos/NixOS/nixpkgs,61550,sec/1903/flash::release-19.03,0,merged,1.severity: security::8.has: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change (cherry picked from commit 8be03860e40cae2292658fc789d599ce21ca6b3b) Security fixes / backport of #61540 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",45109de81eb7508f0e9d7986c6f36c6d552e0fb6::
https://api.github.com/repos/NixOS/nixpkgs,61544,packer_1.4.0::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change New version available upstream: https://github.com/hashicorp/packer/blob/master/CHANGELOG.md Would be great if we can backport it to 19.03. The commit applies cleanly on top of release-19.03 and was tested same as this one by me. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",9388ca29fc0e8b59df08a2efdec8469ed986adf0::
https://api.github.com/repos/NixOS/nixpkgs,61504,neovim-aarch64::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change `neovim` now works on `aarch64`: https://github.com/neovim/neovim/issues/7879 I've only tested this with QEMU user emulation so far (`nvim` runs fine).  I'll also backport this to `release-19.03`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",462984ef0ca05d0e74da01b803daa6891c0e7953::
https://api.github.com/repos/NixOS/nixpkgs,61500,eamsden/backport_llvm_7_crosscompile_to_6::master,0,closed,10.rebuild-darwin: 101-500::10.rebuild-linux: 11-100::6.topic: cross-compilation::,"…from llvmPackages_7.compiler-rt <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Someone noticed this: http://lists.llvm.org/pipermail/llvm-commits/Week-of-Mon-20190513/652039.html We probably want to wait for that to be resolved.::Also, I think we can use fetchpatch here as well IIRC::The patch in question is already being applied to LLVM 7 to make cross-compilation work, I merely backported it to 6 (I'm doing Haskell cross-compilation and GHC 8.6.4 needs LLVM 6.) Perhaps since this is already in place for LLVM 7 it could just be merged for LLVM 6 and then all the LLVMs could be updated with the resolution to the above thread? Also, I'm cross-compiling to ARM and have not encountered the mentioned issue with the patched LLVM v6 in this PR.::You shouldn't need clang for GHC cross compilation. LLVM should just work on its own. Are you on nixpkgs-unstable or 19.03? ::I'm using unstable, but I'm using IOHK's haskell nix infrastructure. I'm attempting to use clang as the compiler for c files included with Haskell libraries, trying to work around some issues with iserv and template Haskell during cross-compilation.::On the other hand, it took longer into the build than I expected, but that error from the mailing list did now show up. So I guess this isn't ready to be merged yet.::",b57ff99f9e0328edf1f1ac69325cda71a017d392::
https://api.github.com/repos/NixOS/nixpkgs,61354,dlang-update::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This fixes the ldc build. https://github.com/NixOS/nixpkgs/issues/61316 Also enabled the dmd testsuite for the dmd package because #56744 fixed that. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Maybe one more comment above to explain why, link to last relevant issue, and explaining it can probably be changed to default LLVM7 on update to 1.16 ?::I don't think that is necessary because it's just the bootstrap compiler which needs to use llvm5, the final ldc already uses llvm8. This bootstrap compiler needs to go away soon anyway as it is already the case that compiling ldc with that leads to a compiler without all the possible features now. Because of that I don't think the ldc developers will put a lot of effort into backporting stuff to the bootstrap branch and that would be necessary to fix that bug. I already planned to get rid of this bootstrap compiler.::",074be2ff85c3750f9c73331dc85cf76c36a8e3b3::6948e565a74f67899d6d762db33263c2d0cd4be5::
https://api.github.com/repos/NixOS/nixpkgs,61315,elk-old-upgrades-release-19.03::release-19.03,0,merged,,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This backports the bug-fix releases for the ELK stack (https://github.com/NixOS/nixpkgs/pull/61255) to 19.03. This also backports Jaka's fixes for the `elasticsearchPlugins` (https://github.com/NixOS/nixpkgs/pull/61045) with an additional commit that adds the old `elasticsearchPlugins.elasticsearch_analysis_lemmagen` attribute to keep compatibility with 19.03. CC @offlinehacker ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f913871a75d94f20b6acf0c4efdcaf26209ad0da::5866190c45437825df04666f382f233ec7d1670d::e01fd40ef19cd0771bad5389c942f794abfc4442::07f649b8fe48391b9fb161a1685842f8a93d9537::
https://api.github.com/repos/NixOS/nixpkgs,61264,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::9.needs: port to stable::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. https://github.com/ytdl-org/youtube-dl/releases/tag/2019.05.11 *NOTE*: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",17b3c055cd73c7272fdad640942e2b0436612b69::
https://api.github.com/repos/NixOS/nixpkgs,61241,elk-7.0.1-release-19.03::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This backports: https://github.com/NixOS/nixpkgs/pull/61185 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4ff7faba5b35b194190215c7094c430b9e761347::
https://api.github.com/repos/NixOS/nixpkgs,61237,journalbeat-fixes::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The `services.journalbeat` NixOS module only supported the old and deprecated version 5 of journalbeat. This PR minimally modifies that module to also support journalbeat >= 6. It also extends the ELK testsuite with tests for journalbeat. In that process a few bugs where discovered in the journalbeat packages which have subsequently been fixed. The intention is also to backport this to 19.03 since that release already has the journalbeat >= 6 packages but not the fixed module. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6f0a6bfc60206bfadb5e75cf106ca584355de590::42f357d1aca9bd1cbb21880f28f1b9e0387ada56::42c9c6df73a1813fd485a5ec731b621ed8371989::a662f991392effcc5679d391ca5fcc373f225a2e::477c552c7d70135819e8b3c04860336abeb7e811::
https://api.github.com/repos/NixOS/nixpkgs,60954,fix/network-online-actually-online-with-networkmanager::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::9.needs: port to stable::,"###### Motivation for this change Services relying on `network-online.target` were running before the network was ready, every time. Looking at why this was happening, it seems our `network-online` had no actual dependency on the appropriate connectivity check when using networkmanager, namely `NetworkManager-wait-online.service`. (we get this right for configurations using networkd, I believe) Looking at networkmanager's provided service `etc/systemd/system/NetworkManager-wait-online.service` there's a `WantedBy` in `[Install]` that should be accounted for. Running this command before/after the included commit should help see the difference: (this is after:) ``` $ systemctl show -p Wants,After network-online.target Wants=NetworkManager-wait-online.service After=network.target NetworkManager-wait-online.service ``` Now my services don't all complain when trying to run just a tiny bit too early in my boot :). If there's agreement this is the correct configuration please 'backport' to at least 19.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",45886612f0c2292463509c48c01369268d939f1f::
https://api.github.com/repos/NixOS/nixpkgs,60657,backport-testssl-upgrades::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Changelog: https://github.com/drwetter/testssl.sh/releases/tag/v2.9.5-8 (cherry picked from commit 4fbde5bb370ce76312110a5d8238a300f0971f41) This is a backport of parts from #60183 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4323cf27c08fd0da3348565590c1413c2c57813b::
https://api.github.com/repos/NixOS/nixpkgs,60645,km-androidndk-fixes-backport-19.03::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: stdenv::,"This backports https://github.com/NixOS/nixpkgs/pull/59253 and https://github.com/NixOS/nixpkgs/pull/59743, along with https://github.com/NixOS/nixpkgs/commit/ead13a3acaba83b0b7409f0c37c64239d0abfd74 which is necessary for LLVM. ###### Motivation for this change This works on 18.09 and master but not 19.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> ``` nix-build -A hello --arg crossSystem '(import ./lib).systems.examples.armv7a-android-prebuilt' ``` - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",7fdf74bb932e479f6f68760fb1472967adad9aa4::fcbe865414256c3e03c02926e5592e24c5be801b::54b18fff9ab833e334bd76366606251e20ef4b1a::9e1dd3b7c6453728792eb4adebd3fa4282d7f24d::f07df17b74a1d47549d310cb2f50d3627be3030c::2529c0ccda944e0cf06499ec4823430a206d42d4::
https://api.github.com/repos/NixOS/nixpkgs,60635,19.03/virtualbox-5.2.28::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/60397 ``` This is a maintenance release. The following items were fixed and/or added: User interface: do not change the file and path name when changing the export file format (bug #18476) User interface: fixed operation progress when deleting snapshots Network: fixed unwanted padding bytes in Windows host adaptor network packets (bug #18202 and bug #18355) Windows host: fix unwanted wake-ups from standby (bug #18549) Windows host: disallow Pause as a host key (bug #18482) Linux host and guest: support Linux 5.0 and 5.1, thank you Valdis Kletnieks (see also bug #18515) Linux host: support kernel 4.4.169 (bug #18315) Linux host: fix logging when building Linux kernel modules (bug #18226) Linux host: clarified building Linux host drivers with secure boot (bug #18312) Windows guests: fixed running applications which use complex display topologies with WDDM driver, fixed Skype for Business hangs (bug #17092) ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",46213946c7d3d3ad08749e7f508f78ec1d07dfe8::
https://api.github.com/repos/NixOS/nixpkgs,60466,update-runc::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Bump runc to latest security release : see [release note](https://github.com/opencontainers/runc/releases/tag/v1.0.0-rc8). Needs to be backport to 19.03 and maybe 18.09 ? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c64087b4a3eb736bd58b4f09729d95c15204cf3d::
https://api.github.com/repos/NixOS/nixpkgs,60450,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. https://github.com/ytdl-org/youtube-dl/releases/tag/2019.04.30 **NOTE**: Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",860e1d38a819bec8e8606606c776a6339134c45d::
https://api.github.com/repos/NixOS/nixpkgs,60426,grafana-security-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Recent [patch release](https://github.com/grafana/grafana/releases/tag/v6.1.6) which includes a fix for CVE-2018-19039 as described [here](https://grafana.com/blog/2019/04/29/grafana-5.4.4-and-6.1.6-released-with-important-security-fix/). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS (x86_64-linux & aarch64-linux) - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- **Needs to be backported to 19.03** /cc @samueldr @lheckemann ::",5be7fd4d8674142a694ef8dca6c31652622cc914::
https://api.github.com/repos/NixOS/nixpkgs,60408,soundkonverter-backport::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: package (new)::,"###### Motivation for this change backport of #57793 to stable ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files after installing into an environment using `nix-env -f ~/src/nixpkgs/default.nix -iA soundkonverter` - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e028941c42d5c07a05caf271615a718f3100d616::
https://api.github.com/repos/NixOS/nixpkgs,60402,f/wol_stable::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/60310 Cc: @Mic92 @makefu ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",58f55edc132825e9229019fe506ee0b170b0c45d::
https://api.github.com/repos/NixOS/nixpkgs,60392,update/leptonica-1.78.0::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change Multiple CVE's, see 1.77.0 notes. http://www.leptonica.com/source/version-notes.html Assuming the CVE's impact the version we're using now, this should be backported please :). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",51492262b8eb7ad4fac2f6087398451d43d5be9d::
https://api.github.com/repos/NixOS/nixpkgs,60249,update/bind-9.12.4-P1::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change https://www.openwall.com/lists/oss-security/2019/04/25/1 CVE-2018-5743, CVE-2019-6467, and CVE-2019-6468 * **backport** * **security** We may want to move to 9.14.1 since 9.12 EOL was May apparently, but since patches didn't apply and it's late I'll leave that for another time or someone else :). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Let's make sure this builds on aarch (or at least doesn't newly fail) since the linked thread (see commit) has someone mentioning an issue.::",f0f081d3b485f350134bef994fb9dbb0490bad09::
https://api.github.com/repos/NixOS/nixpkgs,60217,home-assistant-0.92::staging,0,merged,10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::6.topic: nixos::6.topic: python::8.has: clean-up::8.has: module (update)::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://www.home-assistant.io/blog/2019/04/24/release-92/ This was a complex update due to home-assistant/home-assistant#22699. The `parse-requirements.py` script needed quite some changes to account for the new `manifest.json`. But the new code turned out shorter than the old one. I also have completely rewritten the code that accounts for the `platform = ""component""` way of configuration. The respective commit (d280603bd18cb27ce2e6bf6a0f8a163d8568214f) should be backported. This will make it rather useless to use `autoExtraComponents` with a pre-0.92 version of Home Assistant. Is this something that should be possible? Due to the extensive changes, I invite everyone to test thoroughly. Please bear in mind that you will need to apply d280603bd18cb27ce2e6bf6a0f8a163d8568214f to your nixpkgs checkout if you build your system from one of the release channels. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @netixx ::",68113d72585d1282b936bfe231d974bfe94d6525::cf65abe85a65f351fdb95e8da93d4118f7959728::d050b87c4654557a16f0b233970c7ba82ba63547::342877b4438c821518a0f4562ee3c51ef059b9d3::ef556c73fb3f01b136c980e52f9be72c8fff0741::3c4ec19cb6d86962dabb73f3a260db88fdecc7e9::4d607a5ac9442323ff9dc96990b261f11e4fff54::d280603bd18cb27ce2e6bf6a0f8a163d8568214f::7e09b531ae81c83f613b8a8f30eca5adef23fa64::
https://api.github.com/repos/NixOS/nixpkgs,60197,patch-gitea-generated-config::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change This was discovered in https://github.com/NixOS/nixpkgs/pull/60014 If this works as I expect I think we should backport #60014 to stable together with this fix, to get the security fixes over there at stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @ajs124 @srhb ::",71450b1c1a2ee2d32fa642316061df6cc53a8d49::
https://api.github.com/repos/NixOS/nixpkgs,60183,testssl-upgrades::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: clean-up::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change These updates aren't really in sequence as the numbers would suggest, but I decided to update and clean it up a bit to latest 2.9.5-8 and then to 3.0rc4. Changelog: https://github.com/drwetter/testssl.sh/releases/tag/v2.9.5-8 Changelog: https://github.com/drwetter/testssl.sh/releases/tag/3.0rc4 The reasoning for this is that I'm going to backport 2.9.5-8 to stable and then have unstable upgraded to 3.0rc4. Upstream have stressed for a while that 3.0 is the new supported series but I think our stable can be fine on 2.9.5-8 for the rest of the lifetime. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4fbde5bb370ce76312110a5d8238a300f0971f41::cc05b7328612e53cc67ecf3bc1bdb52d260005c3::329b31515e726fe2cdb8a1e76671a063a2cb059e::
https://api.github.com/repos/NixOS/nixpkgs,60141,update/youtube-dl::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update `youtube-dl` to the latest release. https://github.com/ytdl-org/youtube-dl/releases/tag/2019.04.24 NOTE:  Updates to `youtube-dl` should be backported, thanks! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e452aa0de702738f6d828df1c1f4ef928548a554::
https://api.github.com/repos/NixOS/nixpkgs,60095,update-buildah::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Bump to latest minor release : [changelog](https://github.com/containers/buildah/releases/tag/v1.7.3). Will need to be backport to 19.03 I think :thinking: ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5d2aaffef3deda035c4700bab8cd7b37ce91ba52::
https://api.github.com/repos/NixOS/nixpkgs,60092,fix-opeblas-avx::staging,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change The AVX512 optimization has a bug in openblas-0.3.5 and can also lead to slower code on Xeon Silver CPUs. Closes https://github.com/NixOS/nixpkgs/issues/59708 Needs backport to 19.03 ###### Things done I checked the fix by running a benchmark test on NixOS 19.03 with the modified make flags on a Xeon Silver 4114 system. The tests that previously failed (see https://github.com/xianyi/OpenBLAS/issues/2029) are now working. Performance is now comparable a fixed target version with `DYANMIC_ARCH=0` and `TARGET=HASWELL`, which is expected. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",7035aa7de4fa8668b6d7feab7b1ed58015689d09::
https://api.github.com/repos/NixOS/nixpkgs,60074,18.09/gitlab-11.9.8::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/60061 CVE-2019-10640, https://about.gitlab.com/2019/04/10/critical-security-release-gitlab-11-dot-9-dot-7-released/ (CVE-2019-11000) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ee048f20b4b1bac1fc51fab32520ebbe404caaac::aaa5ecf5a3449075966f7a74dd4b997486f66ea9::c6d78acb79d2d7ac8033f4783dc1483c69df8341::
https://api.github.com/repos/NixOS/nixpkgs,60073,19.03/gitlab-11.9.8::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change backport of https://github.com/NixOS/nixpkgs/pull/60061 CVE-2019-10640, https://about.gitlab.com/2019/04/10/critical-security-release-gitlab-11-dot-9-dot-7-released/ (CVE-2019-11000) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6df0af888ac481ef0b16ea62766731d37793c0d9::42ea5c816cd7ab89ca52465ac9f0f5a87a0707b8::3a8e9901b57f28c15c69c20a7e4934fdc143967a::
https://api.github.com/repos/NixOS/nixpkgs,59968,fix-guake::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change `StrictDeps` breaks guake (see https://github.com/NixOS/nixpkgs/issues/56943). Closes https://github.com/NixOS/nixpkgs/issues/59930 Needs backport to 19.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) Tested on NixOS 19.03 - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",184f7f2ad857fef2bb1992d2018329b37c8ff9f0::
https://api.github.com/repos/NixOS/nixpkgs,59964,writers::release-19.03,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"(cherry picked from commit ea9161e0955fd9fcc330471464f24ebc4aedaae1) ::gnufind also supports the following: ```suggestion concatMapStringsSep "" "" (pkg: ""$(find ${escapeShellArg pkg}/lib/pkgsconfig -name \*.pc -printf ""%f"")"") libraries ```::ah cool! since this is a backport I will open a new PR with the suggested changes?::Yeah that sounds good, make a PR for the suggestions for master and add the commit to this PR as a cherry-pick as well::",74c27471bfdfccfd29f8555ca1cf177ad30c30a0::
https://api.github.com/repos/NixOS/nixpkgs,59926,oci8-bump::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change php73Packages.oci8 is broken on 19.03 as php7.3 is broken in oci8 2.1.8 according to upstream. The 2.2.0 has addressed this problem. This should be backported to 19.03 as well as it is break fix. Note: This package depends on a non-free package and requires an external download + an account. ###### Things done I have successfully built php71Packages.oci8, php72Packages.oci8, php73Packages.oci8, php71Packages-unit.oci8, php72Packages-unit.oci8, and php73Packages-unit.oci8 against this PR, and have tested the new version of oci8 on php 7.1 and 7.2 on 18.09. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ping @etu & @Ma27::",0547dc13cadc059292ed22288d7986baf5d06f47::
https://api.github.com/repos/NixOS/nixpkgs,59913,sounddevice-0.3.13::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change v0.3.12 was broken because the outdated patch didn't apply anymore. I upgraded it to 0.3.13 and updated the patch. Fixes #59909 Should probably be backported to 19.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",29ad469b43b6b8b4a57143a16b063f277ca1ba43::
https://api.github.com/repos/NixOS/nixpkgs,59880,matrix-synapse-identity-servers::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change the servers are equivalent and synchronized, but Riot defaults to use vector.im which leads to a nondescribing 401 error message when registering third party identifiers. This adjusts the NixOS default to the upstream default: https://github.com/matrix-org/synapse/blob/v0.99.3/docs/sample_config.yaml#L701 I think we should backport this to 19.03 for out of the box compatibility between a NixOS synapse installation and Riot, and as both servers are run by the same operators and contain the same data, I would consider this backward-compatible. Maintainers: @ralith @roblabla @ekleog  @pacien ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",34aa25b8dc8e3299e7e5d8e3ad78d0a191d7ad80::
https://api.github.com/repos/NixOS/nixpkgs,59861,libapreq2::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://github.com/NixOS/nixpkgs/issues/59773#issuecomment-484732464 > libapreq2 is made up of a c library, a perl module, and an apache module. In nixpkgs libapreq2 does not include the perl or apache modules. This change adds a perl module and an apache module, while leaving the existing c library completely untouched so is fine to backport to 19.03 as well. ###### Things done I have tested the perl and apache modules included in this new `libapreq2` build with some existing code which has been running on Debian servers for years now. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2f25d58fc8d6e0edaceb6767efc588b4e0280b3d::
https://api.github.com/repos/NixOS/nixpkgs,59848,ec2-fix-resize2fs::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,backporting https://github.com/NixOS/nixpkgs/pull/57633 to 19.03.::,74ef29ec386f127f029c959831150d2d767984a2::
https://api.github.com/repos/NixOS/nixpkgs,59832,prometheus-pushgateway-module-release-19.03::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change I would like to use the latest prometheus pushgateway on NixOS. So this backports the following PRs to `release-19.03`: * https://github.com/NixOS/nixpkgs/pull/55982  `prometheus-pushgateway`: 0.4.0 -> 0.7.0 * https://github.com/NixOS/nixpkgs/pull/59608: `prometheus-pushgateway`: 0.7.0 -> 0.8.0 * https://github.com/NixOS/nixpkgs/pull/59676: adds the `services.prometheus.pushgateway` module. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ae140521612fbdf0c4d4f1347745a0a768eb0789::a3178b02f9682ce3a8903f6407ac1930ff8de459::5776161ae977bdc490302601aeb4cd10a7b8fd1e::
https://api.github.com/repos/NixOS/nixpkgs,59796,python-redeterministic::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: python::,"###### Motivation for this change Originally introduced in #22585, patches to lock down CPython bytecode mtime timestamps were lost in #53123 when the CPython version files were merged, likely due to CPython 3.7 not needing them anymore. These patches should remain in-tree until CPython 3.5 and 3.6 support is dropped completely. Found with the [diffoscope](https://diffoscope.org/). ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Due to the scope of this change, I've only tested it on [my NUR](https://github.com/bb010g/nur-packages) Python packages / applications, but tests passed and the `nix-build --check` came up clean on python3-3.6.8, python3.6-setuptools-40.8.0, python3.6-dnspython-1.16.0, python3.6-namedlist-1.7, python3.6-certifi-2018.11.29, python3.6-six-1.12.0, python3.6-webencodings-0.5.1, python3.6-html5lib-1.0.1, python3.6-SQLAlchemy-1.2.14, python3.6-Yapsy-1.12.0, python3.6-singledispatch-3.4.0.3, python3.6-backports_abc-0.5, python3.6-tornado-4.5.3, python3.6-chardet-3.0.4, and python3.6-wpull-2.0.3. It's the same patch as before; I'm not sure how much more testing it needs. Applied to staging because I think that's where large rebuild PRs go? ::",cf23d583a45e7786725f1b80e772bc76b63ae407::
https://api.github.com/repos/NixOS/nixpkgs,59786,sage-bugfix-19.03::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Caused a test failure on hydra, backporting upstream fix. (cherry picked from commit d75b30774ee6a472fdac7666fb84cbd44cc07bc1) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2b6f75c1f055fc5e7f1b6dce952363ec7bb937e5::
https://api.github.com/repos/NixOS/nixpkgs,59785,sage-bugfix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Caused a test failure on hydra, backporting upstream fix. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e0e5445667512e6213b73b82254ad45742ae7a5e::
https://api.github.com/repos/NixOS/nixpkgs,59734,update/libimobiledevice::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change https://github.com/NixOS/nixpkgs/pull/54953 updated usbmuxd only, seemingly without testing, because when I updated my system today it didn't work anymore, the issue being https://github.com/libimobiledevice/usbmuxd/issues/95. All these libimobiledevice packages should be updated together such that such things don't happen. This PR updates all of them to their latest master version. I also changed ifuse to use the master version instead of its releases, because there hasn't been a release in a while (see https://github.com/libimobiledevice/ifuse/issues/34). Ping @worldofpeace @arilotter This is currently also broken for 19.03 too, <s>PR for a partial backport is incoming</s> after discussions with @grahamc and @samueldr on IRC I decided to instead backport all of these updates, because libimobiledevice doesn't have any stable versions anyways, and not updating all those packages roughly at the same time might lead to more such issues. ###### Things done I have verified that this fixes above issue, allowing me to use my iPhone for tethering again. I also checked that ifuse can mount the filesystem and that ideviceinstaller can list installed apps. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2013c91c6b007b9205fec5696311345060490367::dd03b216e50004df72dfd6c39ab05bb2534f2147::173e96075c8e9aed15e9343950c72d9931e11ffe::71c1b44349d696cada77a0a6cf4c8a9c613898fe::8d5252be8263f64a5f3ce9f091a1360725f043e4::768e9b1505b1e5bf81f310349e919794127596ba::
https://api.github.com/repos/NixOS/nixpkgs,59729,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Latest [patch release](https://github.com/grafana/grafana/releases/tag/v6.1.4) with bug fixes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- **needs to be backported to 19.03**::",94773657a1362484bdbed461912980671d868945::
https://api.github.com/repos/NixOS/nixpkgs,59689,telegraf-1.10.2::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Telegraf 1.10 has a new extremely useful option for the Prometheus exporter, `export_timestamp`. I don’t know what the policy regarding the NixOS release branch is, but, I think, it would be nice to backport this to 19.03, if possible, since it is a non-major version increment, and, thus, is backward-compatible. ###### Things done We use Telegraf with DogStatsD input and Prometheus output. At least in this configuration, everything is fine. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). cc maintainers @Mic92 @roblabla::",335373c96541b272a2371724434442cbf08c51ef::
https://api.github.com/repos/NixOS/nixpkgs,59685,remove-notes-prometheus2-rl-1909::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Since [prometheus2 has been backported to 19.03](https://github.com/NixOS/nixpkgs/pull/59262) it won't be new anymore for 19.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e7fadde7a77758a37a0f61e1eaafb44f23f6644a::
https://api.github.com/repos/NixOS/nixpkgs,59612,qgis_3_4_6::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change Update LTS version of QGis. Once merged to master, I’ll backport it to `release-19.03`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",906dedce42566b1357ff3bc8a61e862f296efea7::
https://api.github.com/repos/NixOS/nixpkgs,59572,elk-7.0.0-release-19.03::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::8.has: package (new)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change https://www.elastic.co/blog/elastic-stack-7-0-0-released ###### Things done (cherry picked from commit 13352f28d2b587a01c262cbee29678209c919e95) This adds the following new packages: + elasticsearch7 + elasticsearch7-oss + logstash7 + logstash7-oss + kibana7 + kibana7-oss + filebeat7 + heartbeat7 + metricbeat7 + packetbeat7 + journalbeat7 The default major version of the ELK stack stays at 6 so this is safe to backport. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ab63f1447000105f3f97d70c91becd50a2a52dde::
https://api.github.com/repos/NixOS/nixpkgs,59480,fprintd-systemd::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"Upstream has a systemd service. ###### Motivation for this change Noticed all the [nice restrictions](https://gitlab.freedesktop.org/libfprint/fprintd/blob/master/data/fprintd.service.in) they've done to this. I think a backport would be good idea as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6846d4ab85ee9f44725dea8c88604c073b1a75ed::
https://api.github.com/repos/NixOS/nixpkgs,59424,journalwatch::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The `journalwatch` package is broken on 19.03, as the now more strict dependency handling of `buildPythonPackage` uncovered the error of having `pytest` as `buildInput` instead of `checkInput`. This PR fixes that, along with some general maintenance: * Move from deprecated `permissionsStartOnly`: https://github.com/NixOS/nixpkgs/pull/56265 * Move to `fetchFromGitHub`: https://github.com/NixOS/nixpkgs/issues/32997 * ~~Add `service.journalwatch.package` option for easy change of used package~~ The ee20ba8 fix pytest checks commit requires a backport to 19.03 to unbreak the package, the other commits are nice to have and should be backwards-compatible, but are not required. I'm sorry I did not notice the breakage prior release. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::I only see one version of this package in nixpkgs. Is this option necessary?::While you're in here cleaning up would you mind removing this as it is no longer required?::Please replace with [StateDirectory and StateDirectoryMode](https://www.freedesktop.org/software/systemd/man/systemd.exec.html) as this is preferred over tmpfiles.d.::IIRC, the way this should be done is via [overlays or packageOverrides](https://github.com/NixOS/nixpkgs/issues/55366#issuecomment-461780866) (the latter being [discouraged](https://github.com/NixOS/nixpkgs/pull/43560))::I see; a working way to override the single pkgs.journalwatch with another version would indeed be enough and make this option unnecessary. Already did some research in that direction in the past, but never got it to work. Could someone please give me a hand and tell me what I'm doing wrong here? All examples other than #55366 that I found only did add new packages or a full package set, but did not *replace* an existing package. ```nix let mypkgsSource = builtins.fetchGit { # Descriptive name to make the store path easier to identify name = ""florianjacob-nixpkgs""; url = https://github.com/florianjacob/nixpkgs/; ref = ""journalwatch""; rev = ""60b9e339059e72d6ac3469509c41dacca57b2979""; }; mypkgs = import mypkgsSource { # does not help either # config = removeAttrs config.nixpkgs.config [ ""packageOverrides"" ]; }; in { # does not make a difference # nixpkgs.config.packageOverrides = pkgs: { #   # python3.pkgs.journalwatch = mypkgs.python3.pkgs.journalwatch; # }; nixpkgs.overlays = [ (self: super: { python3.pkgs.journalwatch = mypkgs.python3.pkgs.journalwatch; # same error # python3Packages.journalwatch = mypkgs.python3Packages.journalwatch; }) ]; # works fine: # services.journalwatch = { #   enable = true; #   package = mypkgs.python3Packages.journalwatch; # }; }; ``` leads to ``` error: attribute 'buildPythonApplication' missing, at /nix/store/ai3gypqdhy8as9pik587cf7yx35546m2-nixos-19.03.172138.5c52b25283a/nixos/pkgs/development/tools/build-managers/meson/default.nix:3:1 ```::Good point, adressed.::Also much more elegant, thank you! :+1: ::@florianjacob sorry for taking a while to get back to you on this. Here is what I used: ``` nixpkgsFJ = builtins.fetchGit { # Descriptive name to make the store path easier to identify name = ""florianjacob-nixpkgs""; url = https://github.com/florianjacob/nixpkgs/; ref = ""journalwatch""; rev = ""60b9e339059e72d6ac3469509c41dacca57b2979""; }; pkgsFJ = import nixpkgsFJ { config = {}; }; ``` ... ``` nixpkgs.overlays = [ (self: super: { python3 = super.python3.override { packageOverrides = python-self: python-super: { journalwatch = pkgsFJ.python3Packages.journalwatch; }; }; }) ]; ```::Works indeed, thanks alot! Removed the option now.::",7b3ac169ff056393290c14e36d61ba97e5c1c881::68c6f3f27e7427774f30c65f0e06101acfd73797::e916cdf02de684c963b65cbd07df78031ddc54a0::
https://api.github.com/repos/NixOS/nixpkgs,59407,pr/static-proot_backport_staging::staging-19.03,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::8.has: documentation::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The main purpose is to quickly backport breaking changes to recently released wafHook. proot changes are just picked up along. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",2f8b886a13e175c8506d20701f74cff1435f810e::17fb45d9c6b5ece7740df467e80676797686af60::c5bfc4810274b658a2677fe580cd8f9f025107ef::ca5148a9872f565c09886029a7824eec1683e572::25ec19f4d987836892a81afcfc2f74c125a655ee::05fa593272d113b056b0ed9cdb5aa69ac5397569::c90e7a3de024d9e69420653d5f8e5f86fad346cd::
https://api.github.com/repos/NixOS/nixpkgs,59405,pr/static-proot_backport::release-19.03,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::8.has: documentation::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change The main purpose is to quickly backport breaking changes to recently released `wafHook`. `proot` changes are just picked up along. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",7988e40ff7426ff1cf628bff30a18db79d838268::85846186ef236de8282638ee8985450011388508::5995d92efbc1138afff2f0ee7ea3fbf586a27f43::1c6fa2b267a6818ee4d122c76efd5202eaf49f9b::e0a42d1eb106487a644194e4c549916366e5d5d8::cf71775e2986e87cf8a957eab18997c5a8510c39::55391de107fd714d67ecbfba5ccde5bf50d332b7::
https://api.github.com/repos/NixOS/nixpkgs,59401,mxisd_1_3::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::8.has: package (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @fpletz @hschaeidt :spider_web: I suggest to backport to 19.03::",1a84bfc0a2ccc3d6119ed714be84568c48289cbb::e2c58c19c459cdb506d09b1c25758400d36219be::
https://api.github.com/repos/NixOS/nixpkgs,59315,znc-docs-url::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> Should be backported ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b8dc0f9a5bb24702bf63042b87dadf1947974da6::
https://api.github.com/repos/NixOS/nixpkgs,59310,fix-azure-mgmt-storage::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,Can this be backported to 19.03 once merged. Will be needed to release Nixops.::,549c9b20c059909d5faabb391da488a62288c36c::
https://api.github.com/repos/NixOS/nixpkgs,59262,prometheus2-release-19.03::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change I would like to use Prometheus-2 on the upcoming 19.03 release. @jbgi also [expressed](https://github.com/NixOS/nixpkgs/pull/58255#issuecomment-481160092) a desire for this. This backports PRs https://github.com/NixOS/nixpkgs/pull/58255, https://github.com/NixOS/nixpkgs/pull/59175 and https://github.com/NixOS/nixpkgs/pull/59182 to `release-19.03`. It also includes a note about this in the 19.03 release notes. @samueldr @lheckemann this mainly involves the addition of the new `services.prometheus2` module. However, there's one minor backwards incompatibility: the option `services.prometheus.dataDir` is now required to have `/var/lib/` as a prefix. Note that it defaulted and still defaults to `/var/lib/prometheus`. This is also documented in the 19.03 release notes. I think it's safe to merge. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f03540b0976b7ad68314cbaef8b21f0178c8fe52::e67d8b0473c9df7249fe8cec3af1352bc09b04f3::ad51138b58e4e322463f082cf520433bd424c7f5::cb42867f9f40fcde6a375bcf775a08dd5b9a78c8::3581db1e3cb117b0c01ef295809021cd84dabe66::534ff383240cf15cdce9858d4f7bf18a1e6bddc1::30bdcf5986955d090e233929000e9c5d6495ff86::b9ee1949a3ec6439683008f668c8956248f448c6::54a14ac036417e230f1d02b54e88ffcd91688239::d500efd1b845c6363d57770d21e79ef319c4d182::705495ed774359cf2c8928355982a0ae25368b24::a8af1f05b2cfb6d05194a55f592908cd15ed1293::da30293131d5af8806aca5faf70e411d3fd328e3::d41b4f79216dc7cbcfc70551a47fa55b04278471::f93c6bd89cb7d4efb5cb449daf2d32c72418daf9::
https://api.github.com/repos/NixOS/nixpkgs,59253,android-fixes::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: stdenv::9.needs: port to stable::,"Should be backported to 19.03 Gets the android cross stuff working with the new ndk. <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f2bb67c8067e40d58630d628607674826fc98735::589c2c2870340c21b799795f6ed3b09608676499::67e6e031e1af73f1edfdecf1931b21ecd393e5c1::ac491d2df7365b304b96a1f3606ae8ba1522ed7d::
https://api.github.com/repos/NixOS/nixpkgs,59216,backport-ldflags-fix::staging-18.03,0,closed,10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::,"We should have backported this to 18.03 but it got lost in the merges. This should fix most cases of the Argument list too long bug. (cherry picked from commit f3758258b8895508475caf83e92bfb236a27ceb9) <!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",81f0d3c3707aa879307f790d5ac2780434a572d2::
https://api.github.com/repos/NixOS/nixpkgs,59183,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Latest [patch release](https://github.com/grafana/grafana/releases/tag/v6.1.2) with four bug fixes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS (x86_64-linux & aarch64-linux) - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- **needs to be backported to 19.03**::",a9247d09efbde6050a854cce23786ec3c445744e::
https://api.github.com/repos/NixOS/nixpkgs,59095,update/youtube-dl-2019-04-07::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change Updates to youtube-dl should be backported, please! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",0f620ef43a6228d63b966e3755e6a4474d8d1bb8::
https://api.github.com/repos/NixOS/nixpkgs,59081,hylafax-updates::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::,"<!-- Nixpkgs has a lot of new incoming Pull Requests, but not enough people to review this constant stream. Even if you aren't a committer, we would appreciate reviews of other PRs, especially simple ones like package updates. Just testing the relevant package/service and leaving a comment saying what you tested, how you tested it and whether it worked would be great. List of open PRs: <https://github.com/NixOS/nixpkgs/pulls>, for more about reviewing contributions: <https://hydra.nixos.org/job/nixpkgs/trunk/manual/latest/download/1/nixpkgs/manual.html#sec-reviewing-contributions>. Reviewing isn't mandatory, but it would help out a lot and reduce the average time-to-merge for all of us. Thanks a lot if you do! --> ###### Motivation for this change HylaFAX+ handles the ModemGroup parameter differently from the way the relevant manpage claims it is handled. This can lead to stuck jobs. I'm using this opportunity to update/improve further minor aspects of the HylaFAX package and module. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests))  *(no tests)* - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` *(no need)* - [ ] Tested execution of all binary files (usually in `./result/bin/`) *(no need)* - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) *(no change)* - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- At least the ModemGroup commit should be applied to release-19.03 as well. The other might be backported also as they change metadata only. Should I open a separate pull request for 19.03 ?::",1438f7b66494e02588fc48759348099317353e6f::e57156bcaa07ba7862f105cd1eb0145ca17b2c50::729ce1cc58ce2c12e18860974ba5b80e386d8e1c::
https://api.github.com/repos/NixOS/nixpkgs,59008,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change [Patch release](https://github.com/grafana/grafana/releases/tag/v6.1.1) which includes four bug fixes for the latest release. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS (x86_64-linux and aarch64-linux) - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- **needs to be backported to 19.03** (ideally together with https://github.com/NixOS/nixpkgs/pull/58917/commits/2628cc2675eef63fba4e3b0c5fe962488e8aef77)::",5b472d23c6c77a281edf44a57d3daef330a7b4ad::
https://api.github.com/repos/NixOS/nixpkgs,58917,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Latest [minor release](https://github.com/grafana/grafana/releases/tag/v6.1.0) (includes changes introduced in [6.1.0-beta1](https://github.com/grafana/grafana/releases/tag/v6.1.0-beta1)) with two new major features, some minor improvements and bug fixes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS (tested on x86_64-linux and aarch64-linux) - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- **needs to be backported to 19.03**::",2628cc2675eef63fba4e3b0c5fe962488e8aef77::
https://api.github.com/repos/NixOS/nixpkgs,58785,auto-update/python3.7-future-fstrings::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (update)::,"Semi-automatic update generated by https://github.com/ryantm/nixpkgs-update tools. This update was made based on information from https://repology.org/metapackage/python3.7-future-fstrings/versions. meta.description for python37Packages.future-fstrings is: '""A backport of fstrings to python<3.6""'. <details> <summary> Checks done (click to expand) </summary> - built on NixOS - /bin/sh passed the binary check. - 1 of 1 passed binary check by having a zero exit code. - 0 of 1 passed binary check by having the new version present in output. - found 1.0.0 with grep in /nix/store/zpf947dcjyd6zrvnc429wr1h1rvklmq8-python3.7-future-fstrings-1.0.0 - directory tree listing: https://gist.github.com/16841b5e41bed6cef802f638ec03b938 - du listing: https://gist.github.com/a6d99287d817fe75232f420a7afdb9ef </details> <details> <summary> Rebuild report (if merged into master) (click to expand) </summary> 16 total rebuild path(s) 4 package rebuild(s) 4 x86_64-linux rebuild(s) 4 i686-linux rebuild(s) 4 x86_64-darwin rebuild(s) 4 aarch64-linux rebuild(s) First fifty rebuilds by attrpath mautrix-telegram python27Packages.future-fstrings python37Packages.future-fstrings python37Packages.mautrix-appservice </details> <details> <summary> Instructions to test this update (click to expand) </summary> Either download from Cachix: ``` nix-store -r /nix/store/zpf947dcjyd6zrvnc429wr1h1rvklmq8-python3.7-future-fstrings-1.0.0 \ --option binary-caches 'https://cache.nixos.org/ https://r-ryantm.cachix.org/' \ --option trusted-public-keys ' r-ryantm.cachix.org-1:gkUbLkouDAyvBdpBX0JOdIiD2/DP1ldF3Z3Y6Gqcc4c= cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= ' ``` (r-ryantm's Cachix cache is only trusted for this store-path realization.) Or, build yourself: ``` nix-build -A python37Packages.future-fstrings https://github.com/r-ryantm/nixpkgs/archive/89f8c3ba88694a7a71369a9ce152f01dd0e3b306.tar.gz ``` After you've downloaded or built it, look at the files and if there are any, run the binaries: ``` ls -la /nix/store/zpf947dcjyd6zrvnc429wr1h1rvklmq8-python3.7-future-fstrings-1.0.0 ls -la /nix/store/zpf947dcjyd6zrvnc429wr1h1rvklmq8-python3.7-future-fstrings-1.0.0/bin ``` </details> <br/> cc @nyanloutre for testing.::",89f8c3ba88694a7a71369a9ce152f01dd0e3b306::
https://api.github.com/repos/NixOS/nixpkgs,58743,disable-library-for-ghci::haskell-updates,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"###### Motivation for this change This PR adds an option to the Haskell generic-builder that can be used to disable the `library-for-ghci` option passed to `Setup configure`. By default, the Haskell generic-buider enables `library-for-ghci`.  This causes `Setup build` to build an additional `HSfoo*.o` file. It looks like this `--enable-library-for-ghci` flag was added in https://github.com/NixOS/nixpkgs/commit/d7beae33dc4184f22865b4e7a8d42b3e7b5e225d, but there doesn't seem to be any explanation of why it was added. I'm seeing a problem when trying to use [`doctest`](https://github.com/sol/doctest) to test a Haskell package: https://github.com/cdepillabout/termonad/issues/15 `doctest` uses the GHCi API to load each module in your package into GHCi, and then run tests written in your Haddocks.  I'm seeing a problem using `doctest` to load files that require `TemplateHaskell`. It looks like what happens is that in order for GHCi to typecheck and load the modules in a given package, it needs to byte-compile the TemplateHaskell splices.  In order to do this, it needs to load all the required dependency packages.  For some reason, when libraries have been compiled with `--enable-library-for-ghci`, this takes an extremely long time.  The Termonad example from above takes about 3 hours to run `doctest`, even though running it through `stack` or `cabal` just takes a few seconds. I'm not sure why it takes so long to load libraries when using `--enable-library-for-ghci`, but I have confirmed that using `--disable-library-for-ghci` only takes a few seconds. We're seeing this at work with our own Haskell packages, so we'd really like an easy way to work around this.  I'd also like to backport this change to 19.03, since that is what we're using at work. This PR adds an option to disable `library-for-ghci` for the Haskell generic-builder. Pinging @peti. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [X] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5dbb3eb106bc4508d5071d80b968e6b6952e5f9e::d3bb814ddd04328405cc75c031d47085c9ca2379::7f9e46e3ebcaa305678f88c2f1631fa4f52531c3::e7db3767c7982bfe17824a38ead664301380540f::7e28313241af3b6e96b887dce865f10b19476f89::f9bbc355bd0d5f89ac7fd38ac5e56a1402d56dff::af89d95f36f80eca0aa77af62289f4c0dc009b36::b58ecf32c7936564deb68472ad6057b9a313e640::
https://api.github.com/repos/NixOS/nixpkgs,58726,dbi-oracle::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::,"###### Motivation for this change Missing from nixpkgs :disappointed: I ran a perl script which used this code to successfully connect to an Oracle database :+1: PS. I'd really love a backport to 19.03 after it has been released. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",73d45ab1b0618c273e0d9212ad9568f42247ea14::
https://api.github.com/repos/NixOS/nixpkgs,58639,update/browserpass::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::8.has: package (update)::,"###### Motivation for this change This is a *incompatible* release, but I made this backwards compatible by including both the old and the new version in the package. People should already be able to update to this version, making the new version sit idly until the browser extension automatically updates in the following weeks, at which point the new version kicks in and the old one won't be needed anymore. Then we can remove v2 from the code. As a consequence, this should be merged asap and backported to at least 19.03, such that the update gets to the channels before the browser extension auto-updates, otherwise it will break for everybody. See https://github.com/browserpass/browserpass-native/issues/31 as well Something that needs to be updated yet is the [home-manager module](https://github.com/rycee/home-manager/blob/master/modules/programs/browserpass.nix), ping @dermetfan ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size: 301MB -> 304MB - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6104fba188a084c3f7230ec39da43146d4203786::e98ee8d70c29de95682c10819ec46e2ee5eaabff::
https://api.github.com/repos/NixOS/nixpkgs,58589,fix-openblas::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change Fixes https://github.com/NixOS/nixpkgs/issues/56949 Attempt to fix the openblas breakage on aarch64 https://github.com/NixOS/nixpkgs/pull/56216 If we are not cross compiling then openblas expects: * on x86_64 `NO_BINARY_MODE=` * on aarch64 `NO_BINARY_MODE=0` using the `toString` to translate the value for `NO_BINARY_MODE` is wrong here since `mkMakeFlagValue` is supposed to translate bools to string in the right way. Needs backport to 19.03 CC @dtzWill See also: ZHF 19.03, https://github.com/NixOS/nixpkgs/issues/56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fa28a838f3f462068e71a8e5d523a55e4024efe2::
https://api.github.com/repos/NixOS/nixpkgs,58584,gitea-tags-fix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Fixes #58576 Also includes all the tags in --version. Needs backport to 19.03, cc #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Do we actually need the `set -x` here?::Woops, no, missed removing that after testing. :)::",7b6430984bdd885e1ae74c280d15c652c84b14ac::
https://api.github.com/repos/NixOS/nixpkgs,58499,virtualenv/py_version_backport::release-19.03,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: python::,"(Cherry-picked from 2556b7bfad8341aa25fa4a3f9a2d4e4c8c85f67f) ###### Motivation for this change I was affected by https://github.com/NixOS/nixpkgs/issues/57008 on 19.03 (23fd1394dc6bef03a2ff010278a24403a97f0647) and backporting the fix by @glasserc from https://github.com/NixOS/nixpkgs/pull/57533 fixed the issue. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0bf6a85d36e7d3577b583b141ea36bd9af2132f7::
https://api.github.com/repos/NixOS/nixpkgs,58468,backport/kde-apps-18.12.3::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 101-500::6.topic: qt/kde::8.has: port to stable::,"###### Motivation for this change Backporting https://github.com/NixOS/nixpkgs/pull/56155 was mentioned https://github.com/NixOS/nixpkgs/pull/56155#issuecomment-467182759 > @lheckemann > Since it's a minor version bump though I suppose we can still backport it to 19.03 after the branch-off. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",657f41dc8ac63638a9917e094b3ba317225c50e9::69fa9cb9384b789f2e65e72af1c61271bb336f22::
https://api.github.com/repos/NixOS/nixpkgs,58459,p/qtikz::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change #56826, please backport. qcollectiongenerator was merged into qhelpgenerator in qt 5.12, see https://blog.qt.io/blog/2018/11/02/whats-new-qt-help/ ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0b8d40a7541f2d9f462cdf056f4f6aa40eb44d93::
https://api.github.com/repos/NixOS/nixpkgs,58429,p/nevow::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change #56826 - please backport ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",128e6c560e60905ca08ff9d7c339f45f56609c01::ea5f0983e767be12ee60a823a663065ea0e43aea::
https://api.github.com/repos/NixOS/nixpkgs,58419,ldap-nslcd-startup::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::,"###### Motivation for this change eb90d9700958aefbc7b886f2b524c6d04dc1d80d broke nslcd, as `/run/nslcd` was created/chowned as root user, while nslcd wants to do parts as nslcd user. This commit changes the nslcd to run with the proper uid/gid from the start (through User= and Group=), so the RuntimeDirectory has proper permissions, too. In some cases, secrets are baked into nslcd's config file during startup (so we don't want to provide it from the store). This config file is normally hard-wired to /etc/nslcd.conf, but we don't want to use PermissionsStartOnly anymore (#56265), and activation scripts are ugly, so redirect /etc/nslcd.conf to /run/nslcd/nslcd.conf, which now gets provisioned inside ExecStartPre=. This change requires the files referenced to in users.ldap.bind.passwordFile and users.ldap.daemon.rootpwmodpwFile to be readable by the nslcd user (in the non-nslcd case, this was already the case for users.ldap.bind.passwordFile) fixes #57783 In addition, this renames `users.ldap.daemon.rootpwmodpw` to `users.ldap.daemon.rootpwmodpwFile` and `users.ldap.bind.password` to `users.ldap.bind.passwordFile` (as it's really files). I added a `mkRenamedOptionModule` for `users.ldap.bind.password`, but `users.ldap.daemon.rootpwmodpw` wasn't yet part of a release. Should be backported to 19.03. / cc @samueldr @lheckemann cc @ju1m ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::nit: could just use `optional (!cfg.daemon.enable) ldapConfig`::This still applies::nit: it's → its::nit: could use `stdenvNoCC.mkDerivation` or `runCommandNoCC`?::yes, but this NOTE wasn't next to the password file being written, and the same NOTE exists a bit further down too. I moved the `environment.etc.""nslcd.rootpwmodpw"".source =` below `environment.etc.""ldap/bind.password"".source`, and kept only one NOTE.::fixed.::I went with `runCommandNoCC`. Thanks!::fixed.::",0a1451afe366873890c1df7a2fc6532ccc39f6bf::8817bbefdbe9f54f7ee42e5cef00f386e227bf5d::
https://api.github.com/repos/NixOS/nixpkgs,58352,18.09/thunderbird::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: package (update)::,"###### Motivation for this change Backport of the backport #58034  :-) cc @Mic92 @taku0 I haven't built it yet - lack of (mobile) computation power & no access to private keys.. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",38063aab8dcd3bc62d27836f295d4ce696cd3cc6::9b6eddbd4d10e649b50635d54fc89b608854d2d2::
https://api.github.com/repos/NixOS/nixpkgs,58314,ghostscript-cve-2019-6116::master,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::8.has: port to stable::,"###### Motivation for this change This is tagged as version 9.26a in the ghostpdl repo, but unfortunately there are no tarballs released with that version number so far. We'll continue calling this version 9.26 for now for simplicity's sake (and we can switch to 9.26a and remove the patch when it's properly released). Fixes #58262 Fixes #58089 FYI @viric @dtzWill This will need backporting to release-18.09 and release-19.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",91c46d17d5c8b3a69cbae62d91290e53168fe9d2::
https://api.github.com/repos/NixOS/nixpkgs,58278,fix-nheko::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Workaround for the bug https://github.com/matrix-org/synapse/issues/4898 This allows nheko to sync again, until all matrix servers will have updated (fix yet unreleased). ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change (nheko) - [ ] Tested execution of all binary files (none) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- This should also be backported to 19.03 ping @fpletz @ekleog @dtzWill ::",e3f22736be561e45ec24746d53d85130b52280c6::
https://api.github.com/repos/NixOS/nixpkgs,58251,postgresql-plugins-bin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"This is needed because some PostgreSQL plugins don't have a bin directory. If only these plugins are listed in cfg.extraPlugins buildEnv will turn $out/bin into a symbolic link to ${pg}/bin. Lateron we try to rm $out/bin/{pg_config,postgres,pg_ctl} which will then fail because $out/bin will be read-only. Rebased from https://github.com/NixOS/nixpkgs/pull/44379, which didn't get merged Closes https://github.com/NixOS/nixpkgs/issues/22653 backport please ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",517c52ec2e6d55553cee8df6fefda6d0cb022c41::475f1ebd987d7ca5bcdefb3d88bbd7a2e315e08f::
https://api.github.com/repos/NixOS/nixpkgs,58211,19.03/containers-ipv6::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change backport of #57897 cc @srhb @rnhmjoj ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",883fa214d25fa0081b5775d53c320ab938bab384::fb282702108a17a45a799831b8f2ee91bf41904f::
https://api.github.com/repos/NixOS/nixpkgs,58208,php-language-server::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::11.by: package-maintainer::8.has: package (new)::,"###### Motivation for this change I set up the composer2nix environment in `pkgs/build-support/build-composer/default.nix` to be able to build packages based on composer fairly easily. It's slightly modified, like the PHP is a bit neater formatted and such. And it doesn't depend on it's own composer install. Instead it uses the composer from nixpkgs. Then I created a package for the php language server that is most widely used that doesn't provide a phar file or some other easy way to pull down all deps other than using composer. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Can the changes be ported to composer2nix? Can it be imported somehow? What does @svanderburg have to say?::I believe they can be backported yes. The biggest change I've done is that I removed composer from this file because it pulled in it's own composer. Then I did some minor changes to the PHP to be a bit cleaner and so. Here's a diff from a generated composer-env.nix file and this file: ```diff diff --git a/pkgs/build-support/build-composer/default.nix b/pkgs/build-support/build-composer/default.nix index e0b82acfc5a..955a359595c 100644 --- a/pkgs/build-support/build-composer/default.nix +++ b/pkgs/build-support/build-composer/default.nix @@ -1,8 +1,41 @@ # This file originates from composer2nix -{ stdenv, makeWrapper, writeTextFile, fetchurl, php, unzip, composer }: +{ stdenv, writeTextFile, fetchurl, php, unzip }: let +  composer = stdenv.mkDerivation { +    name = ""composer-1.6.5""; +    src = fetchurl { +      url = https://github.com/composer/composer/releases/download/1.6.5/composer.phar; +      sha256 = ""07xkpg9y1dd4s33y3cbf7r5fphpgc39mpm066a8m9y4ffsf539f0""; +    }; +    buildInputs = [ php ]; + +    # We must wrap the composer.phar because of the impure shebang. +    # We cannot use patchShebangs because the executable verifies its own integrity and will detect that somebody has tampered with it. + +    buildCommand = '' +      # Copy phar file +      mkdir -p $out/share/php +      cp $src $out/share/php/composer.phar +      chmod 755 $out/share/php/composer.phar + +      # Create wrapper executable +      mkdir -p $out/bin +      cat > $out/bin/composer <<EOF +      #! ${stdenv.shell} -e +      exec ${php}/bin/php $out/share/php/composer.phar ""\$@"" +      EOF +      chmod +x $out/bin/composer +    ''; +    meta = { +      description = ""Dependency Manager for PHP""; +      #license = stdenv.licenses.mit; +      maintainers = [ stdenv.lib.maintainers.sander ]; +      platforms = stdenv.lib.platforms.unix; +    }; +  }; + buildZipPackage = { name, src }: stdenv.mkDerivation { inherit name src; @@ -17,7 +50,7 @@ let }; buildPackage = -    { pname +    { name , src , packages ? {} , devPackages ? {} @@ -38,28 +71,36 @@ let text = '' #! ${php}/bin/php <?php -          if (file_exists($argv[1])) { +          if(file_exists($argv[1])) +          { $composerLockStr = file_get_contents($argv[1]); -              if ($composerLockStr === false) { +              if($composerLockStr === false) +              { fwrite(STDERR, ""Cannot open composer.lock contents\n""); exit(1); } +              else +              { +                  $config = json_decode($composerLockStr, true); -              $config = json_decode($composerLockStr, true); +                  if(array_key_exists(""packages"", $config)) +                      $allPackages = $config[""packages""]; +                  else +                      $allPackages = array(); -              $allPackages = array_key_exists(""packages"", $config) ? $config[""packages""] : array(); +                  ${stdenv.lib.optionalString (!noDev) '' +                    if(array_key_exists(""packages-dev"", $config)) +                        $allPackages = array_merge($allPackages, $config[""packages-dev""]); +                  ''} -              ${stdenv.lib.optionalString (!noDev) '' -              if (array_key_exists(""packages-dev"", $config)) { -                  $allPackages = array_merge($allPackages, $config[""packages-dev""]); +                  $packagesStr = json_encode($allPackages, JSON_PRETTY_PRINT | JSON_UNESCAPED_SLASHES); +                  print($packagesStr); } -              ''} - -              echo json_encode($allPackages, JSON_PRETTY_PRINT | JSON_UNESCAPED_SLASHES); -          } else { -              echo ""[]""; } +          else +              print(""[]""); +          ?> ''; }; @@ -71,24 +112,30 @@ let <?php $composerJSONStr = file_get_contents($argv[1]); -          if ($composerJSONStr === false) { -              fwrite(STDERR, 'Cannot open composer.json contents'.PHP_EOL); +          if($composerJSONStr === false) +          { +              fwrite(STDERR, ""Cannot open composer.json contents\n""); exit(1); } +          else +          { +              $config = json_decode($composerJSONStr, true); -          $config = json_decode($composerJSONStr, true); - -          $binDir = array_key_exists('bin-dir', $config) ? $config['bin-dir'] : 'bin'; +              if(array_key_exists(""bin-dir"", $config)) +                  $binDir = $config[""bin-dir""]; +              else +                  $binDir = ""bin""; -          if (array_key_exists('bin', $config)) { -              if (!file_exists('vendor/'.$binDir)) { -                  mkdir('vendor/'.$binDir); -              } +              if(array_key_exists(""bin"", $config)) +              { +                  if(!file_exists(""vendor/"".$binDir)) +                      mkdir(""vendor/"".$binDir); -              foreach ($config['bin'] as $bin) { -                  symlink('../../'.$bin, 'vendor/'.$binDir.'/'.basename($bin)); +                  foreach($config[""bin""] as $bin) +                      symlink(""../../"".$bin, ""vendor/"".$binDir.""/"".basename($bin)); } } +          ?> ''; }; @@ -120,7 +167,7 @@ let extraArgs = removeAttrs args [ ""name"" ""packages"" ""devPackages"" ""buildInputs"" ]; in stdenv.mkDerivation ({ -      pname = ""composer-${pname}""; +      name = ""composer-${name}""; buildInputs = [ php composer ] ++ buildInputs; inherit unpackPhase buildPhase; @@ -215,7 +262,8 @@ let runHook postInstall ''; } // extraArgs); -in { +in +{ composer = stdenv.lib.makeOverridable composer; buildZipPackage = stdenv.lib.makeOverridable buildZipPackage; buildPackage = stdenv.lib.makeOverridable buildPackage; ``` Keep in mind that I put a generated file over the one submitted here to generate this diff. So the pluses are the ones from composer2nix and the minuses are my changes.::",34b63013b52b345354c7521903c86525580798a3::57ae5a141bbb48fbfbd93cfcd1d6226901468792::710d0013535919d90ca3c26253ea490204fd013c::
https://api.github.com/repos/NixOS/nixpkgs,58179,werkzeug-0.15.1::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: python::8.has: package (update)::,"###### Motivation for this change fixes #33093 Does this warrant a backport? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @samdroid-apps @teozkr ::",81dd0316a87e945977c19eae8fbe9e9019cd2f88::801971d18089e1b69120658ed7167c1126cbba56::
https://api.github.com/repos/NixOS/nixpkgs,58168,systemd-deb-snapshots::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change in https://github.com/NixOS/nixpkgs/pull/56184#issuecomment-475829731 @qolii reported that the currently used debian patchset is gone from the mirrors. While the comment in the source suggested that we update them to a newer version in that case we should probably take a different approach in general. Having a systemd version in the tree that breaks after enough time has passed is probably a bad idea and we should use a stable source for the patches. This change should be a no-op and safe to pick into our release branches that carry this version of systemd. cc the usual systemd folks: @fpletz @vcunat @Mic92. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::backport: ad02408c7ba240f7a3cd4254b0d8849182c819b5::",bb821c65ff1403d07aaf86a46098ca618c5d1aa5::
https://api.github.com/repos/NixOS/nixpkgs,58149,fix-stack-eval-darwin::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 0::2.status: merge conflict::6.topic: darwin::6.topic: haskell::8.has: package (new)::,"###### Motivation for this change hfsevents is currently marked as broken on Darwin, which in turn prevents evaluation of the entire darwin tested set (through stack.) This fixes it. #58028 fixed the configuration for hackage2nix, so the next rerun will fix it. We need a stopgap measure to get `darwin-tested` evaluating again, however, and this does it by simply mangling `hackage-packages.nix` to fix platforms. Needs a backport to 19.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nix-review --run ""nix-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a28c058c15479a2f1ded882891219cd1a345f973::
https://api.github.com/repos/NixOS/nixpkgs,58113,ignore-cuda-gdb-without-sandboxing::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"This fixes the `cudatoolkit` building on non-sandboxed system. The `cudatoolkit` tests run each of the CUDA binaries as a small smoke test just to make sure they all can at least somewhat run. However, the `cuda-gdb` binary doesn't run correctly on non-sandboxed systems because it picks up versions of Python from /usr/lib. This PR excludes the `cuda-gdb` binary from these smoke tests so cudatoolkit can be built again on non-sandboxed systems. This PR is for #57939. This doesn't fix the underlying issue of `cuda-gdb` not being able to run on non-sandboxed systems.  That will hopefully come in a future PR.  Note that `cuda-gdb` not being able to run doesn't affect the actual cuda libraries that are needed for building CUDA-enabled applications. Once this is merged in, I'd also like to backport this to 19.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [X] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",54cc6adbb6c75a23b18e1a01d1ef0e24b32cd831::
https://api.github.com/repos/NixOS/nixpkgs,58082,nixpkgs_cacert-as-build-inputs::release-19.03,0,merged,,"###### Motivation for this change cacert already exposes NIX_SSL_CERT_FILE in its setupHook. Fetchers and builders are already setup to use this variable and there's no need to export them manually. (cherry picked from commit 6d7d69ff3e4d107201e75576431bf06cdf463a8e) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @NixOS/backports ::",9521772438d28140cca44acc1f60d4ff20d4784d::
https://api.github.com/repos/NixOS/nixpkgs,58023,elasticsearch-curator-dependency::master,0,closed,6.topic: python::,"###### Motivation for this change Improving the fix from https://github.com/NixOS/nixpkgs/pull/57912 by passing click in version 6.7 to elasticsearch-curator, since according to https://github.com/elastic/curator/pull/1280, it is not compatible with click v7.0. This should be backported to 19.03 as well. cc @srhb @dotlambda @GrahamcOfBorg build pythonPackages.elasticsearch-curator pythonPackages.click ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::We can't do that for Python packages as multiple versions of the same package can't be in `$PYTHONPATH`.::We could use `packageOverrides` if elasticsearch-curator was only an application. However, according to https://github.com/elastic/curator#curator-api-documentation it also has an API.:::( That's the end of my python knowledge, tbh. I only use the module, which use elastic-curator as an application: https://github.com/NixOS/nixpkgs/blob/be1c03ddaf867e9a58499cd790d5cd72cffc6fca/nixos/modules/services/search/elasticsearch-curator.nix#L89 .. So I'd be fine with packageOverride or simply wrapping the binary, but I don't know what other usecases for this package that would destroy.::",23253cc2918bc46a04dc2639b95dfe55dd3a3cee::b76db47245a0d875651d5c668b855f2e4e8f7689::
https://api.github.com/repos/NixOS/nixpkgs,57978,BusinessHours::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Fixes broken build. Needs backport: cc #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",262c30dae2153aac614e39e26b30c6c2aaad3a4a::
https://api.github.com/repos/NixOS/nixpkgs,57977,FileSlurp::master,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change https://metacpan.org/source/CAPOEIRAB/File-Slurp-9999.26/Changes No longer uses syswrite, so patch is dropped (and expression regenerated from cpan generator) Fixes usage with perldevel Candidate for backport (though this only affects perldevelPackages, I think.) cc #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",da04cbf8bdbad1511c504e529316fa64b002130b::
https://api.github.com/repos/NixOS/nixpkgs,57923,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: package (update)::,"###### Motivation for this change [Latest release](https://github.com/grafana/grafana/releases/tag/v6.0.2) with some bugfixes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS (x86_64-linux & aarch64-linux) - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- **needs to be backported to 19.03** :)::",963ee49032e81678159dac81330acdfe2a123ed7::
https://api.github.com/repos/NixOS/nixpkgs,57912,curator-jailbreak-click::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Looks like the click bounds were overly strict. ELK tests now pass, but I've not manually checked that curator still works, so verification would be appreciated. Needs backport to 19.03. cc ZHF #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::You're sure both of these need to be patched?::Yep!::",63f143e5ec01980411ab39f2982f78c54c8fcdad::
https://api.github.com/repos/NixOS/nixpkgs,57874,arbtt-0.10.2::release-19.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"###### Motivation for this change This is a partial backport of e98e4d21fa6744da13cd08fd4ebf585fdcdb19c2 and 7c04e3eb7571ad8ce31a15a22beb11bfe921a387 to make `arbtt` build again. Continuation of https://github.com/NixOS/nixpkgs/pull/57585 ###### Things done Also I took care, that upgrading `hackage-packages.nix` will result in a build failure of `arbtt`, as the upgrade should not be silently overwritten. If I see this right, `hackage-packages.nix` should not be upgraded on `release-19.03` anyway. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::This is way too complicated. Just copy the relevant bit of `haskell-packages.nix` that updates `arbtt` from https://github.com/NixOS/nixpkgs/commit/e98e4d21fa6744da13cd08fd4ebf585fdcdb19c2 into the release branch.::So I should make changes in `hackage-packages.nix`? I thought that file is supposed to be generated only. I'll update the PR.::If we ever re-generate it, the new file will contain the update that you're merging here ... so in this case the manual edit is fine. It would not be fine in `master`, though.::",31a58683525ee32997a2f99226b0ed12999ac6bc::
https://api.github.com/repos/NixOS/nixpkgs,57784,fix/ghc-musl-strdup::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"###### Motivation for this change Fixes https://github.com/NixOS/nixpkgs/issues/57238. Should be backported to any release branch impacted by the issue. Which I think is just 19.03 :). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Mostly was trying to fix the binary bootstrap build, have not thoroughly tested the resulting compilers (particularly the many versions built from these) are all functioning reasonably... I think if this at least fixes `pkgsMusl.ghc` it's a win :).::",9a10434f4d1265dd93ff7ae78bc8f97418efc7ff::93e3eecdb3c98ba2c7afc59b38f98a2827e5c47d::
https://api.github.com/repos/NixOS/nixpkgs,57762,update-ruby::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::10.rebuild-linux: 501-1000::6.topic: ruby::,"###### Motivation for this change https://www.ruby-lang.org/en/news/2019/03/13/ruby-2-5-4-released/ https://www.ruby-lang.org/en/news/2019/03/15/ruby-2-5-5-released/ https://www.ruby-lang.org/en/news/2019/03/13/ruby-2-6-2-released/ backport please ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [X] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",69d80d7d21fa086e61ec64866f1a1a28f95a9bbd::cadc359a0aadc87b73e813dca0c8523b648d596f::342773c78ccee14271436050470f6837ece6576f::
https://api.github.com/repos/NixOS/nixpkgs,57681,update-jasper::staging,1,merged,1.severity: security::10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 2501-5000::10.rebuild-linux: 501+::11.by: package-maintainer::,"###### Motivation for this change Release 2.0.16 fixes CVE-2018-19539. Should be backported to 18.09 and 19.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",96e93d6fa0d5c2a1fdb269e705c5f1791c3ebb3d::
https://api.github.com/repos/NixOS/nixpkgs,57665,p/xload::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Fix build. Add missing dependency gettext. Please backport to 19.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f0c99fe3741915a86ed49ff6ff2115ff93b93050::
https://api.github.com/repos/NixOS/nixpkgs,57664,p/xload::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change #56826 , please backport ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c91d514350edb64d85d7817184c09c5f109452c9::
https://api.github.com/repos/NixOS/nixpkgs,57661,master::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::,"###### Motivation for this change Tests are missing from the Pypi source distribution of pyrr 0.10.1. Therefore building that version is failing with this error: ``` ====================================================================== ERROR: tests (unittest.loader._FailedTest) ---------------------------------------------------------------------- ImportError: Failed to import test module: tests Traceback (most recent call last): File ""/nix/store/lwwk80ls3sb1dfljfsrrx6wlkjkd8imn-python3-3.6.8/lib/python3.6/unittest/loader.py"", line 153, in loadTestsFromName module = __import__(module_name) ModuleNotFoundError: No module named 'tests' ``` pyrr version 0.10.2 has the tests packages in the source distribution, and the Nix build is thus working again, with tests. This should also be backported to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c7be50ef66a8fda44d7940da1055e3fc016c7d00::
https://api.github.com/repos/NixOS/nixpkgs,57641,kernel-4.19-bump::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 101-500::8.has: clean-up::,"This should bring back kernel 4.19 as our default kernel by applying a patch that fixes our overlayfs regression (#54509). I'm basing this against `master` first and we can backport it to stable later once we got it tested well enough™. Tested this only against the `kernel-latest` NixOS test so far ~~, so we should probably add a Hydra job to make sure this doesn't introduce additional breakages~~.::",4c1ddb3a57a5e3f37f3234b9dcab3d3098c1f50e::9a395a45aa43df701550a5319a3a2c0b6aac580f::
https://api.github.com/repos/NixOS/nixpkgs,57585,arbtt-0.10.1-1::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"###### Motivation for this change arbtt was broken for quite a while. ###### Things done Recently fixes for the build failure were published to master, so I just bumped the source to current master. Also needed to disable tests to run, as they seem to be broken in an easy to fix way. I tested execution of the binaries and they are able to parse my logs. This needs to be backported to `release-18.09`. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::This is not a good idea. That override will hide all future updates `arbtt` receives. Unless there is some kind of plan how to prevent that from happening, I'd rather not commit a change like that unless there's very good reason to. Generally speaking, I'd very much prefer to lobby @nomeata to simply release a new Hackage version.::",862c0d27011ed34be951e4fc220e46d4e63b1e18::
https://api.github.com/repos/NixOS/nixpkgs,57528,discord9bump::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Discord becomes unusable when the version is bumped. Could this be backported? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::```suggestion ``` This is done automatically now.::",170aee77a73c5b4b3fe9ce2bcca8fda77c55f49f::
https://api.github.com/repos/NixOS/nixpkgs,57490,imgurbash2-3.1::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Version 2.1 currently in nixpkgs plain doesn't work due to imgur API changes: ``` [nix-shell:~]$ imgurbash2 /tmp/test.png Upload failed for /tmp/test.png:  Invalid client_id ``` Bump to 3.1 which fixes this issue. Might be worth backporting to 19.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",19601561ed97ec02f4611d1960933ace6c24b85b::
https://api.github.com/repos/NixOS/nixpkgs,57411,mitmproxy-wsproto-update::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Pull in a few more patches to bring mitmproxy in line with nixpkgs proper until a new release is in. Needs backport to 19.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3df55b80bbd68f66168913e519a3506b1b32e588::e1e5df688a60dcb6736a367619749e428178dded::
https://api.github.com/repos/NixOS/nixpkgs,57402,pgcli-test-typeerror::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Patches the tests until the next pgcli release fixes them Should be backported to 19.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5471f8d7edbd46be0a1dde3e93d746783cd2c944::
https://api.github.com/repos/NixOS/nixpkgs,57394,drop-old-citrix-versions::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: clean-up::,"###### Motivation for this change The versions 13.8.0 and 13.9.{0,1} will be EOLed before the end of 19.03 and should be dropped. To provide an easy upgrade path, all unsupported versions will throw an evaluation error. All versions that are about the be EOLed can be added there as well. For now, all of those deprecated versions are still referenced in `all-packages.nix`, but should be removed before the next release. See also https://www.citrix.co.uk/support/product-lifecycle/milestones/receiver.html Unless the merger beats me, I'd backport this to 19.03 as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2b1c0d01c3c0ca4f53de82001ecf3d32e6050bb3::
https://api.github.com/repos/NixOS/nixpkgs,57365,ghostscript::release-19.03,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::,"GS ships with a fork of lcms2 (""lcms2mt""), but the ABI separation between the fork and the original seems insufficient. If libgs is linked alongside liblcms2 (for example, this is the case with imagemagick) then it will call into the original library instead of the fork, causing segfaults. Follow the example of both Arch and Debian in this regard -- they both use the systemwide lib instead of the fork. backport of https://github.com/NixOS/nixpkgs/pull/57313 (cherry picked from commit 128bb7be2a97e3e5c5b5e1295a17323fb7d34587) ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",80c7e984a2c949e89a531d89d4c21f7f1a00b220::
https://api.github.com/repos/NixOS/nixpkgs,57284,jl-monadfail-patch::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Patch needed until next jl is released properly. Needs backport to 19.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",79e3dcb01371c3dc08633741f11b983136d308fe::
https://api.github.com/repos/NixOS/nixpkgs,57266,libreoffice-update::master,1,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::2.status: work-in-progress::,###### Motivation for this change LibreOffice update. ###### Things done [x] LibreOffice Still: built and executed on `x86_64-linux` (NixOS-like) ##### Status This is the latest LibreOffice update — will probably backport to 19.03 because starting a stable cycle with obsolete LibreOffice Still is unfortunate. ::,ab56044f2265129333d33719a05c89f3f0404d20::
https://api.github.com/repos/NixOS/nixpkgs,57133,upd-slurm::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::,"###### Motivation for this change bugfix release, should be backported to 19.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) nixos/tests/slurm.nix suceeds - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a2331a2b64adb97cf64ef9def0bbba02f380dc58::62ea707e31329b0b38fe9f89a8910d07603df655::
https://api.github.com/repos/NixOS/nixpkgs,57084,update-nix-prefetch-github::release-19.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::8.has: port to stable::,"###### Motivation for this change This is a backport from master/unstable.  Release 2.1 of nix-prefetch-github contains a bug and version 2.2 is 100% backwards compatible with version 2.1 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",57e525e17d6f1cabdc1e9aaa3f4135b5e7a54925::
https://api.github.com/repos/NixOS/nixpkgs,57074,update/nodejs-2019-03-08::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change * **backport please** * I don't think these are auto-updated, not sure why. If there's something making auto-update difficult, it may be worth investigating why (if anyone knows please share :)). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x]] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",4df1c7234f7148c4bab7154bb435063d9339ad52::702120ee90fe13ad30f9293684b1e4ab26ee7894::9c894f8418738b95fa76a6ad66e88b8c169f2e3b::5d527793ae87fdba17a2fecb666a98c4c2e569d4::
https://api.github.com/repos/NixOS/nixpkgs,57059,update/ntp-4.2.8p13::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change From http://www.ntp.org/index.html: > ntp-4.2.8p13 was released on 07 March 2019. > It addresses 1 medium-severity security issue in ntpd, and provides 17 > other non-security fixes and 1 improvements over 4.2.8p12. **backport candidate** ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",101e64f40e58ea90a282e7ca9740e62fa0f391bf::
https://api.github.com/repos/NixOS/nixpkgs,57055,fix/m2crypto-swig-libressl::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: python::,"###### Motivation for this change Fixes #56993. Assuming accepted, should be backported if needed. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",10646d5e62bf6fa10924d07be8e4385a6658b077::
https://api.github.com/repos/NixOS/nixpkgs,57039,update/man-pages-5.00::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: documentation::,"###### Motivation for this change **backport candidate** (once merged) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",6be6d36824beda409091db30edae5ab8fc694636::
https://api.github.com/repos/NixOS/nixpkgs,57002,fix-udocker::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: documentation::,"###### Motivation for this change The latest changes to support better cross-compilation compatibility have introduced a stricter handling of dependency specifications in python. Since b4acd97, mock and nosetest should be checkInputs, since they are used for testing. Fixes: #56972 Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2672549c5907b64436b7776fead0400f6b2003f9::
https://api.github.com/repos/NixOS/nixpkgs,56999,fix-cgui::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Hydra build was broken due to missing linking against the math library. Could have been fixed by adding `NIX_LDFLAGS=-lm`, but upgrading the package also solved it. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",8e4b9c03053fff75beb64dc4ca905b147470a25e::
https://api.github.com/repos/NixOS/nixpkgs,56989,fix-wrf-python::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change The latest changes to support better cross-compilation compatibility have introduced a stricter handling of dependency specification in python. Since b4acd977, gfortran should be put into nativeBuildInputs, as it's a build-time only dependency for wrf-python. Similarly, mock is only required when testing, so it should go to checkInputs. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",1b4c9622d9b0fb13041f35f5b356c79e091baa1d::
https://api.github.com/repos/NixOS/nixpkgs,56981,fix-sewer::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change This fixes sewer. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",19fc5cb3db9f5f58c7067fe1276fa00157da6a7d::841beafd10ed133cf9f3ae2611dee0c9f6db52bf::
https://api.github.com/repos/NixOS/nixpkgs,56979,fix-editres::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change This fixes xorg.editres. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0ee460715b3a6a45c4cc8bfde714293c19b69b2a::
https://api.github.com/repos/NixOS/nixpkgs,56978,fix-oclock::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change This fixes xorg.oclock. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d55c04b6db1b8c31a184c70a5f413a00971fb583::
https://api.github.com/repos/NixOS/nixpkgs,56942,fix-gr-limesdr::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change A cmake update (?) broke the build (https://hydra.nixos.org/build/89859086). `pkconfig` is now required to find the limesuite include. Needs backport to 19.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",53b12891dc5a09fcc1a5986446f28a26406846bc::
https://api.github.com/repos/NixOS/nixpkgs,56913,rm-julia06::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: clean-up::,"###### Motivation for this change Remove Julia 0.6, which is not supported anymore (https://julialang.org/downloads/oldreleases.html) and fails on Hydra since the latest update of arpack to 3.6.3. Partially resolves https://github.com/NixOS/nixpkgs/issues/51506 Needs backport to 19.03 (https://github.com/NixOS/nixpkgs/issues/56826) CC @7c6f434c ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c997f5d0f2c2c5219fa46a3ccbb57ab46e98fce3::
https://api.github.com/repos/NixOS/nixpkgs,56884,isort::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::8.has: clean-up::,"We set $TMPDIR, because isort refuses to run in paths containing 'build' (since that is part of Python's typical build infrastructure). ###### Motivation for this change Version bump. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::```suggestion TMPDIR=/tmp/ pytest ``` or use `${python.interpreter}`. Please also add a comment on why TMPDIR is set.::This should be put inside the expression: `disabled = !isPy3k`. However, I don't think we can afford to drop Python 2 support right now.::Actually, I don't see any hint at isort only supporting Python 3. Do you?::This was in the release notes a while back: https://github.com/timothycrosley/isort/releases/tag/4.3.5 It might still work from coincidence, so I can switch it on again? AFAIK `isort` is mostly used as a CLI application, so it doesn't really matter what python version it supports.::Why do some packages use `callPackage ./whatever.nix { disabled = isPy3k; }`, and some use `disabledIf isPy3k (callPackage ./whatever.nix)`? `protobuf` uses the former, `zeitgeist` uses the latter.::Done.::The latter is only there because it has been for some time. It should no longer be used. The reason that we cannot simply drop Python 2 support is that there is quite a number of packages that depend on isort or pytest-isort. What you could do is use ``` isort = if isPy3k then callPackage ... { } else callPackage ... { }; ```::Ah, OK. So I should pin the old version for use in python 2?::Wait, only `protobuf` uses the `disabled = ...` syntax, everything else uses `disabledIf` - or am I missing something?::> Ah, OK. So I should pin the old version for use in python 2? Yes, please use the latest version with Python 2 support for that. > Wait, only protobuf uses the disabled = ... syntax, everything else uses disabledIf - or am I missing something? `grep -r ""disabled ="" pkgs/development/python-modules/` yields quite a lot of results.::Please add a link to the release notes.::Even though we now have two expressions, please do still add `disabled = !isPy3k` to `default.nix`.::Ah, I was looking in `top-level/python-packages.nix`. Done.::Done.::```suggestion propagatedBuildInputs = lib.optionals isPy27 [ futures backports_functools_lru_cache ]; ```::You could use `concatImapStrings`.::no need to change this::",f61ed7f4cdf6cfb8f786bc429dde03dd518ffb4c::6dac4d5f8ea7d3b244a81c48ade4bf4a4e8a0d32::
https://api.github.com/repos/NixOS/nixpkgs,56880,bash-root-prompt-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change b4b67177b53c23c6fb77aea7f0bc5c559f8bebe5 introduced a regression of its own: the prompt would end with $ for all users, not with # for root as it should. This should be backported to 19.03, and I'll do so when it's merged (unless the merger beats me to it!) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",efbd24ffcc42552d0827d7d56b718e0976fb72c8::
https://api.github.com/repos/NixOS/nixpkgs,56857,better-deprecate-optionSet::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: module system::6.topic: nixos::8.has: changelog::8.has: documentation::,"The explicit remove helped to uncover some hidden uses of `optionSet` in NixOps. However it makes life harder for end-users of NixOps - it will be impossible to deploy 19.03 systems with old NixOps, but there is no new release of NixOps with `optionSet` fixes. https://github.com/NixOS/nixops/pull/1088 Also, ""deprecation"" process isn't well defined. Even that `optionSet` was declared ""deprecated"" for many years, it was never announced. Hence, I leave ""deprecation"" announce. Then, 3 releases after announce, we can announce removal of this feature. This type has to be removed, not `throw`-ed in runtime, because it makes some perfectly fine code to fail. For example: ``` $ nix-instantiate --eval -E '(import <nixpkgs/lib>).types' --strict trace: `types.list` is deprecated; use `types.listOf` instead error: types.optionSet is deprecated; use types.submodule instead (use '--show-trace' to show detailed location information) ``` cc @samueldr @lheckemann @delroth (shoutout to @delroth for fixing issues in NixOps!) This has to be backported to 19.03::",f531ce75e4178c6867cc1d0f7fec96b2d5c3f1cb::
https://api.github.com/repos/NixOS/nixpkgs,56853,fix-rabbitpy::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change This fixes pythonPackages.rabbitpy. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Why do they have this restriction? (possible side effects)::```suggestion checkInputs = [ mock nose ]; ```::I actually don't see any tests in the tarball. Can you switch to using the github source? (also add a comment that there's no tests in the pypi tarball)::Did change to the github source.::> Did change to the github source. :confused: , I don't see it in the diff?::@worldofpeace Sorry, did comment a little prematurely.::Perhaps open an issue asking why the restriction on `<2.0`?::It seems the restriction of <2.0 was done before pamqp 2.0 was even released, so it seems this was made as a precautionary measure. Nevertheless I did open: https://github.com/gmr/rabbitpy/issues/118::> It seems the restriction of <2.0 was done before pamqp 2.0 was even released, so it seems this was made as a precautionary measure. Right, and that makes think that there could be problems >  Nevertheless I did open: gmr/rabbitpy#118 Good, at least they can know that people are using it with that version.::",c3cd51c72583271fec8d73ffaeddc8719ea94ee4::
https://api.github.com/repos/NixOS/nixpkgs,56851,fix-gcovr::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"###### Motivation for this change This fixes pythonPackages.gcovr. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::```suggestion gcovr = with python3Packages; toPythonApplication gcovr; ```::",5e2ac86e5be4a612e2dff47cb84101494a899f74::f13fdf4b1df8528e8ccf850053b787a41d261524::f10b0c6f8ca8e57a28e76ee86ec0252c7202f66d::
https://api.github.com/repos/NixOS/nixpkgs,56848,fix-mxnet::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change This fixes pzthonPackages.mxnet. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f7e6228b0e89095c09be2d1a3de91eab6eca3034::
https://api.github.com/repos/NixOS/nixpkgs,56847,fix-pyopencl::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change This fixes pyopencl. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",07f036972a0ed9d4fef1277226c94528133a1f27::886cb95433b8ce1686d3280d749b217f5f201ccc::
https://api.github.com/repos/NixOS/nixpkgs,56845,fix-mapnik::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change This fixes mapnik. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e844f08125be44df99c4b19f3958863debe7aeab::
https://api.github.com/repos/NixOS/nixpkgs,56844,fix-resampy::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change This fixes resampy. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",8e1afe7f146526952a4428b544cc321f82e5fe3d::d830bfba9a009f7d8c41382b18ff30913a14c264::
https://api.github.com/repos/NixOS/nixpkgs,56843,fix-smbnetfs::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change This fixes smbnetfs. Please backport to 19.03. ZHF-19.03: #56826 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b7c146c08ef62bc02ac5ecc580163418f0f554e0::
https://api.github.com/repos/NixOS/nixpkgs,56786,dlib-avx-fixes::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: documentation::,"###### Motivation for this change This change aims to improve the overall situation of how AVX is used to compile DLib and its Python bindings. This PR consists of the following commits: * `9732c44`: Adds `avxSupport` (true by default) to the `dlib` builds. If older hardware is used, DLib can be compiled without AVX. * `6fec5aa`: Bump face_recognition to 1.2.3 and disable the check phase for now to avoid breakage on Hydra builders without AVX support. After changes, maintainers should run `checkPhase` locally in a `nix-shell`. Please have a look at the full commit messages for more information. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::`avxSupport` to be in line with other derivations::you're right, fixed.::This should follow how it is built.::I'm afraid I have to disagree here: as explained in the commit message and the comment above, some Hydra builders are affected by the problem as well. However their build results are likely used by machines that can (and hence should) use this feature. Right now we ensure in every environment that the package is functional and we set a sensible default for our end users.::May I ask how you'd implement this currently? If I understand the discourse thread you've linked correctly, precise matching of optimization flags isn't implemented yet.::full ack then. I'll resolve this discussion for now and subscribe myself to the discourse thread. As soon as we have a solution for this in nixpkgs, I can improve the `dlib` package. For now I'd like to see this merged and backported into the release.::",9732c44225910d5726ff95a7ab8c9a4684dfec4d::6fec5aac83e7ad4206050fab82d8e913a8f657bf::
https://api.github.com/repos/NixOS/nixpkgs,56589,kubernetes-module-stabilization::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change While testing the revamped kubernetes module on our existing staging cluster with `easyCerts` disabled, I discovered some minor flaws in the module: 1. The name of the etcd instance must be `mkDefault`'ed, because otherwise we risk overriding existing etcd cluster names, and that *could* potentially lead to cluster re-initiation on existing setups. 2. It's currently not possible to use the `kubernetes.lib.mkKubeConfig` function to generate a kubeconfig with a custom ca. It will always use the toplevel ca cert. This is fine for current easyCerts setup, where we don't have multiple CA's, but in existing setups this might cause problems. We 3. Turns out adding TLS-server certs to the controller manager was never done as part of the revamp and therefore we never discovered that the `--tls-key-file` flag on kube-controller-manager was named incorrectly. Similar flag names differ across various k8s components, but in this case it must be `--tls-private-key-file`. We should add TLS-serving certs to the controller-manager in another PR. cc @fpletz for review **please backport to 19.03** :) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Same as just `conf.caFile or cfg.caFile`::@Infinisil Right, thanks. Fixed now.::",80c4fd4f8570bd921a44245e740b68256588ab1a::
https://api.github.com/repos/NixOS/nixpkgs,56571,u/mqtt::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change A couple of nasty CVEs. I will make a proper test for this and backport the regular upgrade (without the systemd bit) to 18.09. Cc: @srhb ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5638a1c71738013e96a51b07ce7a39d76a33448c::0e40b7bfc2004a5448aa3883a528e2b381d9d877::
https://api.github.com/repos/NixOS/nixpkgs,56557,redmine-pkg-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: package-maintainer::,"###### Motivation for this change Minor version bump. I guess technically at this point this is a 19.03 backport as well. http://www.redmine.org/projects/redmine/wiki/Changelog_3_4 http://www.redmine.org/projects/redmine/wiki/Changelog_4_0 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",79c8da230b9ae029003248eb47a42d52236528da::
https://api.github.com/repos/NixOS/nixpkgs,56462,blockio-fix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::11.by: package-maintainer::6.topic: python::,"###### Motivation for this change This should also be backported to 19.03 to fix the build ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::We can't do that for Python packages. You should instead patch the source.::you mean make it work with the latest version of `pycryptodome` ?::Exactly. I guess the only thing that's necessary for that is patching setup.py.::I tested it with the last pycryptodome version and opened a PR upstream, this PR is updated with the corresponding patch::```suggestion url = ""https://github.com/BlockIo/block_io-python/commit/8ec0a0cd1afcfcb439d6dc306d8497dd9e4a0993.patch""; ``` The content of a PR can change.::You are right, fixed::",5032ce45e3a79da6c223f9dfeb2de394de82c5ad::
https://api.github.com/repos/NixOS/nixpkgs,56448,libguestfs::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change libguestfs-appliance is huge (4g) and can't be built on Hydra. I'd like to be able to fetch a prebuilt libguestfs, and don't need the appliance. Not sure about knock-on effects here, though. Also I'd like a backport to 19.03 :D cc @offlinehacker for review please :) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",47c3469de33611aadf8c0154f9dac344a38f4002::
https://api.github.com/repos/NixOS/nixpkgs,56352,postgresql_updates::staging,0,merged,10.rebuild-darwin: 501+::10.rebuild-darwin: 501-1000::10.rebuild-linux: 1001-2500::10.rebuild-linux: 501+::,"###### Motivation for this change This PR updates all the supported versions of postgresql (except for 11, this one is already up to date). Given the number of derivations depending on postgresql, this PR is against staging. Once merged, I’ll backport this to `staging-18.09` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d1dd3a1f1af731d7b2a301a829f14be72b9654f8::74c715e39cab6e558ccc170021154a3e6ea6e026::70a31c2e003e6d2a283a24e74ae0d2c82b8696a0::a90cf49fa99d8625beac67eabe236eef25704755::
https://api.github.com/repos/NixOS/nixpkgs,56326,openssh/fix-socket::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Previously, if startWhenNeeded was set, listenAddresses option was ignored and daemon was listening on all interfaces. Fixes #56325. This should probably be backported as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Eh, this means IPv6 addresses in `listenAddresses` have to be enclosed in brackets, right?   Maybe that's a bit confusing, though I haven't studied nixos customs there.::@vcunat good point! I'll try to find some solution for it...::It seems that sshd understands `[ipv6]:port` notation as well: https://linux.die.net/man/5/sshd_config.::",131e31cd1b7bbef6214a0e711136bf4093fde7b5::
https://api.github.com/repos/NixOS/nixpkgs,56127,fix-es6::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Elasticsearch fails to build: #56055 On master, `autopatchElf` was improved (#47222) but with minor incompatibilities which were fixed on master. However autopatchElf was backported (#55538) without one of the fixes. This is the simple `git cherry-pick -x` backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b36e2877f137eed456185a4be138f28269b96931::
https://api.github.com/repos/NixOS/nixpkgs,56127,fix-es6::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Elasticsearch fails to build: #56055 On master, `autopatchElf` was improved (#47222) but with minor incompatibilities which were fixed on master. However autopatchElf was backported (#55538) without one of the fixes. This is the simple `git cherry-pick -x` backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b36e2877f137eed456185a4be138f28269b96931::
https://api.github.com/repos/NixOS/nixpkgs,56115,nixos-rebuild-upgrade-nix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"If our old Nix can’t evaluate the Nixpkgs channel, try the fallback from the new channel /first/. That way we can upgrade Nix to a newer version and support breaking changes to Nix (like seen in the upgrade o Nix 2.0). This change should be backported to older NixOS versions! It would enable users to go from pre-Nix 2.0 NixOS to NixOS requiring 2.0. Using this patch I was able to update from NixOS 17.09 to NixOS 19.03pre. ::",475c8aa018bbdd99e7e9d693c7207cdccdcde7b3::
https://api.github.com/repos/NixOS/nixpkgs,56087,hostapd-bump::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Note: Unfortunately, I strongly disagree with the software development practices of hostapd and wpa_supplicant, which is: too long of a release cycle and no stable branch with backporting of fixes. Also I am not able to review or track upstream commits to see what's good for backporting. All I can do, is send a PR and hope that upstream testing was sufficient. Given that 2.7 ships 2 years worth of changes, I do expect a fallout however! :( ###### Motivation for this change Upstream release ###### Things done Pushed to my laptop to test wpa_supplicant. Pushed to my nixos access point to test hostapd. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3e7af59243092720df41da27f49779fe9632a410::
https://api.github.com/repos/NixOS/nixpkgs,56018,fix-cuda-gdb::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change The ncurses upgrade to libncurses.so.6 did silently break cuda-gdb quite some time ago. To reduce the chance of it breaking again we introduce simple smoke tests that do run all the programs shipped with cudatoolkit. We add some fixes for the GUI applications, upgrade cudatoolkit-9.0 and make sure all older versions build. #56826 Please backport to 19.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c8fcd68662d3369c85b5f0d6a7e58774f712d095::f4839744897c87a28dc9d34842023aad5f5e60be::ec2c972acc143a4df5328a1ae8b390d876dfc058::3e0723f2b2e0d7b4e94d2045eb21272f8fdfb05c::
https://api.github.com/repos/NixOS/nixpkgs,55688,update/tor-browser-8.0.6::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"https://blog.torproject.org/new-release-tor-browser-806 ###### Motivation for this change May be good to backport to stable as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",12984854c6ea9419f190f55b4a2b5626d8b81c8c::
https://api.github.com/repos/NixOS/nixpkgs,55577,matplotlib-numpy-1.16::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"###### Motivation for this change Numpy deprecated asscalar in 1.16. This will be fixed in the next matplotlib version, but to avoid deprecation warnings (and because they are breaking the sage testsuite), it can't hurt to backport the fix already. Upstream: https://github.com/matplotlib/matplotlib/pull/12478 The patch is already included in 3.x and will be in the next 2.x release. Also adds a small sage patch needed for numpy 1.6 compatibility. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",56d92ba70cf0b38566290a38cf48209257127521::57280289163450db771cb2c97ece275ef9131213::
https://api.github.com/repos/NixOS/nixpkgs,55453,cron-editor::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Issue #54827 Please backport this to 18.09 as well as it is breaking some workflow. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c8547081cb61d6078f0681be98a5331717a115f3::
https://api.github.com/repos/NixOS/nixpkgs,55429,keybase-updates-backport::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: port to stable::,"###### Motivation for this change Thought it would be a good idea to backport as certain users were having problems, and it seems keybase has certain restrictions with which client versions can communicate with their servers. cc @rvolosatovs ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::why this change?::Using `fetchFromGitHub` does not work on Darwin. Please see 8da3c3648a0279f78a130abe10941a68fec7240a for context.::Why not just redefine` fetchFromGitHub` as(simplified): ```nix { fetchFromGitHub = {owner, repo, rev, sha256}: fetchurl { inherit sha256; url = ""https://github.com/${owner}/${repo}/archive/${rev}.tar.gz"" }; } ``` Then? There are plenty of packages using the function(which AFAIK was considered the best practice), and so we'd need to change all invocations in `nixpkgs` to ensure consistency and compatibility with Darwin.::We'd get a major loss there as the automatically generated archives are not stable and can result in a different hash, which is something we don't want. It's less a problem to just use fetchurl for darwin and open that risk as this would never build on that platform if we didn't. Commit msg for context > fetchFromGitHub and thus fetchzip hashes the contents of the archive and not the archive itself. Unicode file names lead to different checksums on HFS+ vs. other file systems because of Unicode normalisation Though it might be worth checking if we can eliminate this problem in the near future by identifying the problematic file upstream.::> Though it might be worth checking if we can eliminate this problem in the near future by identifying the problematic file upstream. I did not like this solution either, I would love to find a way for us to hash the contents regardless of the Filesystem. Keep in mind also that most Darwin machines are now sold pre-installed with APFS, which does not suffer from this issue.::",697aed9d3bf1356665fb69ea0f7a3432884d789e::980ae050bf745bbd4973b8f2989502c92e96a557::10defba5298ffb4ad1b730a7e2530402a8acbc21::e730b1b557d3adb1456f7501b4523606e45e1c10::1e00feaa4a3cef1f1cd48cbdcce4fdd9781c25e6::ee3986387f6bca1ad528ff345d89212609d1de80::f659d701d8fea24bafe595b8b50e27e99b9bfd78::2d997e7a671eb9c8af3ca256aca9e090ab8a7a97::c0a99a54185dff9996ac39fdd5c2cc12493e1536::
https://api.github.com/repos/NixOS/nixpkgs,55334,update/curl-7.64.0::master,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 5001+::10.rebuild-darwin: 501+::10.rebuild-linux: 5001+::10.rebuild-linux: 501+::8.has: port to stable::,"CVE-2018-16890 CVE-2019-3822 CVE-2019-3823 https://curl.haxx.se/changes.html#7_64_0 ###### Motivation for this change Fixes, security. Should be backported. Sending to master since CVE's but will cause many rebuilds. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",5a4e8a410f71f4073039da0d9f13ee58d379add2::
https://api.github.com/repos/NixOS/nixpkgs,54937,django_1_8-insecure::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: python::,"###### Motivation for this change Since CVE-2018-14574 and CVE-2019-3498 affect 1.11, it is very likely they also apply to 1.8. However, Django 1.8 has reached EOL in April 2018 and the patches were not backported. related to https://github.com/NixOS/nixpkgs/issues/52679 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @rickynils @offlinehacker @basvandijk::",72d68869974ba8d0a0640aa48857738890bed218::
https://api.github.com/repos/NixOS/nixpkgs,54691,prometheus-ec2::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Prometheus's configuration in Nix is exhaustively specified. To use any of the various service discovery mechanisms they must be defined in the module. This adds definitions for the EC2 service discovery according to the [Prometheus Documentation for version 1.8][], matching the default value of `config.services.prometheus.package`. Applies cleanly to 18.09 where I tested it, and is purely additive. If merged, I'd like it to be backported as well. In the interests of not having to closely track upstream changes, would it be preferable to have an `extraConfigs` inside `scrapeConfigs`, that is merged as pure data? For example, if a user wants to use prometheus 2.6, it has a new option in the EC2 service discovery section called `filters`. As is, this is impossible(?) without updating this module again, but with an `extraConfigs` there's an escape. [Prometheus Documentation for version 1.8]: https://prometheus.io/docs/prometheus/1.8/configuration/configuration/#ec2_sd_config ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ad7e232f88da63802544a4b473185a5589fd9a74::a23db5db08206e77c2861107bfaf600b8ff7f5ce::a913d0891cae7557bf6b56d6fc7b251aff373b2e::
https://api.github.com/repos/NixOS/nixpkgs,54565,18.09-runScript::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change This is a backport of https://github.com/NixOS/nixpkgs/pull/49077. I ran into this problem when following [the manual for 18.09](https://nixos.org/nixpkgs/manual/#sec-fhs-environments) on NixOS master - `nix-shell` used NixOS 18.09 and `runScript` didn't work. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6f05dea390768f1750912fbc72e8526dd29d91d3::
https://api.github.com/repos/NixOS/nixpkgs,54505,18.09/firefox65::staging-18.09,0,merged,10.rebuild-darwin: 501+::10.rebuild-linux: 501+::6.topic: rust::8.has: documentation::8.has: package (new)::,"This is the stable counterpart to #54504. It is a bit more intrusive and therefore targeted towards staging-18.09. I had to bump the usual suspects (`nss`, `rust`) and a newcomer(?) icu in order to make Firefox happy with the system libraries we are providing. The rust upgrade is just importing the current version of rust 1.31 from stable into the tree. It replaces the previously backported version 1.29. All the previous versions of Firefox (and derived packages) build fine using the bumped versions. The latest / last commit in this branch (052bed9) should be dropped before this is being merged. This PR just serves the purpose of putting the changes out there and collect some initial feedback on the approach I took here. I rebuild all the Firefox packages and executed the nixos tests for firefox. No unexpected failures. If the general feedback is positive we should merge this into staging-18.09 before 2019-01-29 to be able to build the upcoming release version on 18.09. cc'ing the release managers @vcunat @samueldr and @taku0 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Have you considered not ignoring it and setting `stripPrefix ? stdenv.hostPlatform.isDarwin` ?::I have not considered that. I just wanted to keep the diff to the original commit as small as possible. It probably makes sense to do that change thought since the only user is really just rust.::Right: https://github.com/NixOS/nixpkgs/pull/54512::",335f87f88c80b050be56877b2b04ba6e5a74267b::577aa817e63acf80f4eacf90b7633f3b4b44c107::ae835664b2f8fe2d32b4d093b856bcaf60d86f36::5a0116e4c307265850b825bf1949c81dca6da3d3::e76e8909c689e62b2dceefc8733ff6b9875a50c8::
https://api.github.com/repos/NixOS/nixpkgs,54425,init/srhtPackages::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::11.by: package-maintainer::2.status: work-in-progress::6.topic: python::8.has: clean-up::8.has: package (new)::,"###### Motivation for this change Totally didn't steal `pgpy` and `sqlalchemy-utils` from #50328. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::`disabled = !isPy3k`::```suggestion homepage = https://weasyprint.org/; ```::```suggestion homepage = https://github.com/ojarva/python-sshpubkeys; ```::You might have to add `PYTHONPATH="".:$PYTHONPATH""`.::That's a duplicate.::Why?::```suggestion { lib, fetchPypi, buildPythonPackage ```::```suggestion meta = with lib; { ``` Please also do so for the other packages.::That's for `pytest_32` used by `celery`. This has been fixed in fae1f7afc144ba11bc8fa340878b85956291280b, which will be merged with https://github.com/NixOS/nixpkgs/pull/54306.::No period: https://nixos.org/nixpkgs/manual/#sec-standard-meta-attributes::A syntax error cannot be fixed by disabling tests. This is probably because celery does not support Python 3.7 yet: 932f0baec20c6b0947605115f78240d85ed926b4.::missing::```suggestion homepage = https://public.readthedocs.io/en/latest/; ```::Has the proposal been adopted?::That should be fixed.::`disabled = !isPy3k`::```suggestion # Tests need network access ``` or something along the lines::`disabled = !isPy3k`::```suggestion homepage = https://aiosmtpd.readthedocs.io/en/latest/; ```::```suggestion pname = ""todo-sr-ht""; ```::Either fix or explain the error::```suggestion buildPythonApplication rec { ```::Why's this patch needed?::I'm not sure about capitalizing this one.::I can't seem to get the sitepackages for srht to show unless I explicitly specify `SRHT_PATH` but for it to get to `SRHT_PATH` I need to get rid of the first part in the if statement. https://git.sr.ht/~sircmpwn/git.sr.ht/tree/master/setup.py#L8 PYTHONPATH seems to be fine in the derivation, but `getsitepackages` only returns the python derivation's sitepackages.::What about this one? The files should have more descriptive names.::`npm.patch` is suppose to remove the code that calls `npm i` since the derivation doesn't have network access, `node_modules` are fetched through `fetchNodeModules`.::Missing?::Included ```nix preCheck = '' export PYTHONPATH=""$(pwd):$PYTHONPATH"" echo $PYTHONPATH ''; ``` but ``` ====================================================================== ERROR: tests (unittest.loader._FailedTest) ---------------------------------------------------------------------- ImportError: Failed to import test module: tests Traceback (most recent call last): File ""/nix/store/ydk0mfpvn9smcmn72wc9i20slv1d2b79-python3-3.7.2/lib/python3.7/unittest/loader.py"", line 154, in loadTestsFromName module = __import__(module_name) ModuleNotFoundError: No module named 'tests' ```::Sorry. I though that was some kind of placeholder. It is obviously not but needs to be changed to a real description.::Switch the all but `core-sr-ht` to `buildPythonApplication`, since it looks like `core-sr-ht` is suppose to be a python module, `srht`, I'm also guessing now I should move `core-sr-ht` into `pkgs/development/python-modules`?::> I'm also guessing now I should move core-sr-ht into pkgs/development/python-modules? If it's not going to be used by any other package, you might as well keep it here. But definitely remove it from `all-packages.nix`.::Ah okay, I just copied the description from `setup.py` which was `public -- @public for populating __all__`, I guess I'll steal part of it from `longDescription`.::It looks like it might've been rejected? https://bugs.python.org/issue26632::Setting explicitly in the derivation, `PYTHONPATH = "".:$PYTHONPATH"";` errors with ``` Found duplicated packages in closure for dependency 'sshpubkeys': sshpubkeys 3.1.0 (/nix/store/2vd539zsgavw0c7vajsy4a18wwp6hcsi-python2.7-sshpubkeys-3.1.0/lib/python2.7/site-packages) sshpubkeys 3.1.0 (/build/sshpubkeys-3.1.0) ```::Don't actually know how to fix this but by following the stack trace, it seems like it required a working server? Or at least a configuration file that is present at `/etc/sr.ht/config.ini` or `config.ini`. https://git.sr.ht/~sircmpwn/core.sr.ht/tree/master/srht/config.py#L9::I must have been blind. That's simply because the tests/ directory is missing. See https://github.com/ojarva/python-sshpubkeys/pull/58.::Switched `pythonPackages` from `python3Packages` to `python36Packages` and everything still builds so I'll keep it at `python36Packages`. At least based off `staging-next` on my local `nixpkgs` branch.::Tried including that PR as a patch but didn't seem to work, just changed it to use the Github source since the `tests/` directory is there.::I think if the description would actually describe something the problem wouldn't exist ;-)::Uh sorry, I'll try to come up with better descriptions.::maybe better ``` Enable sr.ht - git hosting, continuous integration, mailing list, ticket tracking, task dispatching, wiki and account management services. ```::Please include a comment with reason for not using `fetchPyPI`.::Better use `python36Packages` as argument in the expression and move the comment there.::This can also be put in a let statement inside the expression. However, I'm not sure if `fetchNodeModules` should be used, I'm not familiar with the Node ecosystem.::Don't know if this is how it should be done but running `pytest --pyargs public` in `checkPhase` fixes it.::This should not be propagated.::```suggestion redis_2 = redis.overridePythonAttrs (oldAttrs: rec { ``` You should also use `python.override { packageOverrides = self: super: { ... }; }` and this overriding is probably best done in `default.nix`.::```suggestion ```::```suggestion src = oldAttrs.src.override { ```::```suggestion inherit version; ```::No need to comment the lines out, just delete them.::Why did you include it, then? Just get rid of all comments regarding flake8, no need to test for code quality in nixpkgs.::You don't need to include the hooks as none are specified anyway.::There's really no point in having `longDescription` if all it does is repeating `description`.::If I build `python2.pkgs.sqlalchemy-utils`, I get `Ran 0 tests in 0.000s`. A custom `checkPhase` might be needed, probably `py.test sqlalchemy_utils tests`::You may need to add `gobject-introspection` to `nativeBuildInputs`. I'm not sure if something like `gtk` is needed in `buildInputs` though.::Trying to filter through the build log but it seems it needs something hosted on localhost?::I had to delete some failing tests while manually setting `LD_LIBRARY_PATH`.::Well quite a lot of tests pass ... while a lot of tests also fail ...::Oh, the patch is actually needed for the tests to just not fail, since it first checks if `.flake8` exists before checking whether or not `flake8` is there and skipping if it isn't.::Every package that calls `srht` as a dependency then calls its `Makefile` which requires `sassc` and `node` to compile so shouldn't it be propagated?::I have opened https://github.com/MagicStack/asyncpg/pull/399.::It that case: `s/is/was/`.::There are multiple progressbar successors in our `python-packages.nix`, some of which support Python 2 and 3.::The tests are accessing the network (localhost). That's why they're failing. And if that weren't prohibited by the sandbox, there still would be no database to access.::xfailed means they are expected to fail. No need to remove them.::Is this only needed for the tests or to run the program in general?::It looks like it is just an outdated test, polyfilled `progressbar` with `progressbar33` and I get an error of `ImportError: cannot import name 'Exportable' from 'pgpy.types' (/build/source/pgpy/types.py)` and checking `pgpy/types.py` there doesn't seem to any object called `Exportable` there. Though `progressbar2` seems to be blocked by a single test with no blunt error I can make out, https://hydra.nixos.org/build/87231550/nixlog/1.::`glib` and `pango` are specifically needed for the tests to succeed, though looking at the external dependencies, `cairo` and `gdk_pixbuf` are needed for it to execute.::That error should be reported upstream if it has not been fixed yet. To fix the progressbar2 build, I have pushed 667230441802bcbf278eaf928df28643fbb91ee2 to master.::It might be possible that this is because `gpgme.version != 1.8.0` but I'm not having a lot of success overriding `gpgme` back to 1.8.0, whether from `toPythonModule` or `overridePythonAttrs`.::That comment seems to be outdated.::https://github.com/SecurityInnovation/PGPy/issues/250::No idea about why they're failing. Might be worth reporting upstream.::No, because there might some package depending on e.g. sr-ht-git but not requiring them. You should put them in each package's `buildInputs`.::Is it better to move `sassc` and `nodejs` to `buildInputs` then pass along the `buildInputs` by referencing `buildInputs = srht.buildInputs`?::That's fine as well.::Shouldn't that be configurable?::As well as these URLs?::As well as all these unset options?::Yeah, working on the module still.::By default they're unset, don't actually know if they are required yet.::Does the user need to be a ""real"" user or would a systemd `DynamicUser` be fine?::Just did a bit of reading and using `DynamicUser` might be possible if the logs go into `/var` or `/var/tmp` and if I can serve the directory through nginx, since I don't know if it's possible to access it with `PrivateTmp` on.::Do note that `DynamicUser` is currently broken in `18.09`   (I fixed it in `master` and `18.09`) ::Expanded https://github.com/SecurityInnovation/PGPy/issues/250.::I don't think are any plans or reason to backport this anyway, seeing how `19.03` is coming soon.::I have no clue what's going on here but the `checkPhase` succeeds now so that's good?::I'm pretty certain this isn't the way I should be doing this, including `meta-sr-ht` in `path` only includes the `/bin` directory, same problem goes for `LD_LIBRARY_PATH`, since it needs weasyprint's `LD_LIBRARY_PATH`. Though after patching those things, `meta.sr.ht` looks like it works, albeit without the database.::It should be sufficient to use `python36.withPackages`.::That does not work if it's imported. You should instead use a patch and `substituteAll` to hardcode the paths here: https://github.com/Kozea/WeasyPrint/blob/v44/weasyprint/text.py#L235-L240.::Should `libfontconfig.so.1` also be patch or is it safe to assume that `fontconfig` is always in `LD_LIBRARY_PATH`?::Oh, tests broke due to line length, is it better to patch in an increase to `max-line-length` or just disable `flake8` tests altogether. If it's better to disable it, should I remove the reference to it as a dependency as well?::https://github.com/NixOS/nixpkgs/pull/54425#discussion_r250533104::If you're at it, yes, fonconfig should be patched in as well. There's no value in running flake8 tests and you can hence safely disable them. However, that might be more work than just adding an exception for the respective lines. See http://flake8.pycqa.org/en/3.1.1/user/ignoring-errors.html#in-line-ignoring-errors.::`python36.withPackages` doesn't seem to work with the `*-sr-ht` packages. Though it seems `toPythonModule *-sr-ht` does?::Please be more specific.::So for `meta-sr-ht` it has a python module called `metasrht`, so if I do `python.withPackages (ps: with ps; [ gunicorn meta-sr-ht ]))`, `metasrht` should be available for importing but isn't. However `pkgs.python36Packages.python.withPackages (ps: with ps; [ gunicorn (toPythonModule meta-sr-ht) ])` works?::```suggestion python = python36.override { ```::```suggestion }; core-sr-ht = self.callPackage ./core.nix { inherit fetchNodeModules; }; meta-sr-ht = self.callPackage ./meta.nix { }; ```::```suggestion meta = with python.pkgs; toPythonApplication meta-sr-ht; ```::Makes sense since meta-sr-ht is using `buildPythonApplication`.::Why not use `substituteAll`? That's at least what I usually do but it's up to personal preference.::```suggestion +pango = dlopen(ffi, '@libpango-1-0@') # noqa: E261,E501 ``` No need to have multiple options if we already know the one.::```suggestion --subst-var-by libpangoft2-1-0 ${lib.makeLibraryPath [ pango ]}/libpangoft2-1.0.${stdenv.hostPlatform.extensions.sharedLibrary} \ ``` Not sure about the advantage of using `makeLibraryPath`.::It seems better to use for multiple outputs, like for `fontconfig` at least, since `lib/` is within `fontconfig.lib`.::Ah, didn't know that.::If I interpret this correctly, switch `buildPythonApplication` to `buildPythonPackage`, find a way to index the new `python` with the modules and then use `withPackages` in it?::Exactly. And you can make `python` know about the modules by putting them in `packageOverrides`.::Since they're all going to be python modules, should I just move all of them into `python-modules` instead and move the overriden `redis` into the derivation again? Then `toPythonApplication` within `all-packages.nix`.::Like instead of doing `@libgobject-2-0@` do `@glib@/lib/libgobject-2.0.so`? That would be fine but the `fontconfig` would still have to be manually patched since it resides in `fontconfig.lib`.::All of them? I had the impression only core and meta would ever be used as modules. And no, I really don't think there's any use in having them in `python-packages.nix`.::Yeah, since it seems that when `gunicorn` is run, it imports the module from each package.::Ok, then just use `buildPythonPackage` and add a comment on why it's needed.::No, instead of using `substituteInPlace` you can use `substituteAll` inside `patches`. Just search for it and you'll see how it works. Btw, you can e.g. put `libgobject-2-0 = ""${lib.makeLibraryPath [ glib ]}/libgobject-2.0${stdenv.hostPlatform.extensions.sharedLibrary}""` in there.::Oh, I only knew about the `substituteAll` as a function `substituteAll inFile outFile` from nixpkgs/manual, and turns out there is a equivalent of `makeLibraryPath` for one package, `getLib`, so I'll change that to.::This URL doesn't exist?::Looks like the example config is outdated in some parts, looks like it's now in with the installation instructions? https://man.sr.ht/builds.sr.ht/installation.md#security-model::Does this override the ability to customize ""origin="" settings?::For example. Login/Register links seem to be broken.::This seems fixed in e462c78c4c38 with server.protocol.::Not really someone who actively uses Python, but looking at the code [1], there is a possibility that the local `config.ini` overrides the global configuration. However, I don't see any `config.ini`s (`find -name '*.ini'`) in the output derivation so I believe it shouldn't matter. The login/register links in meta.sr.ht work fine for me, however, there is a ""broken"" link that leads to `sr.ht` instead of `/login` [1] https://git.sr.ht/~sircmpwn/core.sr.ht/tree/master/srht/config.py#L12::I think I was able to resolve this with service.srht.*.domain settings.::Don't know whether or not this (and the one above) should be handled on `python-packages.nix`.::I know this is a small patch but is there any way to get it from an external source?::Now retrieved from https://github.com/MagicStack/asyncpg/commit/aaeb7076e5acb045880b46155014c0640624797e.patch.::Is there a way to expose this package within a nix-shell? (Context: trying to do development for builds.sr.ht on NixOS.)::@eadwu since you are listed as the maintainer::`sourcehut.python.pkgs.srht`, it probably isn't a good idea to keep talking on this thread.::In case you switch threads, please mention me. I'm trying to keep an eye on the progress of this.::Oh, wow, I feel really dumb now. I missed that `python` was inherited. Thanks for the quick response!::",e73473f4249b4a41423c94ae60355db34343b852::beb547a1c6716820838f5db15903b02eaad963c3::15eb9f95abdee254bd4710fe336c77a65ad220f2::cd878d09d9def5433b040453ce9a27c1e79a2ccf::eaa81a4cced8d8c7124b9e8cbb20d32988eb5dcc::ee2161c5e82b2c7be9dcfcb0105e99fee1bddd3f::4adaa3c31383fb89469950bd7032c3cd4affef35::b45ecd0f70724145c9f3e2c2287ef693166ef54b::f006c88d82267952b745cca94c55c94f8970c75d::a2ca6ef26f31c806652ea36b04f95ae01eb701eb::
https://api.github.com/repos/NixOS/nixpkgs,54252,electrum::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change **This is an security update. Please add the relevant tag if you can. :)** From the release notes https://github.com/spesmilo/electrum/blob/3.2.x/RELEASE-NOTES: `backport anti-phishing measures from master` Also see the backported version to the stable nixpkgs branch in PR #54253 While there is a newer version available, it needs more work to package. In the meantime I think it would be a good idea to atleast to merge this PR, esp. for stable nixpkgs. cc @ehmry @joachifm @np ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",cfcce55e1c87c2dff91aa7402a6864d702b5b891::
https://api.github.com/repos/NixOS/nixpkgs,53773,synapse::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Critical security upgrade. Please backport to 18.09 ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- I only tested building on unstable. I manually ported the changes back to my 18.09 installation that runs my production matrix-synapse with no issues. ping @Ekleog as per request. ::",7004b90468557b10cbe5ef63c52e37b76b943a00::
https://api.github.com/repos/NixOS/nixpkgs,53561,release-18.09-wordpress-plugin-copy::release-18.09,0,merged,,backport of https://github.com/NixOS/nixpkgs/pull/53399 @basvandijk ::,820bb86340f2f11268f1e3113fca48270c287504::
https://api.github.com/repos/NixOS/nixpkgs,53456,fix-scribus-icon::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Scribus has no desktop icon currently. I’ve checked in the source tarball, and there is nothing good here: only a low-res icon. ###### Things done I’ve got a SVG file from [this page](https://wiki.scribus.net/canvas/Promotion_material) on the Scribus Wiki and edited it a bit to get a square file and center the circle. Since the icon is not present in the source tarball, I’ve put this resource in `nixpkgs`. I’m not sure if it is a good thing or not, let me know if you have a better idea on how to do this. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- I have also checked the possibility to backport it to `release-18.09`: it would require one more action to create the `.desktop` file since Scribus 1.4.6 does not include one. I have already defined one for a wrapper in my [Nix channel](https://github.com/ejpcmac/jpc-nix/blob/master/pkgs/scribus-with-icon/default.nix#L6-L13) so I could port it easily to `release-18.09` if it is OK to proceed.::Can we download this from somewhere? Ideally it would be included in the the src::No, the original SVG file is [here](http://linux.hanski.info/static/scribus_promotion/scribus-icon2.svg), but it is not square nor centered so I’ve edited it. If you know how we can script that on the SVG file or when converting it to PNG we are good, but else we need to use this custom file.::How about supplying icon.svg as a gist? This way it would not pollute the Nixpkgs source.::@erictapen Nice idea, I’ll do this.::Done. I can rebase and squash the commit if needed.::",ee4f73c472ae2b40845bf44a2f45ea2a44997d29::d314a705152af4a7d0832830e7babecdaa7589cf::
https://api.github.com/repos/NixOS/nixpkgs,53436,nix-universal-prefetch::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::,"Upstream URL: https://github.com/samueldr/nix-universal-prefetch ###### Motivation for this change Let's hopefully have users use this! This software is intended to resolve once and for all the question ""but I don't want to TOFU?"" (which isn't even a question!) when end-users want to get the hash to use with a specific fetcher. > For anyone confused by TOFU, one of the quick replies on IRC is: > > To get a sha256 hash of a new source, you can use the Trust On First Use model: use probably-wrong hash (for example: 0000000000000000000000000000000000000000000000000000) then replace it with the correct hash Nix expected. This, in addition, could be used with automated scripts to reduce hand-holding when the fetchers aren't simple underneath. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - ⬜ macOS - ⬜ other Linux distributions - ⬜ Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - ✔️ Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - ✔️ Tested execution of all binary files (usually in `./result/bin/`) - ⬜ Determined the impact on package closure size (by running `nix path-info -S` before and after) - ✔️ Assured whether relevant documentation is up to date - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Additionally, I ate my own dogfood when making this PR, and did **not** TOFU the hash, but instead ran: ``` nix-universal-prefetch fetchFromGitHub --owner samueldr --repo nix-universal-prefetch --rev v0.1.0 ``` --- ::Out of curiosity, why put the `version` in the `meta`?  It's already an attribute on the derivation.::Frankly, you'd have to ask me past July, when I added `nix-top` as I copied its derivation and removed what wasn't required, while not really looking at `meta`. I must have had a brain fart when implementing that.::Support for `pname` and `version` [has been added to `stdenv.mkDerivation`](https://github.com/NixOS/nixpkgs/blob/c8c53fcb1154999dabac350bebe12611a0f75024/pkgs/stdenv/generic/make-derivation.nix#L84) (it is not backported), so considering you already do add `version`, you should probably split `name` in `pname` as well.::",b371be5298d62bb0a995de267411b3922b18ab94::
https://api.github.com/repos/NixOS/nixpkgs,53430,backport/gitea-1.6.3::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"Changelog: https://github.com/go-gitea/gitea/releases/tag/v1.6.3 (cherry picked from commit eeb35be95dd6cd5d35946a6191e9b9b48703dd00) ###### Motivation for this change @etu mentioned that this needed a backport because it had a security related change. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",59412a63ce7c5ea54644f4bdacfcef1f08c044a3::
https://api.github.com/repos/NixOS/nixpkgs,53420,upgrade-gitea::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (update)::,"###### Motivation for this change Changelog: https://github.com/go-gitea/gitea/releases/tag/v1.6.3 This contains security related changes and should be backported to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @disassembler ::",06b324778402ffd38dd7b90f9f991770d4632bb9::
https://api.github.com/repos/NixOS/nixpkgs,53270,update-nodejs::staging,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change Node 6.16.0: https://nodejs.org/en/blog/release/v6.16.0/ Node 8.15.0: https://nodejs.org/en/blog/release/v8.15.0/ Node 10.15.0: https://nodejs.org/en/blog/release/v10.15.0/ Node 11.6.0: https://nodejs.org/en/blog/release/v11.6.0/ because some breaking changes in the previous releases, these commits need to be backported to 18.09 Pointing to staging because requires https://github.com/nixos/nixpkgs/commit/5b9ad12e7be ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [X] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",39bec3990e6864026b65b13cc2deb907bd5398e2::bf847226ca07f07aa6ae923090fbdf3d0777c675::4c917c69614bf5fa740e744f74725e6b5697dfe5::68d8c2e26bc50e2630068f5540c508bb79cc7fd6::
https://api.github.com/repos/NixOS/nixpkgs,53196,master::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change Updated the package to get upstream fix for HTTP/2 proxies which was affecting me. I think this would be a good candidate for backporting to release-18.09 (?), as it's a leaf package. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b473f5f7370fefb5e0d0fc0caf47dff44e8adeb9::
https://api.github.com/repos/NixOS/nixpkgs,53170,uboot-rockpro64::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"###### Motivation for this change This PR started as an attempt to add RockPro64 support to U-Boot in Nix, but a bunch of other related changes accumulated along the way. ###### Things done * Add `rkdeveloptool` package. This is a tool for communicating with Rockchip devices over their USB OTG port, allowing flashing the eMMC/SD and SPI flash. *  Upgrade ARM trusted firmware from 1.5 to 2.0. This works correctly in the Rock64 U-Boot. * Add RK3399 support to ATF. This was supposed to be for the RockPro64, but it caused U-Boot to hang in the SPL. * Add libfdt Python package. This is just `toPythonModule dtc`. * Add RockPro64 U-Boot support. This uses a [downstream version of 2017.09](https://github.com/ayufan-rock64/linux-u-boot) (maintained by ayufan), which is the best supported U-Boot tree for this board. This uses a binary blob for ATF as well as the TPL. * Fix Rock64 U-Boot build. This switches from ayufan's `mainline-master` branch to `rockchip-master`, which is better maintained (even though it is older). This is the same branch I use for the RockPro64. I attempted to get rid of the TPL blob, but using U-Boot's TPL causes the board to hang after a few minutes (previously it would not even finish booting before hanging). I got rid of the pythonpath patch in U-Boot, because I could not see why it was necessary and it was annoying to have to maintain a separate backport for 2017.09. Most builds don't use any Python libraries, so the PYTHONPATH doesn't matter. The Rock64 build requires libfdt, but the patch didn't seem to fix the build, I had to use `withPackages`. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::```suggestion maintainers =  [ maintainers.lopsided98] ; ``` I think that should fix the eval.::Thanks, I forgot to check the ofborg status for this PR, or I would have fixed this sooner.::This is probably uneeded; `depsBuildBuild` already define a proper compiler. I have verified, after removing the added `nativeBuildInput` that it builds for `ubootRockPro64` and that it builds and boots for `ubootRockPro64`. ``` nix-build -I nixpkgs=$PWD -E 'let plat = (import <nixpkgs> {}).pkgsCross.aarch64-multiplatform; in plat.ubootSopine' ``` Works fine on-device. (Don't forget the `pkgsCross` up top.)::This is in ARM trusted firmware, not U-Boot. The RockPro64 U-Boot build does not currently depend on upstream ATF, because it does not work correctly yet. I added the RK3399 ATF build for future use, which does require an `arm-embedded` compiler for building the firmware for the Cortex M0 microcontroller included in the RK3399 (I think it does power management).::Ah, right, I missed the fact that the ATF you added isn't used. I have looked and yeah, you're right that this addition is required. Sorry. Maybe documenting how some platforms (e.g. RK3399) have a hard requirement on such a compiler could help against someone (un)helpfully trying to clean this?::I added a comment.::pname = ""uboot-${defconfig}"";::",cc35ac70c6b43344f639fe01f2bf439f2ce2ff4d::8a816723ce25a5160f20aeefbd36aead6870a458::7edd0389e142d3c7f19551d4ca45e2324ca0af12::bb72c0668d9481da8a11bce3f69fbfff5f89252e::e245086709ebc3b8cef01ffc4f35748a55839cf2::26079c4da73172f4d51ceca2ef9a641bcc1e0777::404773e33673e0bf0ca31ae04f33ea75de76b133::414c42a697b567c0e711b276cc1342418418aa77::
https://api.github.com/repos/NixOS/nixpkgs,53070,scat-master::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"###### Motivation for this change The package stopped building when `base` has been update to 4.11, since 18.09. Since the maintainer is not responding I'd like to apply the patch here. I also have a backport to the stable branch ready. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change (none) - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",287d1de51a8270994c316f94dad4a1089ed88b51::
https://api.github.com/repos/NixOS/nixpkgs,52941,fix-python-darwin::master,0,merged,10.rebuild-darwin: 501+::10.rebuild-linux: 0::6.topic: darwin::6.topic: python::,"###### Motivation for this change Python 3.6 + Remove issue24658 patch because is already fixed and backported to Python 3.6 https://github.com/python/cpython/commit/a5ebc205beea2bf1501e4ac33ed6e81732dd0604 + Adapted python-3.8-distutils-C++.patch because collied with the recent changes on upstream https://github.com/python/cpython/commit/a21bedf9edeacce6f0de3b2df0783e2ad6aa3b18 Python3.7 + Remove issue24658 patch because is already fixed and backported to Python 3.7 https://github.com/python/cpython/commit/178d1c07778553bf66e09fe0bb13796be3fb9abf + Adapted python-3.8-distutils-C++.patch because collied with the recent changes on upstream https://github.com/python/cpython/commit/f14087a4a96bb3f500e2d2bbc36c1124e90d5f73 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [X] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3a854f39eb5a0af2e0efe74f4d930580585e4f58::70065158d834d940974557225cbd0cd0918fe4d0::
https://api.github.com/repos/NixOS/nixpkgs,52750,gitlab-11.6.0::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change This bumps gitlab from 11.5.5 -> 11.6.0. Should be backported to 18.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",78f336b21d1f3b649e54f04cbf6073ef810c6c78::7ea6bde0ae961d91634f00d8a2f462a157d634b1::4d7ce7a60588ca77d1c9edbaa536cad913e63950::97e7cf75fa28f1c25921bf5edc653c7582eda8d1::ca69c9c2d0b0038d606e455cd242e2abf60dff8c::134a6decae90a94fe3cf90bce267e59f0b954dbc::8fac37db006ad1e6c051525e65becd54ad011923::
https://api.github.com/repos/NixOS/nixpkgs,52748,gitlab-11.5.5::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change This bumps gitlab from 11.5.4 to 11.5.5, fixing [CVE-2018-20229](https://about.gitlab.com/2018/12/20/critical-security-release-gitlab-11-dot-5-dot-5-released/) Needs backport to 18.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6397fd3e719c0319c63490de6dd7e1f58429b0d5::236cb269542d4f98e8b879bcda49170cade7bfd9::
https://api.github.com/repos/NixOS/nixpkgs,52741,python-trezor::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change Version update ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Just put these directly in the expression as e.g. `LANG = ""en_US.UTF-8"";`.::Addressed in 9151281cb699c727713c992fe97bf4290006de89::```suggestion LANG = ""en_US.UTF-8""; ```::It should suffice to add `glibcLocales` to `nativeBuildInputs`.::From https://github.com/trezor/python-trezor/blob/v0.11.1/tox.ini: `python -E -m pytest --pyarg trezorlib.tests.unit_tests`::Now you should remove this line.::Is `LOCaLE_ARCHIVE` still required?::Not for master, I can even remove `glibcLocales` from `nativeBuildInputs` When I backport this patch to `release-18.09` branch I need to keep `glibcLocales` in `nativeBuildInputs` but the line with `LOCALE_ARCHIVE` can go away.::Any reason for this to be backported?::Couple of them: 1) we add a lot of features into Trezor and these are not accessible if a user has an older version of python-trezor leading to frustration 2) I assume NixPkgs Electrum maintainers don't backport security patches individually, but rather the whole package is being updated to the newest stable release. This release might already be depending on the new python-trezor package, using the new API, etc. so it makes sense to upgrade the whole package for python-trezor too.::",bdb81a8d29334416d74e0f60940ea58917047c64::
https://api.github.com/repos/NixOS/nixpkgs,52661,pax::master,0,closed,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 501+::6.topic: haskell::6.topic: python::6.topic: qt/kde::6.topic: stdenv::8.has: clean-up::8.has: documentation::,"More then one year ago we removed grsecurity kernels from nixpkgs: https://github.com/NixOS/nixpkgs/pull/25277 This removes now also paxutils from stdenv. I will move this to staging soon. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::I think that leaving at least paxtest and maybe even paxctl makes sense; the former can be used to assess whether vanilla mitigations are able to catch stuff covered by PaX, which I find useful (given the ongoing effort to backport/lift features from grsec/pax).::",5becadcc6dc6f82b99fb3a538f540059dab9f735::
https://api.github.com/repos/NixOS/nixpkgs,52661,pax::master,0,closed,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 501+::6.topic: haskell::6.topic: python::6.topic: qt/kde::6.topic: stdenv::8.has: clean-up::8.has: documentation::,"More then one year ago we removed grsecurity kernels from nixpkgs: https://github.com/NixOS/nixpkgs/pull/25277 This removes now also paxutils from stdenv. I will move this to staging soon. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::I think that leaving at least paxtest and maybe even paxctl makes sense; the former can be used to assess whether vanilla mitigations are able to catch stuff covered by PaX, which I find useful (given the ongoing effort to backport/lift features from grsec/pax).::",5becadcc6dc6f82b99fb3a538f540059dab9f735::
https://api.github.com/repos/NixOS/nixpkgs,52636,fix-django::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::6.topic: python::,"###### Motivation for this change Django 1.11.17 add support for python3.7 https://docs.djangoproject.com/en/2.1/releases/1.11.17/ I think this needs to be backported to 18.09 Closes https://github.com/NixOS/nixpkgs/issues/52633 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [X] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",54c26acc3d68286afdf5e8f50fbf0ff2368e3dcd::
https://api.github.com/repos/NixOS/nixpkgs,52623,pdfjs::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"Pdfjs was downloaded in two derivations, where one is sufficient. Also there was allegedly a typo in the download URL (the v in front of the version). ###### Motivation for this change This addresses #52615, but only fixes it on `master`. I still think, that it could be backported to `nixos-18.09`, as it doesn't make the situation worse and fixes the download URL. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0be7bfe1bf6430f07c1da4f8290f1e53997e505e::
https://api.github.com/repos/NixOS/nixpkgs,52511,update-nodejs::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change https://github.com/nixos/nixpkgs/commit/75b894af0f0 needs to be backported to 18.09 because includes a fix for CVE-2018-12122 https://nodejs.org/en/blog/release/v6.15.1/ ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [X] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f27ee10a9e8b29020290e8446cc093094b0ded68::75b894af0f042064ea10fd3f25a77658d2440423::
https://api.github.com/repos/NixOS/nixpkgs,52452,youtube-dl-2018.12.17::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change Update to latest version. The component says this should be backportet to 18.09 too. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",28e9a1eef1668d86f744129a2055fd8bb62cc355::
https://api.github.com/repos/NixOS/nixpkgs,52355,18.09-nextcloud-client-2.5.1::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: package (new)::,"###### Motivation for this change This backports: - The bump from nextcloud from 2.3.3 to 2.5.0 (bringing End-to-End Encryption, an improved User Experience, Simple Sign-up and Sync Improvements) (from https://github.com/NixOS/nixpkgs/pull/50463, but had to replace `openssl_1_1` with `openssl_1_1_0`), - The bump to 2.5.1 (from https://github.com/NixOS/nixpkgs/pull/52354) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::the attribute `openssl_1_1` doesn't exist on the 18.09 branch. I fixed it on my 18.09 tracking branch (where I did the cherry-pick some time ago to use Nextcloud-client 2.5 on my machine) with the following patch: https://github.com/Ma27/nixpkgs/commit/14a839b00423f35a4d63388fad82aac1e0f72be4::Whoops, forgot to push these changes::",1fb886d9cf201fe5ba680521c8afd53e0b7ee0f4::893cf309d1c8c108d762ce42f02a8d5edfd6a137::
https://api.github.com/repos/NixOS/nixpkgs,52266,update/gnupg-2.2.12::staging,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 501+::,"https://dev.gnupg.org/T4289 ###### Motivation for this change backport material, I think! :) Previously: https://github.com/NixOS/nixpkgs/pull/49831 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",971dfac1397f896b5531bdeb18a0d761e362c07c::
https://api.github.com/repos/NixOS/nixpkgs,52141,18.09/sqlite::release-18.09,0,merged,1.severity: security::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::8.has: port to stable::,"###### Motivation for this change https://blade.tencent.com/magellan/index_en.html The page suggests claims that sqlite <3.26.0 is vulnerable to ""Remote code execution, leaking program memory or causing program crashes"". This PR backports the commit made by @dtzWill on master (PR #51352). I am still a bit confused by the fact that google upgraded to 3.25.0 to fix the issue https://chromium.googlesource.com/chromium/src/+/c368e30ae55600a1c3c9cb1710a54f9c55de786e. If that is indeed sufficient we do not need merge this straight into the release branch but can let all the rebuilds take place on staging instead. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> I rebuild `python3Packages.sqlalchemy` successfully. It comes with a larger test suite that seems like a good ""smoketest"". - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d0895f418d0c16c1d5e5b8bebc70ed1b5cbe3da1::
https://api.github.com/repos/NixOS/nixpkgs,51957,crossOverlays-for-18.09::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: stdenv::,"###### Motivation for this change A backport of #48803 for those wanting to use this but unable to switch from stable to master. A note is adding saying the interface is provisional. Presumably in 19.03 this will arrive on staging ""the normal way"" and the dust will have settled again. Rebased on a recentish common ancestor of `master` and `relase-18.09`. This way any further fixes can be made on top of this (minus the top commit) and then easily merged into both `master` and `release-19.09`. This is a lot easier than cherry-pick; with cherry-pick alone it wouldn't make sense to pre-release new interfaces on stable. N.B. I skipped b966d3c5835fdbaa153a9eacd08cdbf789ee1b40 because that is a breaking interface change not appropriate for stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- CC @vaibhavsagar ::",e84255296f4ba8f22dd9216dd7024f87e15e60bd::7fcbc52d7d717778e019bb35673eb2aaae7d2842::f11d5341aad86561b541839115e31e98326f3342::a8e0694993a561483e6b28d745367d04a0772600::3170d617ef7618a27cacf2eabac3ce3ea9d5a7c4::3c36dccd7ca4bcc3a3899e794864780dc7a4ce8c::3c1049fbefb33aeb3a72905710f647bf92fa5b44::
https://api.github.com/repos/NixOS/nixpkgs,51863,firefox::master,0,closed,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::9.needs: port to stable::,"###### Motivation for this change Bump to the latest versions of firefox. The version 64.0 release notes will appear here: https://www.mozilla.org/en-US/firefox/64.0/releasenotes/ The version 60.4.0esr0 release notes will appear here: https://www.mozilla.org/en-US/firefox/60.4.0/releasenotes/ This should be backported to 18.09. It depends on #51365 being ported first. The backport is trivial since most of the required dependencies have already been updated. The only catch is the change of `version` to `ffversion` that exists in master. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",93a9e626d00880eca43f04d2894dc6f3b449d4a1::d8cde6882cd91fd4e1743b52cbb3c7cf58b87213::c847fa1d2245e370a7666f33919131dbc9f63eff::992e7507e728fa153bd540a5a2c2266820f5a5a1::
https://api.github.com/repos/NixOS/nixpkgs,51799,18.09-ghostscript-9.26::release-18.09,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::,"backport of #51746 to 18.09 ###### Motivation for this change [CVE-2018-18284](https://nvd.nist.gov/vuln/detail/CVE-2018-18284) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2549e2e977c72dc0ac531a610336ff676cf96385::
https://api.github.com/repos/NixOS/nixpkgs,51795,18.09/smartmontools::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,backport of #51794::,510946b2416b3dd40b5dab54ee3f8d8ce427e591::
https://api.github.com/repos/NixOS/nixpkgs,51771,release-18.09-llvm-7::release-18.09,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::8.has: port to stable::,"###### Motivation for this change chromium builds best with llvm 7 and instead of taking the hit of hunting for gcc patches until release-18.09 is phased out, we just backport it see #51602 cc @dtzWill could you have a look at any commits, i might have missed? this merged branch was built as follows: ``` ± git merge-base release-18.09 master 2a1c0dd ± git checkout -b release-18.09-llvm-7 2a1c0dd Switched to a new branch 'release-18.09-llvm-7' ± git cherry-pick -x $(git log master --format=oneline -- pkgs/development/compilers/llvm/7 | cut -f1 -d' ' | tac ) [release-18.09-llvm-7 0120cd8826f] llvm7: init at 7.0.0rc3 Author: Will Dietz <w@wdtz.org> Date: Tue Sep 18 14:19:58 2018 -0500 15 files changed, 1260 insertions(+) create mode 100644 pkgs/development/compilers/llvm/7/clang/default.nix create mode 100644 pkgs/development/compilers/llvm/7/clang/purity.patch create mode 100644 pkgs/development/compilers/llvm/7/compiler-rt-codesign.patch create mode 100644 pkgs/development/compilers/llvm/7/compiler-rt.nix create mode 100644 pkgs/development/compilers/llvm/7/default.nix create mode 100644 pkgs/development/compilers/llvm/7/libc++/default.nix create mode 100644 pkgs/development/compilers/llvm/7/libc++/setup-hook.sh create mode 100644 pkgs/development/compilers/llvm/7/libc++abi.nix create mode 100644 pkgs/development/compilers/llvm/7/lld.nix create mode 100644 pkgs/development/compilers/llvm/7/lldb.nix create mode 100644 pkgs/development/compilers/llvm/7/llvm-outputs.patch create mode 100644 pkgs/development/compilers/llvm/7/llvm.nix create mode 100644 pkgs/development/compilers/llvm/7/openmp.nix create mode 100644 pkgs/development/compilers/llvm/7/sanitizers-nongnu.patch [release-18.09-llvm-7 efc3c480d86] llvm7: patch test shebang (otherwise test fails) Author: Will Dietz <w@wdtz.org> Date: Tue Sep 18 14:35:21 2018 -0500 1 file changed, 2 insertions(+) [release-18.09-llvm-7 30d468d7f47] llvm-manpages: fix build by removing references to $lib output Author: Will Dietz <w@wdtz.org> Date: Tue Sep 18 14:45:39 2018 -0500 1 file changed, 3 insertions(+) [release-18.09-llvm-7 64b459e5ae3] comment Author: Will Dietz <w@wdtz.org> Date: Tue Sep 18 14:52:17 2018 -0500 1 file changed, 1 insertion(+), 1 deletion(-) [release-18.09-llvm-7 ad2705efb6e] compiler-rt: quickfix codesign patch by dropping hunks 'already applied' Author: Will Dietz <w@wdtz.org> Date: Tue Sep 18 15:00:39 2018 -0500 1 file changed, 33 insertions(+), 155 deletions(-) rewrite pkgs/development/compilers/llvm/7/compiler-rt-codesign.patch (78%) [release-18.09-llvm-7 f51bf899719] llvm7: use final release tarballs now that they're available Author: Will Dietz <w@wdtz.org> Date: Wed Sep 19 07:43:33 2018 -0500 1 file changed, 2 insertions(+), 2 deletions(-) [release-18.09-llvm-7 93244a2dc24] llvm7: update hashes, they did change after all. Author: Will Dietz <w@wdtz.org> Date: Wed Sep 19 08:00:23 2018 -0500 9 files changed, 9 insertions(+), 10 deletions(-) [release-18.09-llvm-7 1e9d9d2e4ff] llvm*: http -> https, prefer releases.llvm.org Author: Will Dietz <w@wdtz.org> Date: Wed Sep 19 08:02:21 2018 -0500 7 files changed, 7 insertions(+), 7 deletions(-) [release-18.09-llvm-7 f5e526ba11a] libc++7: prefer 'optional' as suggested by comment Author: Will Dietz <w@wdtz.org> Date: Wed Sep 19 08:36:40 2018 -0500 1 file changed, 1 insertion(+), 5 deletions(-) [release-18.09-llvm-7 f254fb70666] llvm7: only use 1 number in version suffix, upstream changed Author: Will Dietz <w@wdtz.org> Date: Thu Sep 20 19:42:44 2018 -0500 1 file changed, 1 insertion(+), 1 deletion(-) [release-18.09-llvm-7 fa6fed6230d] llvm7: optionally use libpfm (exegesis), default off w/darwin Author: Will Dietz <w@wdtz.org> Date: Thu Sep 20 19:53:59 2018 -0500 1 file changed, 4 insertions(+), 1 deletion(-) [release-18.09-llvm-7 21959244dc4] llvm7: update musl patch for sanitizers Author: Will Dietz <w@wdtz.org> Date: Mon Sep 24 10:43:07 2018 -0500 1 file changed, 75 insertions(+), 76 deletions(-) ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5b5381f0c1ada333e904733650ce49a035c88994::c0bc50f825fc903c9f72d53f506ad5157dda01a9::a379d9a656c34f6d179920eff968f00e65e34ce7::3d95f8a221ff48611f356936536b243d7daedb29::b2e5f6581ae9f263be06fdc16966c96d646cac2a::253a584046b28e089f027b17b008eb263b55aacc::3683dade86730074f8834693b00f079632b57272::df92d262a83a8bb5d647158bb4674ca159b89002::ddccbf531db6e124eab32c08de9bc039c93e0827::ffa936641126c3e7c822de99415564d82fa944b3::9932296ed8bbbddc877583432aa0a363299f85bb::b324990b20747e5761ca3c4c13ec867a39d4a7c0::17360ae50d62edb1313c4c94951af8048e073270::
https://api.github.com/repos/NixOS/nixpkgs,51746,ghostscript-9.26::master,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::,"###### Motivation for this change Fixes a vulnerability: https://github.com/NixOS/nixpkgs/issues/51739 cc @flokli Should be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0ed7d3c62a9469da91804618f3a81f5360bd7413::
https://api.github.com/repos/NixOS/nixpkgs,51741,libsass::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change 3.5.5 reverts the css import breaking behaviour from 3.5.3: https://github.com/sass/libsass/releases It also contains the included security patch, which could be therefore removed: https://github.com/sass/libsass/commits/3.5.5 Not totally sure on backporting - this update breaks the current behaviour, but if you define the current behaviour as broken, for which there are reasons, it's more of an un-breaking than a breaking change. Maintainers: @codyopel @offlinehacker ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",60532db0d38434667261f71c1718ba3c497b1c54::
https://api.github.com/repos/NixOS/nixpkgs,51734,sec/1809/sssd::release-18.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: port to stable::,"###### Motivation for this change CVE-2018-10852 / backport of #51707 https://docs.pagure.org/SSSD.sssd/users/relnotes/notes_1_16_3.html (cherry picked from commit 01fab8778f2cc880698ba45128befe128c701ff3) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0ec2084017bcd4a305a1c159048f2acc4f74dc6b::
https://api.github.com/repos/NixOS/nixpkgs,51557,dino-bump::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change I've been testing dino on release-18.09 for several days now, but at a newer commit than packaged in nixpkgs-master. Thus this updates dino again, to be backported to release-18.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2c762323703bbe2e7113560b3aec4bca8ad243a8::
https://api.github.com/repos/NixOS/nixpkgs,51532,gitlab-test-32bit::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"GitLab 11.5.1 dropped the dependency to posix_spawn, which is broken on 32bit. (See https://gitlab.com/gitlab-org/gitlab-ce/issues/53525) The only part missing is decreasing virtualisation.memorySize to something that a 32 bit qemu still executes. The maximum seems to be 2047, and tests passed with that value for me. ###### Motivation for this change getting [32 bit gitlab vm tests](https://hydra.nixos.org/job/nixos/trunk-combined/nixos.tests.gitlab.i686-linux) to run. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @globin, can you backport this as alongside #51526? ::",a8c053e1920297a74a5efb8c17ccdacc650a1ad4::
https://api.github.com/repos/NixOS/nixpkgs,51470,fix-gimp-18.09::release-18.09,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 0::,###### Motivation for this change backport of #51469 ::,d302812ae710519cec463cc3811017d3a0bb8526::d805ac213f28ac40051955e84db4433df5404cd8::
https://api.github.com/repos/NixOS/nixpkgs,51395,sec/1809/postfix::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: port to stable::,"###### Motivation for this change Backport of #51063 http://www.postfix.org/announcements/postfix-3.3.2.html ~~I also had to cherry-pick two other commits touching `postfix` derivation. Most notably one enabling LDAP support by default.~~ @Mic92 ~~I think it's safe to backport but feedback welcome on this.~~ ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",29f01a82f9340d66dc71d92c3d132f09a62c4d94::
https://api.github.com/repos/NixOS/nixpkgs,51361,fix-mumble::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: port to stable::,"###### Motivation for this change Fixes https://github.com/NixOS/nixpkgs/issues/51196 I have cherry-picked 1 commit from master that fixes the problem. This is my first backport PR, so please review extra thorough. cc maintainers @jgeerds @wkennington ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",65b2552a465210adde6f7fe658d3a3cf37110de6::
https://api.github.com/repos/NixOS/nixpkgs,51354,luks-checkexist-backport::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::8.has: port to stable::,"Backport of #50281. I hope this is the correct branch. The new reuse behaviour is cool and really useful but it breaks one of my use cases. When using kexec, I have a script which will unlock the disks in my initrd. However, do_open_passphrase will fail if the disk is already unlocked. ###### Motivation for this change The new behaviour breaks my setup right now and it's neither a real solution to not have kexec-and-unlock (server at remote location) nor to use unstable (it's unstable). So I hope this can get backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",14b0a4f1ad705df660af603a27e27bb2b7a8c21a::
https://api.github.com/repos/NixOS/nixpkgs,51299,release-18.09::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"This fixes #23193. urxvtd is not presently compatible with socket activation. This change is a backport of https://github.com/NixOS/nixpkgs/pull/51043, which has already been tested on 18.09. ###### Motivation for this change See https://github.com/NixOS/nixpkgs/pull/51043. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",31efd1f3a5faf5b9ce7138a4ce0ba663b335c210::
https://api.github.com/repos/NixOS/nixpkgs,51277,roundcube-1.3.8::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"This is a service release to update the stable version 1.3 of Roundcube Webmail.  It contains fixes to several bugs backported from the master branch including a security fix for a reported XSS vulnerability plus updates to ensure compatibility with PHP 7.3 and recent versions of Courier-IMAP, Dovecot and MySQL 8. See the complete changelog at https://github.com/roundcube/roundcubemail/releases/tag/1.3.8 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Assured whether relevant documentation is up to date - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3b8d6ef2936f43a55a04080ac5354772f238879a::
https://api.github.com/repos/NixOS/nixpkgs,51207,fix/sd-image-slimming::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"This is to try and squeeze more lost space from the image, so that hydra starts building it again. The fsck previous to the resize2fs is required so resize2fs works. The one afterwards is a sanity check. Using `-M` from resize2fs will not give much saved space due to a known (in the manual) issue. ``` [samueldr@aarch64:~/nixpkgs]$ ls -lh result-*/*/*.img -r--r--r-- 1 root root 2.2G Jan  1  1970 result-original/sd-image/nixos-sd-image-18.09.git.a7fd431-aarch64-linux.img -r--r--r-- 1 root root 2.1G Jan  1  1970 result-M/sd-image/nixos-sd-image-18.09.git.a7fd431-aarch64-linux.img -r--r--r-- 1 root root 1.9G Jan  1  1970 result-slimmed/sd-image/nixos-sd-image-18.09.git.a7fd431-aarch64-linux.img ``` ``` [samueldr@aarch64:~/nixpkgs]$ nix path-info -S ./result-original /nix/store/c8k9n78gylx293rjh762fr05a069kxp2-nixos-sd-image-18.09.git.a7fd431-aarch64-linux.img   3844125000 [samueldr@aarch64:~/nixpkgs]$ nix path-info -S ./result-slimmed /nix/store/962238skj5mnzhrsmjy23dyzmxk77sp4-nixos-sd-image-18.09.git.a7fd431-aarch64-linux.img   3447473208 ``` ###### Motivation for this change Once backported to stable (or the proper jobs added to hydra for unstable), the sd-image will be built again (until its closure size gets too big [again]). This is a small economy; it might be possible to squeeze more, but for now let's use those stable and known safe numbers. This is not a lost effort, even if the closure was slimmed down more. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - ⬜ macOS - ⬜ other Linux distributions - ⬜ Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - ⬜ Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - ✔️ Tested execution of all binary files (usually in `./result/bin/`) - ✔️ Determined the impact on package closure size (by running `nix path-info -S` before and after) - ✔️ Assured whether relevant documentation is up to date - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @dezgeg @cleverca22 ::",61bdaad9a9221f19a7c12d8b1b654e6e54d2be32::
https://api.github.com/repos/NixOS/nixpkgs,51159,18.09/mtools-4.0.21::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Backports the history to update `mtools`, which is necessary for clean FAT32 boot partitions on `sd-image` based images. See #51158. This will be required for its backport to 18.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - ⬜ macOS - ⬜ other Linux distributions - ⬜ Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - ✔️ Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - ⬜ Tested execution of all binary files (usually in `./result/bin/`) - ⬜ Determined the impact on package closure size (by running `nix path-info -S` before and after) - ✔️ Assured whether relevant documentation is up to date - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Only tested that `sd-image-aarch64` builds correctly.::",9be0cb168b847fce9936e0a2708cb2c6c4735161::75c1a76c6c248d8b45ac30c95b6b9d72316a9ce6::a58cdb9edd1a61fa3a75b3c2a3ab97e5289fc3f6::20cdb372946c92cfb181e753b017d747ceafcbcb::84f7a5ed07e7faf27fc451473467a1e3fe86f40f::
https://api.github.com/repos/NixOS/nixpkgs,51158,fix/sd-image-fat32::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Fixes #51150. The main issue: ``` [...] Bad short file name (.). Auto-renaming it. Renamed to FSCK0000.000 ``` Is already fixed using `mtools-4.0.21`. For `release-18.09` its update will need to be backported (#51159). * * * This fixes the seemingly-always-existing issue where the FAT32 partition was subtly broken by `mtools`. It wouldn't pass an `fsck`, even when freshly made. See #51150 for investigation details, and see commit messages for fixes details. To ensure no regression with regards to the integrity of the boot partition, an `fsck` pass is now made just after copying the files. This will add a negligible amount of time to the whole build process, but will ensure tools will be able to manipulate the boot partition with success. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - ⬜ macOS - ⬜ other Linux distributions - ⬜ Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - ✔️ Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - ⬜ Tested execution of all binary files (usually in `./result/bin/`) - ⬜ Determined the impact on package closure size (by running `nix path-info -S` before and after) - ✔️ Assured whether relevant documentation is up to date - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @dezgeg @tilpner @bennofs ::",e22698c4add275065e79a380acee82ad88d54eb9::1bf0070be9394d42618fe936bbf9ecc378e34228::
https://api.github.com/repos/NixOS/nixpkgs,51137,postgresql-systemd::release-18.09,0,closed,10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::6.topic: nixos::8.has: module (update)::,"I'd really like to backport this one to 18.09 as it improves reliability. I ran PostgreSQL nixos tests and will run this from today on in production (on top of 18.09). So give it a day or so. EDIT: sorry for mass spam :(::Shouldn't this be made optional for macos or is this already the case?::You're right, will fix.::Doesn't this cause a mass rebuild on all downstream-dependent `postgresql` packages (e.g. libpq clients)? I was pretty sure changing this on my own build causes a full rebuild since the 'version' attribute exists, though I can't remember exactly *why*.::Good point. I didn't bother, but for 18.09 we probably should. I will cherry-pick your commit to 18.09 as it's basically the same as mine, minus the mass-rebuild.::Cool, thanks!::",6ca16545dcdb7f48e019ffed3f840a621dc3b1bd::91dd7031c00578040f2e0139ddb08cbcfb05494b::
https://api.github.com/repos/NixOS/nixpkgs,50856,update/openssl-1.1.1a-and-1.0.2q::master,0,closed,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::,"Since these are for security, unsure if should go to staging first but if so please cherry-pick or rebase as seen fit. Similarly should be backported. ###### Motivation for this change See commits for CVE's, and linked changelogs have more details. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",d2574c33263187775434c0994a794991248a59e3::9230b540818927f9c7d2065064f99b7395104089::e32fd221ee89f755e394eac60055c61884b43d25::
https://api.github.com/repos/NixOS/nixpkgs,50841,nvidia_legacy_340::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change The `nvidia_legacy_340` version currently in NixOS is incompatible with `pkgs.linuxPackages_latest`, see #50707 for details. This update to 340.107 fixes the compilation of the kernel module. Fixes #50707. As this is broken on 18.09 stable as well and the legacy versions only get bugfixes, I'd argue that backporting makes sense. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",045575e744cd581a20929c63590d9b555099c22d::
https://api.github.com/repos/NixOS/nixpkgs,50511,php-cve-2018-17082-unstable::master,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: nixos::8.has: changelog::8.has: documentation::,"#### php: 7.2.10 -> 7.2.12, 7.1.22 -> 7.1.24 Also make Darwin align itself to Linux versions, due to CVE-2018-17082 forcing our hand on this. This means Darwin must compile without intl. ###### Motivation for this change The alternative would be to backport the fix to a previous version of `php`. It looks [pretty easy](https://github.com/php/php-src/commit/23b057742e3cf199612fa8050ae86cae675e214e), but I know the PHP code base very little and wouldn't trust simply using this patch to fix the issue unless spending much more time on it. cc @etu who introduced the split between darwin and linux @GrahamcOfBorg build php71 php72 @GrahamcOfBorg test elk owncloud ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d0bdf4d8cf2c649fc779930d0cf0f549cbd01730::
https://api.github.com/repos/NixOS/nixpkgs,50472,fix-penultimate::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Disabling `fontconfig.penultimate` does not have any effect because `cfg` in this module points to ` config.fonts.fontconfig` instead of `config.fonts.fontconfig.penultimate`. This is a bug and I guess should be backported to 18.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @ttuegel ::",eea86c9e71b2defd82ab236a4c6c8e4f179cb80a::
https://api.github.com/repos/NixOS/nixpkgs,50393,fix/journaldriver-module-import::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"Imports the `journaldriver` module into the top-level NixOS module list to make it usable without extra work. This went unnoticed in #42134 (mostly because my setup imports modules explicitly from pinned versions). Fixes #50390 **Note**: This should probably be backported to 18.09 because the module is included there, but not imported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d5ea09758db8851d7f6aea27028231ce0b3b5f8d::
https://api.github.com/repos/NixOS/nixpkgs,50349,rust-cbindgen::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change Updated rust-cbindgen since we will need a newer version for the upcoming firefox 64 release. I am currently rebuilding firefox on one of my machines. This will require backporting for future firefox updates. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). /cc @jtojnar --- ::",f1ee26bc4b7823c7d138285ae34b697e78b27a20::66e16843b35ecc56de7badad279a1d0264832025::
https://api.github.com/repos/NixOS/nixpkgs,50316,fix-dynamic-user::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::,"###### Motivation for this change Nscd caching was interferring with systemd's nss module.  Disable caching as caching is not the reason why we use nscd. We use it to resolve nss modules correctly. See commit message for more detailed information. Fixes  #50273 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::I wonder if we at least should backport this one, since it can be quiet annoying if websites do not load correctly after connecting to a hotspot.::Should be `</literal>` the closing tag in group::`nix build -f my-nixpkgs/nixos config.system.build.manual --arg configuration {}` to make sure the manual builds :)::Yes, I’ve had this problem for more than a month now, so the release must have it as well.::`well.Because` -> `well. Because`.::It occurs to me that this could be fixed by calling `nscd --invalidate` (or `systemctl reload nscd`) when the network configuration changes. I seem to remember that we used to do that, but I'm not sure.::This would require an implementation for dhcpcd, network-manager and networkd. This seems too complex to me for backporting and would need proper testing.::Either way this shouldn't be backported because it could have significant performance implications.::It should be still disabled if resolved is enabled, because that one is not affected by `resolfconf` and caches hosts itself. Caching users/groups in the presence of systemd's Dynamic User is still a problem not solved by your revert.::```suggestion The <literal>nscd</literal> service now disables all caching of ```::```suggestion would interfere with `sssd` in unpredictable ways as well. Because we're using nscd ``` (from https://github.com/NixOS/nixpkgs/pull/50316#discussion_r235370732)::```suggestion This was already the default behaviour in presence of ```::do we want to disable caches where we set a zero ttl for both positive and negative? Seems less confusing to me :-)::As eelco mentioned, this would have a serious performance penalty. so I don't want to change it until #51911 is implemented.     I think this is a good compromise where people do not get failed lookups when switching networks, but do also have performance. Until we figure out the resolved business::Oh I misread: See the original commit message why we can't do this: ``` Note that we can not just put in /etc/nscd.conf: enable-cache passwd no As this will actually cause glibc to _not_ forward the call to nscd at all, and thus never reach the nss modules. Instead we set the negative and positive cache ttls  to 0 seconds as a workaround. This way, Glibc will always forward requests to nscd, but results will never be cached. ```::I added this as a comment to `nscd.conf` to clarify::",eb880051300257cc1e465cbb8042d6e65caf67d6::e71241793671c11498c388bde8a3de2d89fde25e::99d32799520366422b169438cd990fb133d847d4::335b41b3fbf1191e9310dc2717a68df2b0759b76::de76c16f9c277c0a104ca7f9fa8d8be46ada6c9a::a74619c1ae5348a5b7cd0dc3b6ca6e0166086098::ef6ed03e2f7e757a46469077d8ef66cecccb919d::1d5f4cbb784904e0a6420cc62b0b24ca0873abc5::
https://api.github.com/repos/NixOS/nixpkgs,50311,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Includes a [**closed vulnerability** in 5.3.3](https://community.grafana.com/t/grafana-5-3-3-and-4-6-5-security-update/11961) and some bugfixes in [5.3.4](https://github.com/grafana/grafana/releases/tag/v5.3.4). (backported in #50312). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",ddd8f94051a452d35f463ad8927f6beae667d277::
https://api.github.com/repos/NixOS/nixpkgs,50281,luks-checkexist::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"The new reuse behaviour is cool and really useful but it breaks one of my use cases. When using kexec, I have a script which will unlock the disks in my initrd. However, do_open_passphrase will fail if the disk is already unlocked. Btw, can this be backported? ###### Motivation for this change It braks my old (18.03) kexec-and-autounlock behaviour. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Use `cryptsetup status ${name}` instead, it will exit with 0 if it exists (with 4 if it doesn't)::",9cd4ce98bfc11292fbebc6b85d14bb386e82c9a8::
https://api.github.com/repos/NixOS/nixpkgs,50279,curl::master,0,closed,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::,"The package curl before version 7.62.0 is vulnerable to multiple issues including arbitrary code execution and information disclosure: https://curl.haxx.se/changes.html#7_62_0 This should also be backported to 18.09. Maintainer: @lovek323 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",919bae69affa914971f4f62018257665a7b0090d::
https://api.github.com/repos/NixOS/nixpkgs,50229,upgrade_gitea::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Changelog: https://github.com/go-gitea/gitea/releases/tag/v1.5.3 This is a security related release and should be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",041df5f4508418f6f072120d02d8bc17cd71d880::
https://api.github.com/repos/NixOS/nixpkgs,49860,andrew/upgrade-libtiff::staging,0,merged,1.severity: security::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::,"###### Motivation for this change This includes a bunch of security fixes (#49786), and mimics [what Debian has done][1] in moving to a git snapshot instead of a released version + backported security patches. [1]: https://metadata.ftp-master.debian.org/changelogs//main/t/tiff/tiff_4.0.9+git181026-1_changelog ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- (there don't appear to be any maintainers for `libtiff` to cc)::```suggestion version = ""unstable-2018-11-04""; ``` ::Good point!  Based on the guidelines, I put the `unstable` in the package name, not version, but :+1: ::",3137c609a486f00a101b54123894c413b7b28090::
https://api.github.com/repos/NixOS/nixpkgs,49840,fix-pgBackup::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change The backup file now is world readable (0644). The `mkdir` in the service file creates the backup directory with mode 0700. However, if the directory already exists the permissions are not changed and the backup file is exposed. Setting the umask during creation of the dump to 0077 ensures that the backup itself is not exposed and existing settings are not changed (i.e. the directory permissions). This patch also needs a backport to 18.09 ###### Things done * Ensure that the backup file is only readable by the owner by setting umask 0077 * Add file permission test to `nixos/tests/postgresql.nix` <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a0371d476115a8fab54186664c9cca3d19e9537f::
https://api.github.com/repos/NixOS/nixpkgs,49831,update_gnupg22::staging,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 501+::,"###### Motivation for this change See http://lists.gnu.org/archive/html/info-gnu/2018-11/msg00003.html for release information Once merged, I’ll backport this to `staging-18.09` and `staging-18.03` since this is a maintenance release. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ace631b616feed0bad3f3a14b87abe581ef74597::
https://api.github.com/repos/NixOS/nixpkgs,49762,fccache::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change Today I couldn't rebuild because of: [...] /nix/store/lxkrsrlqplz2n75hvpq6vr0gam0gfgrl-font-cursor-misc-1.0.3/lib/X11/fonts/misc: skipping, existing cache is valid: 1 fonts, 0 dirs /var/cache/fontconfig: cleaning cache directory /nix/store/xq3c44ha15pfa5a9mv1z9mni3cfghsna-fc-cache: cleaning cache directory fc-cache: succeeded rm: cannot remove '/nix/store/xq3c44ha15pfa5a9mv1z9mni3cfghsna-fc-cache/CACHEDIR.TAG': No such file or directory builder for '/nix/store/zxfmil40n79vhn5hb4flqc76j99a3l7b-fc-cache.drv' failed with exit code 1 Strangely, when fixing this it seems the file really exists. No clue. Anyway this is a good pretext to add `preferLocalBuild=true`. I guess that it's worth backporting, since I experienced this bug on 18.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a6a29e07bcd8e9c8e951e6172bc63075738eba46::
https://api.github.com/repos/NixOS/nixpkgs,49758,fix-shellhook-ignore-haskell::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"###### Motivation for this change The problem was introduced in 2bafa93b75464eee5744653319d8046e05cf141a. Shellhook was being ignored entirely. Pinging @Infinisil and @ElvishJerricco, as they might want to review the change. I'm not well acquainted with `shellFor`, so the addition might not be the right way to do it. Also, maybe other stuff should be in there? If this PR is merged, could it be backported to `release-18.09`? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` -> `Nothing changed` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0ff9a7a2cd58bb306c7bb7fb97ddedac8702dcb9::
https://api.github.com/repos/NixOS/nixpkgs,49697,sec/ansible::release-18.09,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Partial backport of #48082 to address [CVE-2018-16837](https://bugzilla.redhat.com/show_bug.cgi?id=1640642) in v2.5.x and v2.6.x /cc @jgeerds @joamaki @sengaya ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fba092f2388e0e32750f36b3de1370ca9420f9fd::9eb6e6642082639c09037155af084b2de849330d::
https://api.github.com/repos/NixOS/nixpkgs,49682,18.09-gitlab-11.4.4::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change This backports some of the recent gitlab improvements (fixed tests #49658, security updates #49663) to 18.09 I'd also like to merge in #49385 (but without the version bump currently present in the PR) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::I'd not remove this default from 18.09 as it might force people to update their config..::Right, this would mean people would now then have to configure a (unused) `initialRootPassword` for deployments already active since a long time, which is silly. Updated.::Thinking about this, what happens to the `db:seed_fu` task in nixos unstable, if the user doesn't explicitly configure one?::Now or previously? Now evaluation will not pass without specifying one, previously it would've used the default on the first run.::Ok, I think that's fine for unstable.::",6061d4fa033dfffb145898f61cd556ef32dbd43a::09a9ea300320eb326c39a6658eda4d0cf628edc3::
https://api.github.com/repos/NixOS/nixpkgs,49663,gitlab-11.4.4::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change The GitLab Kubernetes integration was vulnerable to a SSRF issue which could allow an attacker to make requests to access any internal URLs. The issue is now mitigated in the latest release and is assigned CVE-2018-18843. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @globin @fpletz We should backport to 18.09 and 18.03 as well. ::",9e491f732a6c7d2ab61db0b9c0f625bf560c1b87::
https://api.github.com/repos/NixOS/nixpkgs,49617,openscenegraph_3_4::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: package (new)::,"###### Motivation for this change All 3 of these packages are broken in 18.09 due to incompatibility with the version of openscenegraph in 18.09. The idea is to reintroduce the version of openscenegraph shipped with 18.03 so these applications can work again. ###### Things done As well as adding a second version of openscenegraph I have version bumped both flightgear & simgear, and fixed a separate bug in speed_dreams. Since all of these packages are currently broken in 18.09 my intention is that these changes are backported to 18.09. Once again looking to @7c6f434c for some review and/or approval on this. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0cca209943e8dfb326ae0ca09a60a02e1028da20::b54374877142c748ffa3350913c9241bd01a5ff3::bdc293cabab2db61fdafd2b90c44f87a8b51b7de::51b661be2c84bb3a3cd0f44d211449006a047218::
https://api.github.com/repos/NixOS/nixpkgs,49557,rust-system-libs::staging,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::6.topic: rust::,"###### Motivation for this change We can use our llvm instead of the bundled one, just like fedora does: https://src.fedoraproject.org/rpms/rust/blob/master/f/rust.spec The closure size goes down a little: 780MB -> 740MB, but now part of this closure is llvm and can be shared. This also benefits compilation time. The commit also includes some cleanup of tests which no longer exist and don't need to be removed. I tested compilation of alacritty, firefox, thunderbird and ripgrep on x86_64-linux. (on top of master, 9f8828286212d8ce7b0fb3578c5f209c434dc60a) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::@LnL7 @dtzWill anyone who does remember why we switched away from this option? I thing this option was true at some point.::It broke the tests back then https://github.com/NixOS/nixpkgs/commit/7bd191df6a861e02d5bf2b36a03f6dc70e3e6bfd It could be still ok though: - Archlinux does this as well: https://git.archlinux.org/svntogit/community.git/tree/trunk/PKGBUILD?h=packages/rust - Ubuntu uses the bundled one: https://git.launchpad.net/ubuntu/+source/rustc/tree/debian/control?h=ubuntu/cosmic - Opensuse uses the system one: https://build.opensuse.org/package/view_file/devel:languages:rust/rust/rust.spec?expand=1 Since you deal with rust backports sometimes for firefox what would you prefer @andir ? I guess in the worst case it should be still possible to just re-enable the bundled version in backported version. ::I really have no strong opinion here. I would certainly like to avoid a situation where we have to port LLVM whenever we have to back port rustc for Thunderbird/Firefox. How much is the speedup of compilation time? If it is significant I could see this being a good thing in general.::Compiling rustc with the bundled llvm takes about 1h05 for llvm and 55 min for rustc. So this halves compilation time. Note that fedora disables codegen tests when using the bundled llvm.::At the moment we do not run tests anyway.::Is everything from their llvm fork upstream now? That was the main reason for this IIRC.::They only seem to merge pull requests from changes that have been before in llvm.::Great, I tried to split this out into 2 separate derivations at some point but not rebuilding llvm is even better.::",4b0d441cc4db398222efc17973386ea0fe897a41::973eca740bec22df9760f9db9e1e66f3e5f6c164::
https://api.github.com/repos/NixOS/nixpkgs,49497,galera-bootstrap::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"The default galera_new_cluster script tries to set this environment variable using systemctl set-environment which doesn't work if the variable is not being used in the unit file ;) I'd love to see this backported, but I'm not sure it's seen as a bug. ###### Motivation for this change I cannot bootstrap a Galera cluster with the default unit file. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Should be fine for backport. Can you also add a comment above since it is not so obvious that this is used by galera replication? ::What are these two `'`'s for?::> $ can be escaped by prefixing it with '' [source](https://nixos.org/nix/manual/#ssec-values)::This is a `""` string though, not an indented one (as mentioned in the docs you linked). And in any case, $ itself (without any `{` or other special symbol after it) doesn't need to be escaped in any strings. And the way you did it here, literally `''$_WSREP_NEW_CLUSTER` would be passed as an argument (did you actually test this?). You can experiment with escaping in `nix repl`. In short: Here you can just use `$_WSREP_NEW_CLUSTER $_WSREP_START_POSITION` Edit: Oh, you're not the PR OP, just realized this.::@Infinisil Fixed and rebased again. Should be good this time.::",9a1b53304a39bb48481b2882c3954a7f5ea5d20d::
https://api.github.com/repos/NixOS/nixpkgs,49491,u-18.09/lxd-3.0.2::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::,"###### Motivation for this change This is a backport for LXD 3.0.2, I had to test it before creating the PR. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",1bbe592f5b4f0f9945359f138fd651bddce0e4da::94ffbb5a4a775df410a3456a1f293c9505146483::1a4a9da49e138d841bcfe4b0b733f96167f0016a::
https://api.github.com/repos/NixOS/nixpkgs,49474,18.09/build-rust-package-exa::release-18.09,0,closed,10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::6.topic: rust::,"This is the backport of #48020 (cc @erictapen). I just started running some builds with these changes to see if it actually breaks/fixes things. ###### Motivation for this change ``` E.g. exa was wrongly put into /lib, as it matches .*.a but not .*\.a ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3f614258adf447313088d5300a481c01a7648576::
https://api.github.com/repos/NixOS/nixpkgs,49440,bitlbee-purple::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change fix purple plugins in bitlbee please backport also to 18.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Does that work for all relevant plugins? For instance, `purple-matrix` and `purple-hangouts` use `lib/pidgin`. But I don't know if these are supposed to be used with bitlbee, I don't use it myself.::well the majority of them use now purple-2, at least all I checked. I guess, for compatibility we can also include both.::",9b2121bb7ce2f82b06587e58303a7e7fbc3579e6::
https://api.github.com/repos/NixOS/nixpkgs,49422,crystal_play_backport::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"(backport of commit 473c890034e8d25278a52157ce230b77c82f3116) ###### Motivation for this change Backports https://github.com/NixOS/nixpkgs/pull/49252 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a68234bd7d6298d67b414bdd80e244f7d51119fb::
https://api.github.com/repos/NixOS/nixpkgs,49383,docs/lib-docstrings::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change This extracts the changes to documentation comments that previously were in #49275 into a new pull-request. These changes should be backportable to 18.09. Please see the other PR for more discussion, background information and examples of rendered documentation. Files covered: * `lib/lists.nix` * `lib/strings.nix` * `lib/trivial.nix` * `lib/debug.nix` * `lib/options.nix` cc: @grahamc ::",c2a744b9af3bdd5c66b24eec493607948fc0e227::0560caa57893a3c8dd11aeece110672c720c9496::65f50a9bb01a6e2041db1a4e41449e8ea0436adc::da18b9263505e957f41c97d801557fd8e5535c79::238496688010e3cffd19bbd7d04118ba7d1a52a1::
https://api.github.com/repos/NixOS/nixpkgs,49346,gocache::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: golang::,"If projects uses go1.11 modules GOCACHE is required. Also if buildGoPackage is used in a nix-shell setting we don't want to override GOCACHE to allow incremental builds. This should be backported to 18.09 ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::This will be /build/go-cache in practice.::This was also set in `nix-shell` which was not ideal.::",9bbfc6f6e2c7d84136d344ca3182a47cb14cb32b::
https://api.github.com/repos/NixOS/nixpkgs,49332,mdadm-4.1::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change Bumping mdadm. I've also added myself as a maintainer, given no one was listed there yet and this update is already almost a month old. The changelog mentions a lot of “enhancements and bug fixes”, so I'm not sure whether this should be backported: there is apparently no security fix, but it's a well-known part of the fundamental ecosystem which made a minor release. And a bug fix in mdadm can have big consequences… just as much as a bug introduced in mdadm. For the comparison, debian testing is at 4.1rc1, debian stable is at 3.4.4, fedora 29 is at 4.1rc2 (a bit older than the last version at their freeze), fedora 28 is at 4.0. So overall I'd likely say not to backport, but without strong sentiments. ###### Things done Tested by building the package and verifying that the `mdadm` and `mdmon` executables can actually run. Tried to test with `nixos/tests/installer.nix`, but it OOM's both without and with this patch applied here… @GrahamcOfBorg test installer <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e9309a83c17678c94b1e47991bb19365b6d45a21::
https://api.github.com/repos/NixOS/nixpkgs,49326,nixos/installation-device::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change 100000 (100kB) is too aggressive (too low) and gets ignored by the GC after raising warnings. See issue #43339 I'll make a second PR for backporting to 18.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fc476599adc6a990c0484e00ce16b76f31076092::
https://api.github.com/repos/NixOS/nixpkgs,49297,kubernetes-1.11.4::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (update)::,"###### Motivation for this change Kubernetes 1.11.4 contains various bugfixes and non-breaking features, which would be nice to get backported to 18.09. ref: https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.11.md#changelog-since-v1113 ###### Things done Besides running applicable NixOS tests, kubernetes 1.11.4 has been tested on my company staging cluster running real workloads. - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6129945d89f7eac2590416df2509ee73fb073177::
https://api.github.com/repos/NixOS/nixpkgs,49270,pinentry-cleanup::master,0,closed,0.kind: enhancement::10.rebuild-darwin: 1-10::10.rebuild-linux: 101-500::6.topic: GNOME::6.topic: closure-size::6.topic: nixos::8.has: changelog::8.has: clean-up::8.has: documentation::8.has: module (update)::8.has: package (new)::,"###### Motivation for this change Due to the udisks2 update in #41723 its closure size exploded and was subsequently disabled on installation media. This PR refactors the pinentry derivation to be able to split out the different flavours and adds a NixOS option to select the desired flavour with a sensible fallback depending on the configured desktop environment. Also this disables GUI support in GnuPG by default to resolve the dependency cycle in gcr. This way we won't have two versions of GnuPG in all systems closures that include gcr (i.e. due to udisks2). Finally, we can enable udisks2 on install mediums again. Everything except the breaking GnuPG change can and should be backported to 18.03 imho. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::we already set `security.sudo.enable = mkDefault false;` above ;-)::this only enables the gpg-agent if `pinentryFlavour` is not null, while we want to consider the enable option for that, and the flavour only for the `--pinentry-program` argument, I guess.::Added a comment that this just overrides the `ExecStart` from the upstream units taken from `gnupg` package. It's unfortunately not possible to pass this via an environment variable.::```suggestion inputsSatisfied = all (f: !(isNull f)) inputs; ```::```suggestion (mkEnable (elem f flavours && inputsSatisfied) (""pinentry-"" + flag)); ```::Maybe use `enabledFlavours` or something?::Perhaps we should assert `elem f flavours -> inputsSatisfied`, to avoid frontends silently not being build.::Why not just ```suggestion ++ concatMap (f: flavourInfo.${f}.buildInputs or []) flavours; ``` Hopefully, there will not be multiple levels of nested lists.::Should not this be ```suggestion ln -sf ${""$"" + head flavours}/bin/pinentry-${flavourInfo.${head flavours}.bin} $out/bin/pinentry ```::Maybe also mention the default behaviour.::Maybe we could even use placeholder now.::`gcr` is now part of top-level attribute set, this can be removed.::We do not need QT4 variant. https://github.com/NixOS/nixpkgs/issues/33248::And `!(isNull f) == ! isNull f`::",56e925efc9d23c6fcea30920ef23ba003d1c206d::7c67829070dbf75972589bd9b828a383e029c4e1::e91b0dcbddb4bf8b0fdba1401ccacef9cf12aff6::f6d6ba582b145b332cda2713413c7f2f25a0caf0::
https://api.github.com/repos/NixOS/nixpkgs,49240,layered-docker-images-18.09::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: documentation::8.has: port to stable::,"###### Motivation for this change This backports [layered docker images](https://grahamc.com/blog/nix-and-layered-docker-images) from master to 18.09, PR for master was #47411 cc @grahamc ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::I incorporated some whitespace changes from 18.09 into that as well.::",607e6140cdb69f277aa239992025f6d99f4d4a2c::61b4fa9ad9b9bd1aa1b1adb32185e5924cb9ee37::fbb61c14a2c3fa3f4957c11444e081b2dbad34d3::5a4f3306b8fd6e84064a33d0bfd5cf5a95976bfe::
https://api.github.com/repos/NixOS/nixpkgs,49233,jira-update-18.09::release-18.09,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Bugfix and security update backport (see #49227). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5be1827afeefdaadd5e5f1ba18011bab5bfcd040::
https://api.github.com/repos/NixOS/nixpkgs,49230,jira-update-18.03::release-18.03,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Bugfix and security update backport (see #49227). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",83fa2ccecc94a708e09744b748207a568104cfab::eb7e010dbd3ff22ae85ae856113da17a67b298a7::
https://api.github.com/repos/NixOS/nixpkgs,49227,jira-update::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Bugfix and security update. Fixes CVE-2018-13401 and CVE-2018-13402. Will also backport to 18.09 and 18.03 because of these issues (in separate PRs). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",50abe602b1ac61643b1fda36f7a6a6006108e748::
https://api.github.com/repos/NixOS/nixpkgs,49187,18.03/mosquitto::release-18.03,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,###### Motivation for this change This is a backport of a bunch of changes from master that fix several security issues that did arise in the mosquitto MQTT server. I read through the changelog and it doesn't seem to introduce any breaking changes. There are many bugfixes. One fix on timeout behavior could be seen as breakage but AFAIK that was on an edge case and can probably be let through. cc release managers for 18.03 @fpletz @vcunat ###### Things done [X] Recompiled using sandboxing on NixOS ::,559a4a31c76ad6178d519081b8da7135258653c4::c7d5cbc3bef2016beb3ce618780b8092093e69eb::
https://api.github.com/repos/NixOS/nixpkgs,49186,18.09/mosquitto::release-18.09,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,###### Motivation for this change This is a backport of changes from master that fix several security issues that did arise in the mosquitto MQTT server. I read through the changelog and it doesn't seem to introduce any breaking changes. There are many bugfixes. One fix on timeout behavior could be seen as breakage but AFAIK that was on an edge case and can probably be let through. cc release managers for 18.09 @samueldr @vcunat ###### Things done [X] Recompiled using sandboxing on NixOS ::,3581f5bfd0d5fc8c3ad8d5f896065a54617453f9::
https://api.github.com/repos/NixOS/nixpkgs,49150,secfoo::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::6.topic: GNOME::,"###### Motivation for this change I ran into a couple of issues while I was working on some related tooling.. Here is a collection of a few of those that I could motivate myself into addressing in some way.. The most important/interesting is probably the SDDM change. I did run NixOS tests for those packages that have them. We have to figure out how and what we want to backport to 18.03 & 18.09. cc @Mic92 since we talked about the changes already ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",9843fdc532a75f34274fb781d69a2daa97a6a0d2::c994f40de8e5e632fc71948001a73aaf9d3319cb::5f75f72497113001bbd464018db233fee13b0ed9::6ad3088b124504c873e239002b044e4b66607986::1103b3fbe6e7349a1f95e7eb2f6f17af8210ab6e::385e5ac8479f994dd4f2838a552341e009a99083::289897237763ef6db49af8dc3d00c3568cc2f230::
https://api.github.com/repos/NixOS/nixpkgs,49112,mapmap-broken::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"the mapmap binary segfaults at the moment at master and nixos-18.09. I will speak with upstream for a fix and mark this broken in the meantime. This needs a backport to `release-18.09`. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5ab10923d653de14ec8c4f1c6b7619fa876dd1e4::
https://api.github.com/repos/NixOS/nixpkgs,49110,grafana-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change [New release](https://github.com/grafana/grafana/releases/tag/v5.3.2) with various bufixes and a **closed XSS-vulnerability** (backport-PR for 18.09 coming up as soon as the test is done). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",e3927861d64ef3de05517332dd6e3a798650cdc5::
https://api.github.com/repos/NixOS/nixpkgs,49096,18.03/firefox::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::6.topic: rust::8.has: documentation::8.has: package (new)::,"###### Motivation for this change This is the backport of #48862. It also backports rust-cbindgen & rust_1_29 since firefox 63.0 requires them. For rust 1.28 would be sufficient but using 1.29 shouldn't hurt and might even help for the future Firefox bumps. We were able to dodge the nss & nspr upgrade by using the bundled versions. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",15bd77a6fd48c9634d5cde7ccf67cf1e92c2df8b::b221c255bcb43f1e766d6be850563029d848fbee::dc2becf42f1725b9497a1f11658c3637a1f4c9f9::caf1a09c8ced713547503abfc22c03b3ede5476c::5dd40872733e11478fa3cd63f9c0a7492df85222::
https://api.github.com/repos/NixOS/nixpkgs,49044,18.09/firefox::release-18.09,0,merged,10.rebuild-darwin: 501+::10.rebuild-linux: 501+::6.topic: rust::8.has: documentation::,"###### Motivation for this change This is the backport of #48862. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e16783050429366199ae0aa17623b0930f2d2ef4::8bdbb8c92264eaff9e22cd81eccd8ed49203d61d::344e66a5249a434e53506f02c8fc580a663b8cbe::e80c1fa3b2566533f49e63af06442ccc10e6cc24::3b4c03a6dee352294dc9a3823d431838c210d443::
https://api.github.com/repos/NixOS/nixpkgs,48950,auto-update/python2.7-python2-pythondialog::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::2.status: work-in-progress::6.topic: python::,"Semi-automatic update generated by https://github.com/ryantm/nixpkgs-update tools. This update was made based on information from https://repology.org/metapackage/python2.7-python2-pythondialog/versions. meta.description for python27Packages.python2-pythondialog is: '""A Python interface to the UNIX dialog utility and mostly-compatible programs (Python 2 backport)""'. <details> <summary> Checks done (click to expand) </summary> - built on NixOS - 0 of 0 passed binary check by having a zero exit code. - 0 of 0 passed binary check by having the new version present in output. - found 3.4.0 with grep in /nix/store/hkxf1aq51d5c0s4l7i48c7pwg9i0hfh6-python2.7-python2-pythondialog-3.4.0 - directory tree listing: https://gist.github.com/fc24464892d7299f1048ea70d6fe08a5 - du listing: https://gist.github.com/90137d9a446d5c7d98da9445f40af4ca </details> <details> <summary> Outpath report (click to expand) </summary> Outpath difference report 8 total rebuild paths 2 package rebuilds 2 x86_64-linux rebuilds 2 i686-linux rebuilds 2 x86_64-darwin rebuilds 2 aarch64-linux rebuilds First ten rebuilds by attrpath certbot python27Packages.python2-pythondialog </details> <details> <summary> Instructions to test this update (click to expand) </summary> Either download from Cachix: ``` nix-store -r /nix/store/hkxf1aq51d5c0s4l7i48c7pwg9i0hfh6-python2.7-python2-pythondialog-3.4.0 \ --option binary-caches 'https://cache.nixos.org/ https://r-ryantm.cachix.org/' \ --option trusted-public-keys ' r-ryantm.cachix.org-1:gkUbLkouDAyvBdpBX0JOdIiD2/DP1ldF3Z3Y6Gqcc4c= cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= ' ``` (r-ryantm's Cachix cache is only trusted for this store-path realization.) Or, build yourself: ``` nix-build -A python27Packages.python2-pythondialog https://github.com/r-ryantm/nixpkgs/archive/69eb57d20f6403c8191a84797201fc77319e1382.tar.gz ``` After you've downloaded or built it, look at the files and if there are any, run the binaries: ``` ls -la /nix/store/hkxf1aq51d5c0s4l7i48c7pwg9i0hfh6-python2.7-python2-pythondialog-3.4.0 ls -la /nix/store/hkxf1aq51d5c0s4l7i48c7pwg9i0hfh6-python2.7-python2-pythondialog-3.4.0/bin ``` </details> <br/>::",69eb57d20f6403c8191a84797201fc77319e1382::
https://api.github.com/repos/NixOS/nixpkgs,48916,sway-module::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Now that Sway-1.0-beta is in nixpkgs (https://github.com/NixOS/nixpkgs/pull/48829), we should discuss how to update the `sway` program module. I have been running something like this with Sway 1.0-pre for sometime and it's been working well. Many of these changes were made due to suggestions from @srhb (and `emily` from IRC, I believe? Sorry for not remembering better to give credit and thanks!) I'm looking for suggestions on how to handle this. Do we want a ""sway-beta"" program module? Seems messy in terms of upgrading/deprecations in the future, but also it may be too early to merge the change as-is now, since we still have older sway packaged as `sway`. Thoughts? cc: @primeos @srhb @Synthetica9 @xeji (I'm sending this out for initial review/testing. I'm still working on rebasing my local branches to test out everything with the `sway-beta` that was packaged earlier.) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::It might be nice to keep this since some users will need to set various XKB_ env vars before starting sway, but OTOH, if we remove it we can remove the sway wrapper entirely... thoughts?::I think the default should still be `sway` until 1.0.0 is officially released. ::I think that makes sense. Should I do a ""split"" module sort of thing where I keep the setcap wrapper unless `programs.sway.beta = true` or something?::You could consider duplicating the module so we (temporarily) have a `sway` and a `sway-beta` module like we do for the package.  Once 1.0.0 is released, the `sway-beta` module and package will replace the previous `sway`. Maybe that's easier to maintain.::@xeji seems simpler, yes, I'd be fine with it. Are we worried about introducing sway-beta and then removing it weeks later, from a deprecation, backward-compat standpoint? Maybe we don't care since none of this is likely to slip into 18.09 in this form?::I wouldn't care at this point. It's called beta for a reason, so users should expect it to break. `sway-beta` shouldn't be backported to 18.09 anyway. But it might eventually end up in 19.03 unless sway 1.0.0 is released first... @primeos what do you think?::We can remove this for `Sway 1.0` because it can/should be configured in the sway configuration, see https://github.com/swaywm/sway/wiki#keyboard-layout, but we should make that obvious (e.g. print an error message with instructions, if this option is set after the switch to 1.0).::Oh great, I'd totally misread the docs and thought they were still env-var-based in 1.0. Thanks.::I agree with @xeji, introducing a `sway-beta` module until the final release of Sway 1.0 sounds like the best idea. We could also use the description to mention that this module is only temporary.::The description isn't that relevant, but if possible you should start with a lowercase character (the result will be ""Whether to enable <TEXT>."") and package might be a bit misleading here. Maybe something like: ""Sway, the i3-compatible tiling Wayland compositor. This module will be removed after the final release of Sway 1.0""? Other than that it looks good to me :)::IIRC `xwayland` is required in `environment.systemPackages` (or PATH) for XWayland support (didn't test this but yesterday I got an error message without it). Maybe we should keep `extraPackages` (we could also suggest termite, rofi, ...) via the examples)?::If you have time for it you might want to remove the last double quotes (...Sway 1.0""), as that might be visible in the manual, but we can also change that when merging ;)::good eye, fixed. thanks.::",da960bb8992fa051f2c40a60d2bbf5d3b85cf0cd::
https://api.github.com/repos/NixOS/nixpkgs,48832,nixpkgs_update-gocode::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"github.com/nsf/gocode has also been deprecated in favor of github.com/mdempsky/gocode Please backport this to 18.09 because I could not use the deoplete-go vim plugin with the current version of gocode as it panics on Go 1.11. ###### Motivation for this change Fix deoplete-go vim plugin. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fae75e31bf02a547ff8a5154e956b5021f91f396::
https://api.github.com/repos/NixOS/nixpkgs,48825,u/live555::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change [CVE-2018-4013](https://nvd.nist.gov/vuln/detail/CVE-2018-4013) which has gotten a bit of attention these last few days. Needs backporting to stable when all tests pass. Only consumer in nixpkgs is vlc. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c06ca5fc867b18e48e44df7bda0134343c0c2856::60cb7f7b017fdbd275038ab1c7f87e161f204e5e::
https://api.github.com/repos/NixOS/nixpkgs,48818,u/lxd-3.0.2::master,0,merged,,"###### Motivation for this change LXD versions 3.0.1 and 3.0.2 offer several bugfixes. The last version introduced a dependency with a distributed sqlite3 implementation, so this is also packaged. I have tested the new version with the respective service on nixos-unstable. As soon as this gets merged, I will create a backport for 18.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",bf39304e533fe6a7823bf521d7f393d611801256::891277e6a9d659d4a270e3b36fc838098720f1de::ab62fe910883dd6322dc75190cb86ea9a185ebd3::
https://api.github.com/repos/NixOS/nixpkgs,48764,marble-include-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: qt/kde::,"###### Motivation for this change 13c1f26807140e3821262022d43378864543ebb4 added a separate `dev` output, however the includes are still installed to `out` because `INCLUDE_INSTALL_DIR` defaults to `${CMAKE_INSTALL_PREFIX}/include`. They get automatically moved to `dev` by the builder, but `INTERFACE_INCLUDE_DIRECTORIES` in the CMake package config still points to the old location in `out`. This breaks the build of `kreport`. Needs backport to `release-18.09`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Could  you use `cmakeFlags = [ ""-DINCLUDE_INSTALL_DIR=${placeholder ""dev""}/include"" ]` instead of `preConfigure`?::I wasn't aware that the `placeholder` builtin had been added. The nice thing about using `outputDev` is that it's valid regardless of whether or not a separate `dev` output exists.::I agree, this should definitely use `outputDev`, otherwise it may silently fail.::This package has control over the outputs it provides. And even if someone used `marble.overrideAttrs (super: { outputs = null; })`, removing dev output will definitely not fail silently.::I just want to point out that `outputs` can't be `null` or empty. `marble.overrideAttrs (oldAttrs: { outputs = [ ""out"" ]; })` fails when trying to install to the temporary string provided by `placeholder ""dev""`. In order to avoid it you would have to use: `marble.overrideAttrs (oldAttrs: { outputs = [ ""out"" ]; cmakeFlags = []; })` I really don't see the advantage of that method .::Placeholder variant is much more concise. Why would anyone in their right mind remove dev output?::Concision is not a virtue above correctness. Perhaps we could use `placeholder` with `assert (lib.elem ""dev"" outputs)`.::It will be asserted by virtue of trying to install into the dev output. When the output does not exist, the installation will fail.::I'm not saying it's a common thing but there is precedent for it in-tree: [untrunc](https://github.com/NixOS/nixpkgs/blob/master/pkgs/tools/video/untrunc/default.nix) overrides [libav_12](https://github.com/NixOS/nixpkgs/blob/master/pkgs/development/libraries/libav/default.nix) removing `dev` [systemd-cryptsetup-generator](https://github.com/NixOS/nixpkgs/blob/master/pkgs/os-specific/linux/systemd/cryptsetup-generator.nix) overrides [systemd](https://github.com/NixOS/nixpkgs/blob/master/pkgs/os-specific/linux/systemd/default.nix) removing `dev`::Failing during install, when we could fail during evaluation, is disrespectful to our users. Not failing is preferable to both. At the moment, I am maintainer-by-default of this package. Because I'm responsible for providing support for it (what support I can), I would prefer it not fail if possible. If either of you or anyone else wants to take over maintenance of this package, I will defer entirely to that person.::",956a4b2bb691da64934a73509dc98a6cb9b7e9bc::
https://api.github.com/repos/NixOS/nixpkgs,48754,debootstrap::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Fixes #45915. ###### Motivation for this change Not feeling strongly about the various clean ups; the minimal changes to make debootstrap work again are changing the `$CHROOT_CMD` variable and changing the script interpreter from `sh` to `bash`. Also the way the previous wrapper was implemented would retain references to gcc and various other build tools provided by stdenv. Would be nice to have this in some form on 18.09 too as debootstrap on the release branch is also not functional ATM. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Haven't tested very extensively outside of building stable / unstable Debian chroot.::Is this not replace anyway?::The interpreter gets patched, yes (if that's what you meant). The issue is that the script relies on some bash-isms which is why I change `sh` to `bash` here. I left a comment on the upstream commit here that perhaps makes more sense - https://salsa.debian.org/installer-team/debootstrap/commit/15b20e644b407602288402f97fc348b00921cc54#note_48468 LMK If not! Sorry if I misunderstood the question and thanks for the merge! Would be nice to have some sort of a backport too. The version on the stable branch is a bit behind but not working so perhaps it would be fine to backport the package updates + this commit?::This is interesting because debian also has dash as /bin/sh.::",be63e305637a05d4a6e122c721215262fa61d97b::
https://api.github.com/repos/NixOS/nixpkgs,48748,stable/pylint::release-18.09,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::8.has: package (new)::,"###### Motivation for this change Pylint won't work with python 2.7, so I backport two commits from master, which add pylint (and astroid) in last versions capable to work with python2.7 (conditionaly, only for py2.7) Before merge: ``` [avn@bulldozer:pts/5]~/nixos/nixpkgs% nix-build -A pkgs.python27Packages.pylint error: pylint-2.1.1 not supported for interpreter python2.7 ``` After: ``` [avn@bulldozer:pts/5]~/nixos/nixpkgs1% nix-build -A pkgs.python27Packages.pylint these derivations will be built: /nix/store/nw8l1rw57b3n34w60w2rdpa8jgxp9r8v-python2.7-astroid-1.6.5.drv /nix/store/04nqnrv7p404mr1gcfn210i11m51cypk-python2.7-pylint-1.9.2.drv these paths will be fetched (1.67 MiB download, 5.82 MiB unpacked): ...<some output stripped>... /nix/store/hyl3qjrrvfamlds7hdnh9yfwbza0jsk6-python2.7-pylint-1.9.2 [avn@bulldozer:pts/5]~/nixos/nixpkgs% ./result/bin/pylint --version No config file found, using default configuration pylint 1.9.2, astroid 1.6.5 Python 2.7.15 (default, Apr 29 2018, 23:18:59) [GCC 7.3.0] ``` Python 2.6 still have latest pylint (building output skipped) ``` [avn@bulldozer:pts/5]~/nixos/nixpkgs%  nix-build -A pkgs.python36Packages.pylint /nix/store/sq97g8z3g5q2v51nsmp4d5acbkm2yq6g-python3.6-pylint-2.1.1 [avn@bulldozer:pts/5]~/nixos/nixpkgs32% ./result/bin/pylint --version pylint 2.1.1 astroid 2.0.4 Python 3.6.6 (default, Jun 27 2018, 05:47:41) [GCC 7.3.0] ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- /cc @samueldr ::",e205b045c8b382f421a6013c71b1ec03310c1c8f::4bbcb5498102348e671a1d2e99ee81fc90571987::
https://api.github.com/repos/NixOS/nixpkgs,48692,fix/disallow-aliases::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change The new ofborg check (named grahamcofborg-eval-package-list-no-aliases) currently fails on release-18.09. ![image](https://user-images.githubusercontent.com/132835/47192329-9a87c680-d31a-11e8-95e1-c296813df3cf.png) This PR aims to correct this. ###### Things done - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - ⬜ macOS - ⬜ other Linux distributions - ✔️ `time env -i nix-env --query --available --json --file . --arg config '{ allowAliases = false; }'` - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @ryantm in f91a79e there were changes to `pkgs/misc/vim-plugins/default.nix` which didn't seem to be needed. I have **not** backported those changes. Any explanations to help figure out whether they should have been needed? ::Where did those go?::Hmm, overlooked when asking @ryantm This is verbatim from the cherry-picked commit. They are in `terraform-providers` as `ibm` and `libvirt`; both already had an alias in `aliases.nix` as of `release-18.09` right now.::",b02c65ab30edbbe699402307f8f63bd024ff3076::9dc7c3191a0e8e511db4521f0da27547c20e6676::
https://api.github.com/repos/NixOS/nixpkgs,48673,xorg-override-18.09::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: clean-up::,"###### Motivation for this change Backport of #45328. Good so any other xorg backports during 18.09's tenure don't hit major merge conflicts. No hashes changed. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",08049025a3188b367a1baf6162425be851a91e2f::9454f71fefcbe413fdfcb61b510256f1301c5f5c::0e12683470bc55da1f7739588a5ff7b236597d01::fb9604c4b7aa3617791f3cab10624a79819c0e5e::47bf3f3d3fac32432b182d83dbc59acc6fe54211::88cd633ea4dec7b9a247c0fd8ccb95f4982f5bf7::318e45d469598f938c21f1d11f3679b98ccbbd16::e23b220a781d0c0e21cfeecca12481ca6e585baa::
https://api.github.com/repos/NixOS/nixpkgs,48589,moinmoin::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"contains fix for CVE-2017-5934: http://moinmo.in/SecurityFixes Patch can be removed as it's integrated in 1.9.10: https://github.com/moinwiki/moin-1.9/commit/672e54a1af0d65bd81019f78de2a3671e9c3607b ###### Motivation for this change This minor release fixes a security-critical XSS attack vector and should be backported to stable. This release also changes some behaviour by including better defaults, I see nothing in the [Changelog](https://github.com/moinwiki/moin-1.9/blob/1.9.10/docs/CHANGES#L13) that would be a breaking change. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",651ffd1a7b3757c42e98bb6d90abbce99ec65e18::
https://api.github.com/repos/NixOS/nixpkgs,48517,gdm-fix-environement::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::6.topic: GNOME::,###### Motivation for this change When GDM launches a new session it will inherit the user's systemd environment (but only unset variables). If `__NIXOS_SET_ENVIRONMENT_DONE` is set in the user's systemd environment it will prevent the environment to be set properly or updated (eg. after having done a system rebuild). Gnome sessions exports their environment to systemd at startup. If something is keeping the user's systemd process alive (eg. ssh) launching a new gnome session after logging out will result in a broken PATH. Specifically the PATH will be inherited from GDM and never reset. We patch GDM to never inherit `__NIXOS_SET_ENVIRONMENT_DONE` so new sessions will always reset their base environment. fixes https://github.com/NixOS/nixpkgs/issues/48255 For more info about the environment setup: https://github.com/NixOS/nixpkgs/pull/45784 cc @jtojnar The issue is also present in 18.09 so this fix should be backported. ###### Things done Tested in a VM that logging into a new gnome session works properly when ssh is active after logging out once. --- ::,f908bf27305d80fca9b4955b3a758ca5c7ab4626::
https://api.github.com/repos/NixOS/nixpkgs,48463,release-notes-license::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: changelog::8.has: documentation::,"###### Motivation for this change Adds missing backwards-incompatible change in the release notes. Needs backport to 18.09 for display on nixos.org. Docs built locally and verified. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",2a2c99673bca1d30d53c530787a10a7d1c5b1de6::02e8e56500b95159f892804a81178b636a8534f2::861b70f4839be610f16fbfdf58a9670a3f8f3296::
https://api.github.com/repos/NixOS/nixpkgs,48437,shell-conduit-backport::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,###### Motivation for this change backport #48015 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change - [x] Tested compilation of all pkgs that depend on this change - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::,2334e37f5ae0be9d490701a9d57ee667d3e57b88::
https://api.github.com/repos/NixOS/nixpkgs,48377,cross-fixes-for-18.09::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change This backports #48245 to 18.09, bringing it slightly closer to being cross-compilable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e1fbfca6e0e8677c9d7851c01d35a5d4841c407e::eb1dc551af8091eaa2a74ba3b21e032c38e5d3cb::
https://api.github.com/repos/NixOS/nixpkgs,48328,toPretty-float::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change Tested via the `lib/tests/misc.nix` “test runner”. Please consider backporting to 18.09 :) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::`""~${toString v}""`::Done :)::",f2da1b09c40f9783240f6487c3c8742786959666::
https://api.github.com/repos/NixOS/nixpkgs,48301,monero::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,###### Motivation for this change Fix #48294 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change - [x] Tested compilation of all pkgs that depend on this change (none) - [x] Tested execution of all binary files - [ ] Determined the impact on package closure size - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- This should also be backported to stable.::,028164ef057119ee37c99bcb98224672441d2d81::6dc4ae5eb237b709dcb1b637b6b3a733fdc1f616::8e15e9c45235f015bb7cfbb634fd5f91a03acbb2::
https://api.github.com/repos/NixOS/nixpkgs,48251,feature/separated-string-description::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"The previous description ""string"" is misleading in the full options manual pages; they are actually concatenated strings, with a specific character. The string `""""` has been documented to stay coherent with the previously deprecated ""types.string"". ###### Motivation for this change This is for [nixos-homepage/pull/246](https://github.com/NixOS/nixos-homepage/pull/246), where @ryantm [was curious about listing the type descriptions on the options page](https://logs.nix.samueldr.com/nixos/2018-10-11#1638655;). The particular type desired had to be fixed to be more useful (I think). To be useful for nixos-homepage, it would need to be backported to 18.09. ###### Things done - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - ⬜ macOS - ⬜ other Linux distributions - ⬜ Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - ⬜ Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - ⬜ Tested execution of all binary files (usually in `./result/bin/`) - ⬜ Determined the impact on package closure size (by running `nix path-info -S` before and after) - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). - ✔️ Built the docs ---::This description is still misleading because it is the same description as `lib.types.str`, which is the preferred (non-deprecated) string type. I think the else branch can work for all cases! Should we put `\""` around the separator?::https://github.com/NixOS/nixpkgs/blob/master/lib/types.nix#L181::I know the description for `types.string` is misleading: I do not know what it should be. I'm thinking ""String concatenated with ''"" is too clunky. Maybe ""Concatenated string"" would be better. The separator is JSON-encoded, which also adds quotes around the string. (nix-repl adds more escaping) ``` nix-repl> builtins.toJSON """" ""\""\"""" nix-repl> builtins.toJSON ""\n"" ""\""\\n\"""" ```::What about ""Concatenated string (deprecated)""?::@ryantm The fact that it's deprecated shouldn't be part of the description, which might end up in the docs or so. I like ""Concatenated string"" for the `sep == """"` case.::Updated without the ""deprecated"" bit; its deprecation isn't really a part of its description imho (even though it *is* deprecated). The end-user, using the module, cannot do anything about the deprecation notice there.::",0808c7cd31aaa329aba21430b8b26c3a233dd83f::
https://api.github.com/repos/NixOS/nixpkgs,48220,backport_nm_plugins::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"(cherry picked from commit 5bfe8bfceac79e8b9de09a898afd23b10944c9fb) ###### Motivation for this change NetworkManager plugins are broken. This has been fixed in master via https://github.com/NixOS/nixpkgs/pull/47212 but not backported to latest stable. The basic NetworkManager functionality is broken and this should be backported IMHO. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a582a32e247d4f7c18e80381d0bc14fa8ebff994::
https://api.github.com/repos/NixOS/nixpkgs,48206,gitea-upgrade::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::2.status: duplicate::,"###### Motivation for this change Changelog: https://github.com/go-gitea/gitea/releases/tag/v1.5.2 This needs backporting to 18.09 and 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",660db9bce4e89284ee245ae241fdaf2b6b94cd62::
https://api.github.com/repos/NixOS/nixpkgs,48171,costrouc/python-fs::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"###### Motivation for this change #48034 . ###### Things done pythonPackages.backports_os: init at 0.1.1 pythonPackages.pyftpdlib: init at 1.5.4 pythonPackages.fs: 0.5.4 -> 2.1.1 refactor move to python-modules <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::postPatch::This can likely be solved by including `glibcLocales` in `buildInputs`, and exporting `LC_ALL=en_US.utf-8`.::`${python.interpreter}` so that it would work with PyPy as well.::I always forget that there is another python interpreter not called `python`. ::spaces::",3287e88cf0fa4896e2d0a527a3a993c458acc536::77c1ca887bcb419c341b2e7e6a6d6ab7374a0621::7f613c8d4992b980a97c8d06aa550e09ebc7dbd1::
https://api.github.com/repos/NixOS/nixpkgs,48156,django_updates::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"###### Motivation for this change There is a bunch of fixes across all the various django versions we support. Once merges in master, I’ll backport them to `release-18.09`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",95a040f9b65ab3624a4d9a82c0fa07b6655f4790::cd902644bfae044449de721bedae938119e68534::50ad0f2cc79a68b2db9d4403eacbd311eedfe38e::
https://api.github.com/repos/NixOS/nixpkgs,48155,fix/haskell/shellFor/18.09::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"Backporting #46453 Not sure if this is something we actually want to backport, since there's a chance it might break some workflows for anyone who's already upgraded to 18.09. But 18.09 is still pretty new, and this *shouldn't* break any existing code. So my preference would be to backport it.::",fdaa426452250db4f4c73c2c7a79136ee41267d4::08814b72cf8641d8b03c7e1296e1911ec09261f8::2bafa93b75464eee5744653319d8046e05cf141a::
https://api.github.com/repos/NixOS/nixpkgs,48128,gitea::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change https://blog.gitea.io/2018/10/gitea-1.5.2-is-released/ “This is a smaller release, with only 12 merged PRs, but it contains several security related fixes and so we recommend upgrading whenever possible.” Should therefore be safe to backport to 18.09, and required to get the security fixes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0a5c7cf512fcefb4b337186f0aee69ae8dd1df2c::
https://api.github.com/repos/NixOS/nixpkgs,48126,p/flash::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Previous version was removed upstream (404). Please backport to 18.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] works with chromium and firefox - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ad70f1020ef316496d1682b673cd95a9cd50c52d::
https://api.github.com/repos/NixOS/nixpkgs,48106,master::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change * new upstream release * upstream repository has moved, URLs changed accordingly The [new release](https://github.com/tazjin/journaldriver/releases/tag/v1.1.0) includes an important workaround/fix for [an issue](https://github.com/tazjin/journaldriver/issues/2) that could cause log-forwarding to fail after service restarts due to invalid journal cursors being persisted. Journaldriver was included in 18.09 - is it possible to get this version bump backported for that fix? --------- ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",d761c9bd85fabaf70403db551aabdacdaa620051::
https://api.github.com/repos/NixOS/nixpkgs,48055,add-exporter-tests::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Things done + set the default value of `RestartSec` for the varnish exporter service to avoid unrecoverable crashes (during a restart of varnish for example) + fixed the default service settings (`Restart`, `PrivateTmp` and  `WorkingDirectory`) which where falsely ignored before for all prometheus exporters + added a test for all available exporters (excluding minio and unifi) with instructions on how to add more tests + added myself as maintainer for the prometheus exporters module The exporter tests are executed one after another as subtests to go easy on the memory. The unifi and minio tests were intentionally excluded because recently minio itself started to expose prometheus metrics. The unifi controller is unfree software and also needs to be configured in the webinterface (as far as I know). <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Once this is approved, I'll open another PR to backport 9ed397d1c69b9158a20b234df5c3ac082ea9308d and dd0bdbe to 18.09.::",24320f4a9e398e03374d8dbca95d553850ac2ee4::fbb7e0c82f297815950e9153c21e561a704bfcd5::0febc64ed1928e163d9747ee1a7d3d1c7c0f9c6d::
https://api.github.com/repos/NixOS/nixpkgs,48050,pkg-tinc-20181008::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Critical security update (CVE-2018-16737, CVE-2018-16738, CVE-2018-16758). Should be backported to `release-18.03` and `release-18.09` as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",15a190eb27167c1817e0d5154394d0b3d768a56c::
https://api.github.com/repos/NixOS/nixpkgs,48047,fix-mutter-crash::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::6.topic: GNOME::,"###### Motivation for this change Tracking down why my desktop is crashing after upgrade to 18.09. I don't know if this is the actual cause, but it's a fix that applies to the current version of mutter (3.28.3), and is currently absent from the `gnome3.mutter` package. - upstream bug report: [mutter#223] - upstream fix: [mutter#172] [mutter#172]: https://gitlab.gnome.org/GNOME/mutter/merge_requests/172 [mutter#223]: https://gitlab.gnome.org/GNOME/mutter/issues/223 While we're here, are there any other patches that were backported by Ubuntu that are important? https://bugs.launchpad.net/ubuntu/+source/mutter/+bug/1767956/comments/8 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e2e23ddd89f613d456fb54398ff8291d1f8ace9c::
https://api.github.com/repos/NixOS/nixpkgs,48025,fix/actually-fix-partitioning-instructions::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: documentation::,"The previous tentative to the fix got the order mixed up a bit. This new fix has been re-verified to get them in the good order as per the instructions in the following chapters. * * * First of all: sorry. Next: it's *hard* trying to write something like that when you automatically fix the wrong inputs in your head! I was not seeing ""/dev/sda1"", but ""the root partition"". The issue was pointed out to me in private by a friend trying NixOS and following the instructions. This'll need to be backported. * * * The instructions are verified on qemu with a 100GiB disk. Now, take a moment and check where the guide wants to create the root filesystem and swap: * `# mkfs.ext4 -L nixos /dev/sda1` * `# mkswap -L swap /dev/sda2` I am verifying that in the next output the vda1 and vda2 partitions are sized as expected. ###### MBR ``` [root@nixos:~]# parted /dev/vda -- mklabel msdos Information: You may need to update /etc/fstab. [root@nixos:~]# parted /dev/vda -- mkpart primary 1MiB -8GiB Information: You may need to update /etc/fstab. [root@nixos:~]# parted /dev/vda -- mkpart primary linux-swap -8GiB -1s Information: You may need to update /etc/fstab. [root@nixos:~]# fdisk -l /dev/vda Disk /dev/vda: 100 GiB, 107374182400 bytes, 209715200 sectors Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: dos Disk identifier: 0x0cadb97f Device     Boot     Start       End   Sectors Size Id Type /dev/vda1            2048 192937983 192935936  92G 83 Linux /dev/vda2       192937984 209715199  16777216   8G 82 Linux swap / Solaris ``` ###### GPT ``` [root@nixos:~]# parted /dev/vda -- mklabel gpt Information: You may need to update /etc/fstab. [root@nixos:~]# parted /dev/vda -- mkpart primary 512MiB -8GiB Information: You may need to update /etc/fstab. [root@nixos:~]# parted /dev/vda -- mkpart primary linux-swap -8GiB -1MiB Information: You may need to update /etc/fstab. [root@nixos:~]# parted /dev/vda -- mkpart ESP fat32 1MiB 512MiB Information: You may need to update /etc/fstab. [root@nixos:~]# parted /dev/vda -- set 3 boot on Information: You may need to update /etc/fstab. [root@nixos:~]# fdisk -l /dev/vda Disk /dev/vda: 100 GiB, 107374182400 bytes, 209715200 sectors Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: gpt Disk identifier: 5860F00D-3FE1-4945-8FB4-0C76A1DB23B3 Device         Start       End   Sectors  Size Type /dev/vda1    1048576 192937983 191889408 91.5G Linux filesystem /dev/vda2  192937984 209713151  16775168    8G Linux swap /dev/vda3       2048   1048575   1046528  511M EFI System Partition table entries are not in disk order. ``` * * * ###### What was done * ✔️ `make format` on the installing.xml file * ✔️ building the documentation * ✔️ **[Rendered here](https://stuff.samueldr.com/tmp-manual/index.html#sec-installation-partitioning)**::Instead of -1 we could use 100%::",467bec34bb24d59c1178247935d92ac3195bac78::
https://api.github.com/repos/NixOS/nixpkgs,48022,mypyext::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"It's not necessary to depend on the ""typing"" backport since it's in the standard library; I also observed serious breakage in anything using the typing module (including) when the backport was in the closure on >=3.5. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [X] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",97b28da69b66354007b9ed87837aa1e5563c5e55::
https://api.github.com/repos/NixOS/nixpkgs,48020,47709-fix-regex::staging,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::6.topic: rust::,"E.g. after #47709, `exa` was wrongly put into `/lib`, as it matches `.*.a` but not `.*\.a`. I tested, that `exa` now is being put into `/bin` as it should. Should be backported to `release-18.09`, or maybe `staging-18.09`, as this will trigger a lot of rebuilds. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",64d0676fe1cafc47d710f0e62ff1139814e314ad::
https://api.github.com/repos/NixOS/nixpkgs,48000,arbtt-jailbreak::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"This needs to be backported to `release-18.09`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a01cab05c626f17632edb3776f16fabb89afc106::
https://api.github.com/repos/NixOS/nixpkgs,47996,charybdis::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,Please backport to 18.09 ::,99c8dc4a11c780a67d4443510b3de173b5380d88::
https://api.github.com/repos/NixOS/nixpkgs,47995,47709-fallout::staging,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 501+::6.topic: rust::8.has: clean-up::,"###### Things done I had a quick look at a [Hydra evaluation](https://hydra.nixos.org/eval/1482163) of #47709 and fixed two packages that were broken by it: - `vdirsyncer` - `ja2-stracciatella` This goes to `staging`, as IIRC the commits of #47709 are still there. This should be backported to `release-18.09`, as the commits in question are already there. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a9a88b0942c0bbc0b1dc6db22e2608e75c8446c7::226f31b3a2e5e76302a89cc3617171848b60294c::
https://api.github.com/repos/NixOS/nixpkgs,47991,update/nano-3.1::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change > GNU nano 3.1 [...] fixes a misbinding of ^H on some terminals and some systems. — https://www.nano-editor.org/news.php This was pointed out to me earlier today by a friend testing NixOS 18.09; in the installer image right now backspacing backspaces whole words! I have verified that on a linux terminal (CTRL+ALT+F1) the behaviour is now as expected. Yes, this'll need a backport to 18.09! ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - ⬜ macOS - ⬜ other Linux distributions - ⬜ Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - ⬜ Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - ✔️ Tested execution of all binary files (usually in `./result/bin/`) - ⬜ Determined the impact on package closure size (by running `nix path-info -S` before and after) - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",65eb3e38e8842d1110a531ade7b09e890429367c::
https://api.github.com/repos/NixOS/nixpkgs,47990,prometheus-snmp-exporter-args::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change No longer works after upgrading to NixOS 18.09, so should be backported. ``` snmp_exporter[847]: snmp_exporter: error: unknown short flag '-c', try --help systemd[1]: prometheus-snmp-exporter.service: Main process exited, code=exited, status=1/FAILURE ``` The argument format changed: ``` $ nix run -f channel:nixos-18.03 prometheus-snmp-exporter -c snmp_exporter --help Usage of snmp_exporter: -config.file string Path to configuration file. (default ""snmp.yml"") -log.format value Set the log target and format. Example: ""logger:syslog?appname=bob&local=7"" or ""logger:stdout?json=true"" (default ""logger:stderr"") -log.level value Only log messages with the given severity or above. Valid levels: [debug, info, warn, error, fatal] (default ""info"") -version Print version information. -web.listen-address string Address to listen on for web interface and telemetry. (default "":9116"") ``` ``` $ nix run -f channel:nixos-18.09 prometheus-snmp-exporter -c snmp_exporter --help usage: snmp_exporter [<flags>] Flags: -h, --help                    Show context-sensitive help (also try --help-long and --help-man). --config.file=""snmp.yml""  Path to configuration file. --web.listen-address="":9116"" Address to listen on for web interface and telemetry. --log.level=""info""        Only log messages with the given severity or above. Valid levels: [debug, info, warn, error, fatal] --log.format=""logger:stderr"" Set the log target and format. Example: ""logger:syslog?appname=bob&local=7"" or ""logger:stdout?json=true"" --version                 Show application version. ``` ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c477d6658c47fcd62b897819d9ae1aa535071ad0::
https://api.github.com/repos/NixOS/nixpkgs,47986,borgbackup-cherry-4093::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"See also https://github.com/borgbackup/borg/issues/4093 for this. Should get backported to `nixos-18.09` imo. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0cfc923813f803c7a169d257ce856173a2387ffc::
https://api.github.com/repos/NixOS/nixpkgs,47973,resilio-sync-2.6.1::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Changelog: https://help.resilio.com/hc/en-us/articles/206216855-Sync-2-x-change-log Note: this version contains a security fix, and should thus probably also be backported to 18.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f6a9109a73aca8e94e30adb60735dd420dc542bc::
https://api.github.com/repos/NixOS/nixpkgs,47948,ghostscript-9.25-18.09::release-18.09,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::,"Backport of #47934 from `master` to `release-18.09` (merged with #47903 and #47946). Please backport to 18.03 as well. ###### Changelog > Highlights in this release include: > This release fixes problems with argument handling, some unintended results of the security fixes to the SAFER file access restrictions (specifically accessing ICC profile files), and some additional security issues over the recent 9.24 release. CVE-2018-16802 CVE-2018-17183 > Note: The ps2epsi utility does not, and cannot call Ghostscript with the -dSAFER command line option. It should never be called with input from untrusted sources. > > Security issues have been the primary focus of this release, including solving several (well publicised) real and potential exploits. > PLEASE NOTE: We strongly urge users to upgrade to this latest release to avoid these issues. > > As well as Ghostscript itself, jbig2dec has had a significant amount of work improving its robustness in the face of out specification files. > > IMPORTANT: We are in the process of forking LittleCMS. LCMS2 is not thread safe, and cannot be made thread safe without breaking the ABI. Our fork will be thread safe, and include performance enhancements (these changes have all be been offered and rejected upstream). We will maintain compatibility between Ghostscript and LCMS2 for a time, but not in perpetuity. Our fork will be available as its own package separately from Ghostscript (and MuPDF). > > The usual round of bug fixes, compatibility changes, and incremental improvements. (cherry picked from commit 5b77b0d2f1eda9a42fe188eafb499230741e7925) cc @xeji ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",80f63a4e827ca777d0c080e65ca5778739427661::
https://api.github.com/repos/NixOS/nixpkgs,47871,notmuch-test-db::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change for running all tests, notmuch requires a database file, which can be downloaded at https://notmuchmail.org/releases/test-databases/ See test/README in notmuch sources for further info. ###### Things done In preFixup, fetchurl the file and link it in the corresponding directory. This results in a log diff like this: ```diff T530-upgrade: Testing database upgrade - missing prerequisites: database-v1.tar.xz - fetch with 'make download-test-databases' - SKIP   all tests in T530-upgrade + PASS   database checksum + PASS   folder: search does not work with old database version + PASS   path: search does not work with old database version + PASS   pre upgrade dump + PASS   database upgrade from format version 1 + PASS   tag backup matches pre-upgrade dump + PASS   folder: no longer matches in the middle of path + PASS   folder: search + PASS   top level folder: search + PASS   path: search + PASS   top level path: search + PASS   recursive path: search ``` As `test/test-databases/database-v1.tar.xz.sha256` in notmuch sources contains the sha256 of the fetched file, I'd expect the download to be stable between notmuch releases. Pinging notmuch maintainers @chaoflow @flokli @garbas @the-kenny This could be (easily) backported. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",908d855406778a2ffc78c90eaece85cff7d307a2::
https://api.github.com/repos/NixOS/nixpkgs,47859,nextcloud-module-18.09::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change This backports #47159 to 18.09. Filed a separate PR to run tests as suggested by @Mic92 in https://github.com/NixOS/nixpkgs/pull/47159#issuecomment-426828811 . I decided to keep the bump to 14.0.1 around, due to that release supporting 2FA and having a ""Data Protection Confirmation app and separate audit log file"" application. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @eqyiel @fpletz @globin @Ekleog ::",55c24a0c02017495a60964483e8cad93bb96c8cd::ac5fc67d6a263ddb02a42e68a8aafeb76515d5bb::cc340439f86735b6a4ac795d1916dfbb106b0999::06c7170e2a502c9c265201236bebb15625f2d4f2::490792019062277c20037522f1c968ba299c75e2::
https://api.github.com/repos/NixOS/nixpkgs,47837,doc-lib-funcs::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::,"Covers assert functions and about half of the attrsets functions. Some internal consistency around IDs could be improved. I considered trying to just get them all done first and then PR, but I'm thinking it would be better to get some merged and released now, and then over time we can add more. For example, I could document one function each morning. Demo: http://gsc.io/nixpkgs-docs/html/#sec-functions-library Obviously I'd like to backport this.::",f835f77e02018c77b48fc7f4911f3fee97f9d777::
https://api.github.com/repos/NixOS/nixpkgs,47803,glib-bin-reference::master,0,merged,,###### Motivation for this change Found this one when working on gnome-3.30. Left over from https://github.com/NixOS/nixpkgs/pull/38486 where `gsettings` moved from glib's `dev` output to `bin`. ~Should be backported to 18.09.~ cc @jtojnar ::,1d6639c575af54ba25785b457fd4dff5f5564dcb::
https://api.github.com/repos/NixOS/nixpkgs,47676,security-mojave-fix::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 0::6.topic: haskell::,"darwin.security_tool is currently broken in Mojave. See issue #45042 for more info. Our security_tool stuff comes from 10.9 so I suspect that it needs an update. Here I am putting in a hack to get things working again. This uses the system provided security binary at /usr/bin/security to avoid the issue in Haskell’s x509-system package. Unfortunately, this will break with the sandbox. I am also working on a proper fix, but this requires updating lots of Apple stuff (and also copumpkin’s new CF). You can follow the progress on this branch: https://github.com/matthewbauer/nixpkgs/tree/xcode-security This commit should be backported to release-18.03 and release-18.09. /cc @copumpkin @lnl7 @pikajude ::could you add a FIXME comment or something::yeah - added::",300ff965ae3e45548f62bc300059dbecb4a93e7b::
https://api.github.com/repos/NixOS/nixpkgs,47650,patch-2::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"This should make it easier to find the package under the name IntelliJ in eg. [1] If possible, please backport :) [1] https://nixos.org/nixos/packages.html#intellij ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",9cd0f88562989af1f8e1ea3d72604805559b4c2e::
https://api.github.com/repos/NixOS/nixpkgs,47649,staging-rustc-1.29.1::staging,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::6.topic: rust::,"###### Motivation for this change Fixing a security sensitive bug in the rust stdlib. From the changelog: - The standard library's `str::repeat` function contained an out of bounds write caused by an integer overflow. This has been fixed by deterministically panicking when an overflow happens. This change should not break anything that wasn't broken on 1.29.0 before. I have been rebuilding large portions of nixpkgs on the current staging head and didn't encounter many issues. We should probably provide backports to 18.03 & 18.03 following the patch proposed on the original [announcement mail](https://groups.google.com/forum/#!topic/rustlang-security-announcements/CmSuTm-SaU0). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",aef6830d3e59d554dea2cb96c07326922cffe416::6ad43a0bce3603b25bcadb458d39701616d245f4::
https://api.github.com/repos/NixOS/nixpkgs,47634,fix-libcanberra::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 0::6.topic: darwin::,"###### Motivation for this change This should fix the darwin build of libcanberra. Please backport to 18.09. (#45961) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",992c3dea2a906dfdc0cedef2b3b3aa6358629982::
https://api.github.com/repos/NixOS/nixpkgs,47591,alacritty::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Based on popular demand I decided to upgraded alacritty from my own fork. We currently also have a version in staging that works without but we cannot easily backport this one because it relies on some changes in the rust build infrastructure related to #46807 ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",cb6ccb6a7e9c3a3a61f36897d0c8f7d29d6bed81::350c79f9838246b1cd26c513e010640bac5e220a::
https://api.github.com/repos/NixOS/nixpkgs,47584,nix-ssh-serve-nixstable::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change Stable Nix supports ssh-ng since 2.x. Should be backported to 18.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",9157f1bc57ecea483fda54b1f46ae27d8e4ea839::
https://api.github.com/repos/NixOS/nixpkgs,47582,dockerTools-nix-stable::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::,"###### Motivation for this change I believe the usage of `nixUnstable` is an oversight since the original 2.x bump. This should probably be backported to 18.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b256df49375add87b0ec5ddd82092e0e2ff45aac::
https://api.github.com/repos/NixOS/nixpkgs,47564,p/kernel-timeout::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change We've recently seen a many kernel build timeouts on hydra like this: https://hydra.nixos.org/eval/1481520?filter=linuxPackage  so let's increase the timeout. We'll see if 4 hours are sufficient (hey, it's a lot faster than chromium builds :smile:) Please backport to 18.09, ZHF #45960. ###### Things done - [x] noop, just increased timeout --- cc @vcunat @samueldr @thoughtpolice ::",f644e298ae7a4bf16950cc3ea457728d6429e9c1::
https://api.github.com/repos/NixOS/nixpkgs,47517,pystemd::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"###### Motivation for this change This adds pystemd, a thin Cython-based wrapper on top of libsystemd, focused on exposing the dbus API via sd-bus in an automated and easy to consume way. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Please backport to 18.09 as well. ::",8479cdd4e6d7704fcade7b559448ffba5d4598ee::
https://api.github.com/repos/NixOS/nixpkgs,47496,CVE-2018-12648::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change cc https://github.com/NixOS/nixpkgs/issues/47122 please backport on release-18.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0c2964cfdd06338f0394b6e15b83c8dada0c00ca::
https://api.github.com/repos/NixOS/nixpkgs,47462,fix-logind-user-temp::master,0,merged,1.severity: blocker::10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"Likewise logind we should not try to restart this service after upgrade, the user's current session depends on it. This should be backported to stable. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",aa69bb5743069f62204433aaa493861bea53755f::
https://api.github.com/repos/NixOS/nixpkgs,47264,systemd-v239-bump-nspawn::staging,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 501+::,"This fixes nspawn containers with older systemd inside currently failing to start. See: https://github.com/NixOS/systemd/pull/23 https://github.com/systemd/systemd/pull/10104 https://github.com/NixOS/nixpkgs/issues/47253 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Please backport to 18.03 as well. cc @vcunat @samueldr @fpletz @Mic92 ::",0618156578bb642bdb8c092469064c579f1373e8::
https://api.github.com/repos/NixOS/nixpkgs,47229,CVE-2018-10196::staging,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::,"###### Motivation for this change https://github.com/NixOS/nixpkgs/issues/47122 please backport to staging-18.09 Also I replaced an occurrence of `overrideDerivation` as advised by https://nixos.org/nixpkgs/manual/#sec-pkg-overrideDerivation cc @bjornfor @7c6f434c as maintainers. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) -> only `dot` and `vimdot` - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5a9f7d1fe65238f49c3337580ea599077033a1f4::
https://api.github.com/repos/NixOS/nixpkgs,47227,php-mysql-sock-18.03::release-18.03,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::,"Manual backport of #47220 for 18.03. As the php expression still uses `composableDerivation`, we can't easily query what's enabled while defining `configureFlags`, so simply add the `with-mysql-sock` on each enabled feature. PHPs configure phase is happy with that being defined multiple times - not elegant, but I didn't want to resort to bash hackery for that backport :-) --- PHP tries to discover the mysql default socket path during configure phase by probing the file system: https://github.com/php/php-src/blob/cf3b852109a88a11370d0207cd3b72a53b6a64c3/ext/mysqli/config.m4#L4 This obviously fails to discover /run/mysqld/mysqld.sock, which is being used (hardcoded) across all MySQL flavours. This leads to PHP having no mysql socket path set for the mysql[i] extensions, and `/tmp/mysql.sock` set for pdo_mysql, meaning one currently has to manually configure and set it in php.ini. Luckily, PHP supports setting that path via `--with-mysql-sock=/run/mysqld/mysqld.sock` during configure phase, so let's do this as soon as one of the three modules is enabled. (cherry picked from commit baa04e4204b80225c5086611f305a0c412dc9967) ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",19765ecfb3253dc9b7d7bfb26a22b72469144173::
https://api.github.com/repos/NixOS/nixpkgs,47220,php-mysql-sock::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"PHP tries to discover the mysql default socket path during configure phase by probing the file system: https://github.com/php/php-src/blob/cf3b852109a88a11370d0207cd3b72a53b6a64c3/ext/mysqli/config.m4#L4 This obviously fails to discover `/run/mysqld/mysqld.sock`, which is being used (hardcoded) across all MySQL flavours. This leads to PHP having no mysql socket path set for the mysql[i] extensions, and `/tmp/mysql.sock` set for pdo_mysql, meaning one currently has to manually configure and set it in php.ini. Luckily, PHP supports setting that path via `--with-mysql-sock=/run/mysqld/mysqld.sock` during configure phase, so let's do this as soon as one of the three modules is enabled. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- This should probably be backported to 18.03 and 18.09 too. ::Nitpick: Can this be always set independent if mysql modules are enabled or not?::Most configure flags are set conditionally on the *Support arguments - I didn't want to clutter the configure output with flags that aren't used.::",baa04e4204b80225c5086611f305a0c412dc9967::
https://api.github.com/repos/NixOS/nixpkgs,47196,p/iso-boot-ia32::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change The UEFI iso image for i686 didn't boot. Because the default boot file was incorrectly named `bootx32.efi`, the firmware didn't find it and dropped down to the UEFI shell. This caused two tests to fail: [`tests.boot.uefiUsb.i686-linux`](https://hydra.nixos.org/job/nixos/trunk-combined/nixos.tests.boot.uefiUsb.i686-linux)  and  [`tests.boot.uefiCdrom.i686-linux`](https://hydra.nixos.org/job/nixos/trunk-combined/nixos.tests.boot.uefiCdrom.i686-linux) The correct name for 32bit is `bootia32.efi` (which is a little inconsistent with `bootx64.efi` for 64bit.) ZHF #45960, please backport. ###### Things done - [x] the two tests pass now --- ::",845ae983f6033338d89927d65fbfd7f28d91b16e::
https://api.github.com/repos/NixOS/nixpkgs,47185,p/prosody-test::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,###### Motivation for this change The test didn't catch an issue with `luadbi` (see #47156) because it used internal storage only. Enable sql (which uses sqlite3 by default) to also test sql access. Please backport to 18.09 (QA). ###### Things done - [x] test succeeds in a sandbox (after #47156 is merged) --- cc @Mic92 ::,6e14ae175952a7d188b90d09d465759da81502c0::
https://api.github.com/repos/NixOS/nixpkgs,47183,p/disable-containers-restart-networking-test::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change This test has continuously failed since 2017-10-31 and I can't figure out what's wrong (yet). No point in retrying every time, just a waste of Hydra resources. ZHF #45960, needs backport. --- ::",0d95b2d859dd23b7ac1e60a213c28dc1830b5d6a::
https://api.github.com/repos/NixOS/nixpkgs,47162,upgrade-php-depending-on-platform::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 0::,"###### Motivation for this change This way we don't need to disable flags etc by platform and can still backport new versions to stable for linux even if there's a bug or something in the darwin build. We would need to trigger a build on darwin as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @xeji ::",6a28878eabdb79315dfb6f8471a36401cc2c62cd::9159fb85c2e9e9f868329dd702c3ff35df895319::
https://api.github.com/repos/NixOS/nixpkgs,47156,luadbi::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"Switch to maintained fork that is compatible with lua5.2/lua5.3. This package was tested with prosody (the only user in nixpkgs itself). Since it was not actually compatible with lua5.2 before I would recommend to backport it, otherwise prosody will not work. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",66f3df9b4e7ad9bffed4e81a9a500e919772f8e6::
https://api.github.com/repos/NixOS/nixpkgs,47155,p/installer-tests::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change Our installer tests still suffer from non-deterministic failure on Hydra ([18.09](https://hydra.nixos.org/jobset/nixos/release-18.09/jobs-tab?filter=nixos.tests.installer) and [master](https://hydra.nixos.org/jobset/nixos/trunk-combined/jobs-tab?filter=nixos.tests.installer)), which often delays channels. One typical symptom of non-deterministic failure seems to be this: *Successful example:* ``` machine: must succeed: parted --script /dev/vda -- mkpart primary linux-swap 1M 1024M machine# [    9.146921]  vda: machine: exit status 0 machine: must succeed: parted --script /dev/vda -- mkpart primary ext2 1024M -1s machine: exit status 0 ``` *Failed example:* ``` machine: must succeed: parted --script /dev/vda -- mkpart primary linux-swap 1M 1024M machine# [   10.560431]  vda: vda1 machine# Error: Partition(s) 1 on /dev/vda have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes. machine# [   10.572443]  vda: vda1 machine: exit status 1 machine: output: error: command `parted --script /dev/vda -- mkpart primary linux-swap 1M 1024M' did not succeed (exit code 1) command `parted --script /dev/vda -- mkpart primary linux-swap 1M 1024M' did not succeed (exit code 1) ``` The failed example looks like `udev` recognizes the new partition before `parted` tries to tell the kernel about it.  I found some reports that confirm a race between `udev` and `parted`, [like this one](https://bugzilla.redhat.com/show_bug.cgi?id=1283112). This can happen between separate parted calls, so it is recommended to combine multiple parted commands into a single parted call to create the correct partition layout in one pass without udev interfering. And that's what this PR does. The change itself is a series of trivial rewrites. It should eliminate this particular cause of non-deterministic failure (but probably there are others, so don't expect zero failures from now on :smile:). Relevant for ZHF #45960, please backport to 18.09 ~WIP because I still like to run all the tests locally once, which will take some time.~ done ###### Things done - [x] run all installer tests locally --- ::",a5183762c5288361f7fb6b1f15c474ffa1a090dd::c46677fec2d3264f6a8f8b1929288806ea4f91aa::7dd6a5192d5dec03acb2490188f021f46460ec2d::
https://api.github.com/repos/NixOS/nixpkgs,47152,p/hound-test::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change The test failed on Hydra [in one recent run](https://hydra.nixos.org/build/81782734) because a request to the server was sent before indexing was finished (or even started?).  Retry the request until it succeeds (or times out). Relevant for ZHF #45960, please backport. ###### Things done - [x] test passes in a sandbox on NixOS --- cc @grahamc::",5e0343bd028d9a87a7ae663f79084c5bc784f1cf::
https://api.github.com/repos/NixOS/nixpkgs,47142,p/devpi-client::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Build failed on Hydra: https://hydra.nixos.org/job/nixpkgs/trunk/devpi-client.x86_64-linux/all Update to latest version, fix failing tests, reenable a previously disabled test. ZHF #45960, please backport to 18.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @makefu @nlewo ::",05baee0e627588c7f06c4d41f87ca84490e62124::
https://api.github.com/repos/NixOS/nixpkgs,47118,elk6-6.4.1::master,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change Kibana import objects doesn't work with older 6.x versions ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::I am not sure if this has ever worked for newer versions. Should we backport? @basvandijk ::it does work with the previous version, doesn't really make sense to me but it does.::Is @shmish111 symlinking the libraries possible?::um, don't understand :-(::I mean `ln -s ${elasticsearch-oss}/lib/* $out/lib/`::ah I see, we can, what are the advantages/disadvantages?::The advantage would be less duplication.::yes, otherwise you will have a copy of the core libraries in each plugin.::Ah, good point, ok I'll make the change today::",a810e057ee842c2bf735ed4ec9771308ab706672::
https://api.github.com/repos/NixOS/nixpkgs,47102,p/test-atd::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change The test [failed non-deterministically on Hydra](https://hydra.nixos.org/build/81774753) when an `at` command was issued before the `atd` daemon was running. ZHF #45960, please backport. ###### Things done - [x] NixOS test passes locally for x86_64-linux and i686-linux --- ::",8ffd65b12e7eeb74ddec11efd9fc3b49bbd568ea::
https://api.github.com/repos/NixOS/nixpkgs,47033,patch-2::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"If enabled, zathura currently fails to build on 18.09 ###### Motivation for this change This is currently broken on: https://github.com/NixOS/nixpkgs-channels/tree/nixos-18.09 Failing with: ``` [29/38] Compiling C object 'zathura@sta/zathura_shortcuts.c.o'. [30/38] Compiling C object 'zathura@sta/zathura_synctex.c.o'. FAILED: zathura@sta/zathura_synctex.c.o /nix/store/iw94llkj05wgaz268mlzvgx8jkbi1ss0-gcc-wrapper-7.3.0/bin/cc -Izathura@sta -I. -I.. -I../ -Idata -I/nix/store/xv568b9mz2vdszss8qm76ck0q05g9ww5-gtk+3-3.22.30-dev/include/gtk-3.0 -I/nix/store/7w6fz25rxw43xihfhyzj2j9c4jlnsdp0-glib-2.56.0-dev/include/glib-2.0 -I/nix/store/wgki8qb0h5q963pm890i0i3kpf15mmd8-glib-2.56.0/lib/glib-2.0/include -I/nix/store/27jaxgs7azws5gpb2w5pddc1qg9nr6m3-cairo-1.15.12-dev/include/cairo -I/nix/store/zavrkx3070qvv5zv8840grl8jrzp3wsk-freetype-2.9-dev/include/freetype2 -I/nix/store/zavrkx3070qvv5zv8840grl8jrzp3wsk-freetype-2.9-dev/include -I/nix/store/qr3k68h122nclxvgfwl9rh25ij36140j-pango-1.42.1-dev/include/pango-1.0 -I/nix/store/w3whis019b8fqsnpgyh3460r84rx4ms7-fribidi-1.0.5/include/fribidi -I/nix/store/ip6incsc37i9lhhyrasl669zi4yy392b-gdk-pixbuf-2.36.12-dev/include/gdk-pixbuf-2.0 -I/nix/store/pkq35lfwa1img2d4jb74nid73g9mbxwl-atk-2.28.1-dev/include/atk-1.0 -I/nix/store/mcf1dlzaglp66rp9ajxal7g4lz8kp38x-girara-0.3.0/include -I/nix/store/7w6fz25rxw43xihfhyzj2j9c4jlnsdp0-glib-2.56.0-dev/include/gio-unix-2.0/ -I/nix/store/1f78125jdwigxk7m72p7rxplvhy30abf-sqlite-3.24.0-dev/include -I/nix/store/lqziwnwams56sil06vddravn6iiaswb6-texlive-bin-2018/include/synctex -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -std=c11 -O3 -fPIC -pthread '-DGETTEXT_PACKAGE=""zathura""' '-DLOCALEDIR=""/nix/store/plbnhjkw1la7aihmcdn8l6x34v3g3sha-zathura-core-0.4.0/share/locale""' '-DZATHURA_PLUGINDIR=""/nix/store/plbnhjkw1la7aihmcdn8l6x34v3g3sha-zathura-core-0.4.0/lib/zathura""' -D_DEFAULT_SOURCE -DWITH_SQLITE -DWITH_SYNCTEX -DWITH_SYNCTEX1 -DWITH_MAGIC -Wall -Wextra -pedantic -Werror=implicit-function-declaration -Werror=vla -fvisibility=hidden  -MD -MQ 'zathura@sta/zathura_synctex.c.o' -MF 'zathura@sta/zathura_synctex.c.o.d' -o 'zathura@sta/zathura_synctex.c.o' -c ../zathura/synctex.c In file included from ../zathura/synctex.c:8:0: /nix/store/lqziwnwams56sil06vddravn6iiaswb6-texlive-bin-2018/include/synctex/synctex_parser.h:53:10: fatal error: synctex_version.h: No such file or directory #include ""synctex_version.h"" ^~~~~~~~~~~~~~~~~~~ compilation terminated. ninja: build stopped: subcommand failed. builder for '/nix/store/5nnjbn8cdq0mxz9cq34gaz9v697k81xs-zathura-core-0.4.0.drv' failed with exit code 1 cannot build derivation '/nix/store/bz90skc33pp4g5gvxviaqdlx9dryqqxk-zathura-with-plugins-0.4.0.drv': 1 dependencies couldn't be built cannot build derivation '/nix/store/qrxlymp46pnm4rjrhg279xvy02bngn1y-system-path.drv': 1 dependencies couldn't be built cannot build derivation '/nix/store/0p4laz83y06a28sm8zzan81xkhgkhpzi-nixos-system-nebula-18.09.git.643f31a.drv': 1 dependencies couldn't be built error: build of '/nix/store/0p4laz83y06a28sm8zzan81xkhgkhpzi-nixos-system-nebula-18.09.git.643f31a.drv' failed ``` Disabling it makes zathura build successfully. #### I'd also like to request a backport of this change to 18.09 in order to avoid having the package broken. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4655ebcfed4d08105284520ed9862e358f7c6fb9::
https://api.github.com/repos/NixOS/nixpkgs,47017,docker-tools-test::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: documentation::,"###### Motivation for this change @samueldr said I could backport it if I added a test :) @GrahamcOfBorg test docker-tools ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",aedc651903e3b20514c2fda056ff0bc9124b4d5d::
https://api.github.com/repos/NixOS/nixpkgs,46949,p/networking-virtual-test::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change The test [failed non-deterministically on Hydra](https://hydra.nixos.org/job/nixos/trunk-combined/nixos.tests.networking.networkd.virtual.x86_64-linux/all) because interfaces sometimes weren't yet fully cleaned up when the result was checked, probably due to high load. Should be fixed by waiting a little. Please backport to 18.09 #45960. ###### Things done - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) --- ::",73c4ec69907b0475639f5922d7e90eeb45ddada1::
https://api.github.com/repos/NixOS/nixpkgs,46916,p/gdk-pixbuf-test::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change Test VM [didn't start up on i686](https://hydra.nixos.org/job/nixos/trunk-combined/nixos.tests.gdk-pixbuf.i686-linux) because it tried to create a VM with 4096M RAM but `qemu-system-i386` has a hard 2047M memory limit. - reduce memory to 2047M on i686. - increase timeout 300s -> 1800s because the tests are much slower on i686 and timed out. This fixes the test on my machine (but no guarantees for Hydra :smile:). ZHF #45960 , please backport ###### Things done - [x] test succeeds on my local machine for i686 and x86_64-linux --- cc @jtojnar ::",225d454c35ccb5310f1054ce804782a00c3bb427::
https://api.github.com/repos/NixOS/nixpkgs,46874,p/containers-imperative::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change Test [failed on i686](https://hydra.nixos.org/job/nixos/trunk-combined/nixos.tests.containers-imperative.i686-linux/all) in a sandbox because some packages required in the test vm to build the nixos manual for the container were missing. Add them. ZHF #45960, please backport. ###### Things done - [x] NixOS test passes in a sandbox for x86_64-linux and i686-linux --- ::",decfe11e7b72f7928e15924c48c934f829acbe3c::
https://api.github.com/repos/NixOS/nixpkgs,46855,p/czmq::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change This update fixes the build of `intecture-auth`,  `intecture-agent` and `intecture-cli` which failed on Hydra due to an instance of this bug: https://github.com/zeromq/libzmq/issues/2991. ZHF #45960, please backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-review` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b8ca9c0a38e39556021ecd042ec4151cf38d99f2::
https://api.github.com/repos/NixOS/nixpkgs,46850,p/nilearn::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change These tests failed on some hydra builders ([Hydra example](https://hydra.nixos.org/build/81364109)), probably due to lower arithmetic precision. The failure was not reproducible on my local machine. Reduce required precision from 13 to 8 decimal digits, which should work everywhere. ZHF #45960 - please backport. ###### Things done - [x] built in a sandbox on NixOS --- ::",676787b3841150036eb4b79072c46d4bc6b6c823::
https://api.github.com/repos/NixOS/nixpkgs,46830,p/disable-ec2-config-test::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change ZHF #45960 , please backport. This test doesn't work in a sandbox and [never succeeded in available Hydra history](https://hydra.nixos.org/job/nixos/trunk-combined/nixos.tests.ec2-config.x86_64-linux/all). It simulates an EC2 instance reconfiguring itself at runtime with userdata, which apparently needs network access. I tried to fix it by adding missing `system.extraDependencies` but was unable to get it to work entirely without  accessing the network. This disables the test on Hydra. It can still be run manually and succeeds with sandboxing turned off. --- cc @copumpkin who originally wrote the test ::",2fa59656e9d88e6d3cca7f4465e2ba3ca4d169b1::
https://api.github.com/repos/NixOS/nixpkgs,46778,zoom-us-2.4::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Apart from regular update, Qt 5.11 was downgraded to 5.9 because of two issues: - spawns errors like ``` qrc:/qml/SignInWaiting.qml:20:9: QML BusyIndicator: Detected anchors on an item that is managed by a layout. This is undefined behavior; use Layout.alignment instead. qrc:/qml/SignInWaiting.qml:26:9: QML Text: Detected anchors on an item that is managed by a layout. This is undefined behavior; use Layout.alignment instead. qrc:/qml/SignInWaiting.qml:20:9: QML BusyIndicator: Detected anchors on an item that is managed by a layout. This is undefined behavior; use Layout.alignment instead. qrc:/qml/SignInWaiting.qml:26:9: QML Text: Detected anchors on an item that is managed by a layout. This is undefined behavior; use Layout.alignment instead. qrc:/qml/SignInWaiting.qml:20:9: QML BusyIndicator: Detected anchors on an item that is managed by a layout. This is undefined behavior; use Layout.alignment instead. qrc:/qml/SignInWaiting.qml:26:9: QML Text: Detected anchors on an item that is managed by a layout. This is undefined behavior; use Layout.alignment instead. qrc:/qml/SignInWaiting.qml:20:9: QML BusyIndicator: Detected anchors on an item that is managed by a layout. This is undefined behavior; use Layout.alignment instead. qrc:/qml/SignInWaiting.qml:26:9: QML Text: Detected anchors on an item that is managed by a layout. This is undefined behavior; use Layout.alignment instead. qrc:/qml/SignInWaiting.qml:20:9: QML BusyIndicator: Detected anchors on an item that is managed by a layout. This is undefined behavior; use Layout.alignment instead. qrc:/qml/SignInWaiting.qml:26:9: QML Text: Detected anchors on an item that is managed by a layout. This is undefined behavior; use Layout.alignment instead. ``` - Google login doesn't work. It just doesn't start embedded webbrowser ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @tadfisher @samueldr @vcunat @shlevy Please backport to 18.09. Both because of Qt fix and proprietary service client update::",290271db91a85bede1e676af786a4a0563fffbdd::
https://api.github.com/repos/NixOS/nixpkgs,46772,backport-skype-bump::release-18.03,0,merged,,"Old upstream source disappeared, so backport to 18.03 Needs a tester, since the UI does not appear to launch for me, possibly due to my window manager. (cherry picked from commit 81d5061a192bad28661e979cee080524b202005c) ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5188928986aa71aa46b20d3cdcc8c960a537e04f::
https://api.github.com/repos/NixOS/nixpkgs,46769,zhf/grub::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::,"###### Motivation for this change For #45960, needs backport to 18.09. This upgrades grub to the latest Debian patchset. Also tried updating to the latest Gentoo patchset, didn't work better. Additionally, gcc6 is required for building grub1. I'm not 100% positive on the method used to fix the installer test (creating /tmp after the partitioning), but 100% positive that it is the fix required. This was found by using `grub-install --debug` (through modfying the nixos grub installer script). (Note that `--debug` on `grub-install` FORCIBLY exits with error code `1`.) * * * As for: ""what broke the build?"", the switch to gcc7 was the initial breakpoint. At that moment, the grub1 build was failing. Why the segfaults aren't visible in the failure logs? I thought I had found clues in #46763, but turns out that by validating whether gcc6 was required or not, I found out that my initial assumptions were wrong. Still an open question. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - 🆖 macOS - ⬜ other Linux distributions - ✔️ Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - ⬜ Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - ✔️ Tested execution of all binary files (usually in `./result/bin/`) - ⬜ Determined the impact on package closure size (by running `nix path-info -S` before and after) - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::`sources.debian.org` is not version controlled, they tend to remove/change files  so we get 404s and broken hashes later. Can you please try to find the patches in their gitlab repo: https://salsa.debian.org/grub-team/grub/tree/master/debian/patches  - they should all be there somewhere, although maybe not all int the `grub-team` project.::You can change `baseUrl` to -> https://salsa.debian.org/grub-team/grub-legacy/raw/debian/0.97-73/debian/patches The **corrected** hashes are the same. I also checked and all the files referenced here are there also.::Hm! Though I hadn't verified elsewhere whether it was a safe location, I verified that other locations in Nixpkgs used `sources.debian.org`. You say ""not version controlled"", but I see the version in the URL, which I would assume [always match with a released version](https://sources.debian.org/data/main/g/grub/) (since I see those). Is it that even though they are versioned, they may change?::We've had issues fetchpatch-ing from `sources.debian.org` before. The content is not guaranteed to be stable, they do sometimes change or remove files even under the same version in the URL. It's still used in nixpkgs but let's try to avoid it in the future. So the gitlab repo is the best option if you can find the patches there.::",ba09b0570298dbbf583303d30491117375e04375::932c8f4c13d06ee7787e7099948eb5f926ce38dc::b63c539bdc965710bc666eebd8f1f2dd2c208841::
https://api.github.com/repos/NixOS/nixpkgs,46747,p/ipfs-migrator::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,###### Motivation for this change New version of the ipfs repo migration tools. This is required to migrate existing ipfs repos to repo v7. Needs backport to 18.09 since existing ipfs repos from 18.03 will have to be migrated to v7 in 18.09. ###### Things done - [x] built in a sandbox on NixOS ---::,6823fe9fb0e7c5d53693f0d986d29c273b8919ce::f896867ae5319bfb49b31476e8352475666c748f::
https://api.github.com/repos/NixOS/nixpkgs,46741,exim-module-package-opt::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"This allows the definition of a custom derivation of Exim, which can be used to enable custom features such as LDAP and PAM support. The default behaviour remains unchanged (defaulting to pkgs.exim). --- As the default behaviour is preserved, could this be backported to `release-18.{03,09}` too? CC: @4z3 (Exim package maintainer)::",d73ed4264f48da098e782c0e204ae4ce613801e5::
https://api.github.com/repos/NixOS/nixpkgs,46706,pr-go-skip-flaky-test::master,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 101-500::6.topic: golang::,"###### Motivation for this change Currently the builds regarding go 1.11 on i686-linux are failing. This hits a number of NixOS tests. The test only fails on i686 and not just on NixOS. It also happens on Debian. For more information: https://github.com/golang/go/issues/25628 This probably needs to be backported to 18.09 (#45960) Closes #46705 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0bf6b440d90acc6b581c6dd18ce3eb6b335eccd7::
https://api.github.com/repos/NixOS/nixpkgs,46702,pr-deedle-1.2.5::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: clean-up::,"Deedle was outdated and the build was failing. This probably needs backporting to 18.09 (#45960) <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",4afa2e1dabcc528cfe3a37750c23bccc5706669a::
https://api.github.com/repos/NixOS/nixpkgs,46694,upgrade-php-7210::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change This should *not* be backported due to flag changes due to upstream bugs. Changelog 7.2.9: http://php.net/ChangeLog-7.php#7.2.9 Changelog 7.2.10: http://php.net/ChangeLog-7.php#7.2.10 Changelog 7.1.22: http://php.net/ChangeLog-7.php#7.1.22 If someone could trigger a borg build for darwin as well it would be great since 7.2.9 seemed to fail on darwin in the 7.2.9 PR that never got merged due to darwin failure #45159. This fixes #45159. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @xeji @globin ::",5a868df96712e900201dd9cdaa29dfeddd71a973::89b7ad263e9c3df23bac10cab3044883e7ebd766::
https://api.github.com/repos/NixOS/nixpkgs,46684,elf-header::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (new)::,"###### Motivation for this change backport for #46574. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",846b44b2e958cd38c02f70847736598ce7e4c7a0::2205beaa8c95746e1ed580875dea202e93a85b5d::b8ce6a31f555a2e4471880cc4c01b629e7d6d36f::
https://api.github.com/repos/NixOS/nixpkgs,46669,findutils_fix_staging::staging,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 501+::,"findutils fails to pass checkPhase on my Linux system that has a ```sysconf(_SC_OPEN_MAX)``` limit set. The test itself appears to be a common copypasta between gnu projects. Poking limits of available fd's is irrelevant to what findutils is designed to do, so I consider the test to be bogus. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Is the value of bad_fd also `getdtablesize()`?::It might be a good idea to report this also upstream.::It might be also interesting to add here, what your kernel version was (also you don't know the exact one).::Correct::I'm not sure which of the cases should I bring up: * remove the test * for them to not use ```getdtablesize()``` from ```gnulib``` that fall backs on a too high arbitrary guess value when ```getrlimits``` fails in my case::2.6.32-696.18.7.el6.x86_64, and also 2.6.32-754.3.5.el6.x86_64::Ancient.::No sure, what would you recommend? @jamesyoungman::@Mic92 These are branches supported by RedHat, they come with backported features as well. I believe the ""-754"" version came out last month.::",ef04b4f283317d02397ce6546ef66868d59f45f3::56b95ba4376057a4064e2742bfe971dfae1422db::
https://api.github.com/repos/NixOS/nixpkgs,46614,atlassian-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Packet bump for our Atlassian packages. Will be backported to 18.09 as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4d962b6dcdc0c04dfa6a4f627498602c021bc1ac::f05e51abed25cca570001cccd85d075c42c761e1::a431f3e35d68debdb16537e4563dd290dbe15500::
https://api.github.com/repos/NixOS/nixpkgs,46598,kube-1.11-backport-1809::release-18.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::,"Backport of #46573 to 18.09. The module revamp did not make the cut for this release. See the comments on that PR for compatibility, namely that 1.11 works with our current modules (with the same issues that 1.10 has) and keeps us up to date. @samueldr I assume this is still an acceptable backport, as long as we don't touch the module, right? (cherry picked from commit a49f56c3b1a5dc88c1dfbb0412a790033ac0f6c3) ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0c84b5cab79c6d20ebfda5079687687bfea3f0c2::
https://api.github.com/repos/NixOS/nixpkgs,46573,kubernetes-1.10-1.11::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: documentation::,"###### Motivation for this change Since https://github.com/NixOS/nixpkgs/pull/45670 will not make it to 18.09, I'm PR'ing the kubernetes package separately. I'd like it if this could be backported to NixOS 18.09. Even though this PR has no module updates, the main purpose of issue #43882 was to upgrade to v1.11, thus: closes #43882 @srhb ping ###### Things done NixOS tests for rbac and dns runs clean. I've also tested this with a three node cluster in Google Cloud and it turns out that the existing kubernetes module works seamlessly with the 1.11.3 package, although some of the k8s components yield warnings for deprecated flags. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a49f56c3b1a5dc88c1dfbb0412a790033ac0f6c3::
https://api.github.com/repos/NixOS/nixpkgs,46572,mosquitto-ip6::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change This fixes mosquitto not listening by default on IPv6 and not finding the cert store by default. I propose backporting this to 18.09 (cc @vcunat, @samueldr) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - N/A macOS - N/A other Linux distributions - N/A Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - N/A Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - N/A Tested execution of all binary files (usually in `./result/bin/`) - N/A Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",806d0e788eba783f2524157c1dc84a3686be236d::3445d97d9b4a40847689e9ab9504516638d8c928::
https://api.github.com/repos/NixOS/nixpkgs,46571,alertmanager-meshing::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Allow meshing in the prometheus alertmanager module. This has been used in production for quite some time and we just missed upstreaming it. Therefore, and due to it being a rather small change, I propose backporting to 18.09 (cc @vcunat, @samueldr) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - N/A macOS - N/A other Linux distributions - N/A Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - N/A Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - N/A Tested execution of all binary files (usually in `./result/bin/`) - N/A Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Is this chowned recursively? ::`RuntimeDirectory` provided by systemd might be better.::If it does not matter, `DynamicUser` might be an option.::",5b3135a3e6fcf6d416de75c192f8765c585ead4a::6d7713a08172afa238e680278b057899ec073868::8c2a63dab0eb2df53439d87d83b73aca470fb5e9::
https://api.github.com/repos/NixOS/nixpkgs,46490,nixos/alsa-default::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::2.status: stale::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change I still think that change needs to be reverted, but if there's no will for that let's at the very least warn users about the problem that change introduced. Without this most ALSA users switching from releases before 18.03 will get sound, but won't get ALSA state save/restore. That would be very confusing. All modules and tests that want to be completely headless disable this option explicitly. I.e. you won't see this warning unless you are affected. ###### Things done - [X] Tested to work as expected. Please backport to 18.09.::There is no point in including commit hashes in warnings.::I'm open to better suggestions. I don't like being vague like ""some commit before 18.03"" (which was another option I could come up with) when I can just give the hash (I like doing `git show` on random hashes I see mentioned in random PRs and comments), but I won't argue against writing whatever else you want if that gets the message across.::",26934c35f2a194c3bc2aadf55bb859477aed15e9::
https://api.github.com/repos/NixOS/nixpkgs,46442,fix-castxml::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change This should fix the castxml build. Please backport to 18.09 (ZHF-18.09 #45961) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",1ab5ef664ef95a6df0ee7360577da58231a06b12::
https://api.github.com/repos/NixOS/nixpkgs,46441,fix-pythonPackages.mapnik::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change This fixes the mapnik build. Please backport to 18.09 (ZHF-18.09 #45961) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",9682933f75979526ff98b5b8c8bfe1a620e9b3a8::
https://api.github.com/repos/NixOS/nixpkgs,46440,fix-pythonPackages.libusb1::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: darwin::6.topic: python::,"###### Motivation for this change This should fix the darwin build. Please backport to 18.09 (ZHF-18.09 #45961) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",063aa389dfaa29b697acf2db72610324b1b6aa39::b633fc4fb4b3bbd44b4bbb1d29d3f3fa642991f5::
https://api.github.com/repos/NixOS/nixpkgs,46439,fix-pythonPackages.joblib::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::,"###### Motivation for this change This should fix the darwin build of joblib. Please backport to 18.09. (ZHF-darwin: #45961) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",472e3880f3b9f335978c5b3c265c979b99eaa8f4::
https://api.github.com/repos/NixOS/nixpkgs,46435,fix-pythonPackages.fiona::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: darwin::6.topic: python::,"###### Motivation for this change This fixes the darwin build of pythonPackages.fiona. Please backport to 18.09: #45961 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fc1f020e109082c6d568d1364f2f02de9ee11073::
https://api.github.com/repos/NixOS/nixpkgs,46417,18.03/firefox::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change This backports @taku0's firefox 62 update PR #46157 to 18.03. The many difference to the original branch is that. I did not end up upgrading to a compatible sqlite version (`0.23.0` IIRC) sine that introduced a bunch of failures (e.g. sqlalchemy started failing etc..). Instead the bundled sqlite version is being used. I did not want to introduce yet another mass-rebuild and a bunch of package bumps just because firefox gets bumped. 18.09 is already on it's way and this will hopefully be (one of) the last firefox upgrade we have on 18.03 :-) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fa7476120a83c1940db7a08340e8c6aee907007f::9b3fbade1ddf1d30398534b5cd4d8a49c1b0975f::7a1ccf2643fec01c4bac613463e0faf983d86d44::
https://api.github.com/repos/NixOS/nixpkgs,46404,pkgs/default-texinfo::staging,0,merged,10.rebuild-darwin: 501+::10.rebuild-linux: 501+::,"###### Motivation for this change I don't see any issues with building against `texinfo6` or in generated infopages. No more `texinfo5` on my system. ###### Things done - [X] Built the whole system on top of this revision. - [X] Writing from that system. No issues. Merge at will. I would also backport to 18.09, since this reduces common closure size somewhat because of the change to `git`.::",7705c76c49cf2958e56dc3293ea1fc5dd9aabfbf::53c9efe9e51fa7355a4a41c559f08d4b2cff496e::
https://api.github.com/repos/NixOS/nixpkgs,46367,lldpd_nixos_18.09_fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Backports a patch that will be included in later versions, no longer calling /bin/mkdir. Fixes #44507. - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Thats a clever pattern, but I guess it could lead to confusion. Won't the patch fail to apply on future versions anyways?::Please add a short comment describing what this patch is for and/or a name.::I don't know, is that to be expected? I don't have previous experience backporting patches. Seeing how it has been broken since #38718 five months ago without anyone noticing I figured something was needed. Nixos tests would be nice of course.::Since you've backported a patch that is already included upsteram (right?) the patch will fail to apply after the next update, since the relevant code is already changed. Thanks for your effort in fixing this :)::OK, good. I'll remove the extra cruft. Indeed this is from upstream and confirmed to be in the next release. https://github.com/vincentbernat/lldpd/commit/b0ca585f627aad476604a11bd356b842c664fb84 https://github.com/vincentbernat/lldpd/commit/90a50860ebdcdeb5b7dc85790b18bed23c97ec32::Great :) Don't forget to ping me once you've removed it as github doesn't always send notifications on code changes.::Pushed new commit, should be all good now.::",8a03ec0a32f1ef97a1290a0f0ad75e1f33f1fa46::
https://api.github.com/repos/NixOS/nixpkgs,46097,p/statsd-broken::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change It's broken with node v8 and the upstream project is dead (last commit Nov. 2016), see #45946 and https://github.com/etsy/statsd/issues/646, so mark it broken and disable the NixOS test. Alternatives considered (but decided against): - revert to node v6 ? Not worth the work and overhead for a dead project. - drop it completely: Not yet, because some other nixos modules seem to reference the term `statsd`, and we need time to figure out whether they actually  depend on our `statsd` package/module. Needs backporting ZHF #45960 closes #45946 --- cc @Ma27 ::",545c37cc19f55ec6211d2148d39c7a536217da2d::
https://api.github.com/repos/NixOS/nixpkgs,46095,gildas-build-fixes::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Fix build failures on Hydra (#45960). Please backport to 18.09 when merging. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3bc898035d7e4402ca9257b8e348545868433520::b76cf0b54c6d6108466a7ca67e4a952e6017bca7::
https://api.github.com/repos/NixOS/nixpkgs,46074,fix/artwork-gnome-dark::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"See: * https://github.com/NixOS/nixpkgs/commit/bc5b26b4ab6ddaf8e08acfa7d06a054ddac43358#commitcomment-30385181 cc @grahamc This will need a backport to 18.09 too. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> I have *only* verified the contents of `result` after a `nix-build` ``` ~/tmp/nixpkgs/nixpkgs $ ls -l result/share/artwork/gnome/ lrwxrwxrwx 1 root root 133 Dec 31  1969 result/share/artwork/gnome/Gnome_Dark.png -> /nix/store/gzy4psym7619fdjz11ywlllaxfjhzmdl-simple-dark-gray-2018-08-28/share/artwork/gnome/nix-wallpaper-simple-dark-gray_bottom.png lrwxrwxrwx 1 root root  85 Dec 31  1969 result/share/artwork/gnome/nix-wallpaper-simple-dark-gray_bottom.png -> /nix/store/qb82wpjaf3j6pswhk73rkcd43si2nb1w-nix-wallpaper-simple-dark-gray_bottom.png ``` It is as expected. The symlinks are fine. --- ::Not 100% confident in the cleanliness of this approach, but does work. Any alternatives?::I guess it is ok. Alterantives would be `overrideAttrs` or adding `runHook postInstall` in installPhase and inheriting `postInstall`.::",daa338c2fbb835748df1b85c4317938ce7f22e51::
https://api.github.com/repos/NixOS/nixpkgs,46059,deprecate-top-level-platform-aliases::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::8.has: port to stable::,"OK @dezgeg, I'm starting with these since these are the ones we agree on. I'll backport to 18.09 too, if you approve of this. ###### Motivation for this change I don't know when we can/should remove them, but this at least gets people to stop using them. The preferred alternatives also date back to 17.09 so writing forward-compatable code without extra conditions is easy. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e51f736076548459f36a1250de4bf6867f880b66::
https://api.github.com/repos/NixOS/nixpkgs,46058,dconf-dbus::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"Some programs like eog seem to need dconf accessible on dbus. Without this change I get ``` (eog:1738): dconf-WARNING **: 21:20:52.770: failed to commit changes to dconf: GDBus.Error:org.freedesktop.DBus.Error.ServiceUnknown: The name ca.desrt.dconf was not provided by any .service files ``` cc @lethalman @jtojnar as maintainers. If this seem sensible to you, could you backport this to 18.09 ? ###### Things done tested on nixos 18.09 beta, with xfce+i3. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) tested `tests.gnome3` and `tests.xfce`. - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",88ae8f7d55efa457c95187011eb410d097108445::
https://api.github.com/repos/NixOS/nixpkgs,46024,fix-45993::release-18.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: portability::6.topic: stdenv::,"###### Motivation for this change backport of #46023 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",06cd7c15a3f2d990316b8c685226d8155f0304cf::
https://api.github.com/repos/NixOS/nixpkgs,46014,gnss-sdr::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Fix build. See ZHF https://github.com/NixOS/nixpkgs/issues/45960 Please backport to 18.09. ###### Things done Fix boost version to 1.66. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a70863dd72bba940ce7f94016ff7bf7a64a5d4d8::
https://api.github.com/repos/NixOS/nixpkgs,46006,kodi-nfs-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Currently nfs support is broken in kodi on NixOS because libnfs is required to be in the LD_LIBRARY_PATH. see: https://www.reddit.com/r/NixOS/comments/9aiquo/how_to_enable_nfs_support_in_kodi/ ###### Motivation for this change Fix nfs support in kodi. I would suggest this is change is minor enough it could be backported to 18.09 as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",8d07b86996cd612e7e5b3ad38d2fbbfb1784653b::
https://api.github.com/repos/NixOS/nixpkgs,45974,purple-matrix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"This also fixes the build. ###### Motivation for this change The build was broken. This probably should be backported to 18.09. Should I open another PR for this ? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). I tested the plugin with pidgin, it works, except that icons seem to be ignored for some reason. ::",7de2b6240b005203e2015f110598ac4805cf24f8::
https://api.github.com/repos/NixOS/nixpkgs,45968,upgrade-gitea::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Changelog: https://github.com/go-gitea/gitea/releases/tag/v1.5.1 Since it's security related fixes in there this should be backported to stable as well since stable was updated to 1.5.0 already (due to security related fixes as well). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2cebdf8b786ec199573353c14bb230c9407d467c::
https://api.github.com/repos/NixOS/nixpkgs,45771,jira-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Standard package bump. Will also backport the various bumps since the last one to 18.03 with the next PR. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",7e6558ecb9de4b41f86f1f71b09ca3348a348849::aa40749f1ac8df397e052fe2ad9c082d8e781588::1c461d7eb7d27396a3a20e38d048546bf3f11379::
https://api.github.com/repos/NixOS/nixpkgs,45711,auto/dbeaver/nixos-18.03/5.1.6::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"(cherry picked from commit 452ce3915d0d4c8b803cba54888ac03250ec9ced) ###### Motivation for this change * [Updates dbeaver 5.1.6](https://dbeaver.io/2018/08/26/dbeaver-5-1-6/). This cherry-picks #45710 > **Note**: this is probably the last 18.03 backport of dbeaver, as 18.09 is right around the corner. This update from the upstream project apparently fixes issues with Linux, which is good for a last release > > > After all we have reverted to Eclipse 4.7 platform. There were too many bugs and problems with latest version. Especially with Linux platforms > ###### Things done - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - ✔️ Tested execution of all binary files (usually in `./result/bin/`) - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- > *As a side note, #34182 is still open and I will still gladly accept any help in figuring out how to build this using the source release.*::",3a06fa00a7ce643d0d9c0f86376ecb05456f4284::
https://api.github.com/repos/NixOS/nixpkgs,45644,update-rlp-1.0.2::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::2.status: work-in-progress::6.topic: python::8.has: clean-up::8.has: package (new)::,"###### Motivation for this change Updated and fixed RLP Python package. Some dependencies are added as separate commits. fixes https://github.com/NixOS/nixpkgs/issues/44224 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Maybe python 3 should be disabled here?::should be fine: https://github.com/minrk/backports.shutil_which/blob/master/backports/shutil_which.py#L75::Is this comment copy-and-pasted from python-u2flib-host?::I tried to build and the test phase raised that error. I tried to fix it but it has probably something to do with the test environment in nix. Not sure though.::For me this test works perfectly fine.::Homepage says this depends on tkinter. Btw, you should leave out the quotes.::`pythonOlder`::`pythonOlder`::I'd prefer using `pymsgbox`, also as dir name.::Yes, I can change the dir name. How about adding below that: ``` pymsgbox = PyMsgBox; ``` I've heard the package name should be equal to the name in PyPI, so that's why I thought it should be available at least as `PyMsgBox`.::I would also prefer if it matches. We should have a policy on that, so we do this consistently for python packages.::How about a policy to have both the PyPI name and a lowercase alias?::I've written this before several times. We prefer to use [normalized names](https://www.python.org/dev/peps/pep-0503/#normalized-names) throughout, because that matches well with the naming we use throughout Nixpkgs. The `pname` to `fetchPypi` however has to match to the filename used because PyPI does not translate that part of the url. If for `fetchPypi` the name cannot be normalized, then it may be more convenient to use the same one for `buildPython*`.::Upstream issue: https://github.com/pypa/warehouse/issues/2537::Ok. let's make this convention part of nixpkgs doc: https://github.com/NixOS/nixpkgs/pull/45822#issue-212224967::So I should rename `backports_shutil_which` to `backports-shutil-which`, right?::Yes::Fixed.::Is there a reason that these packages aren't in `propagatedBuildInputs`?::Why `buildInputs`?::I hadn't touched that part so I don't know. I checked `setup.py` here: https://github.com/romanz/trezor-agent/blob/master/setup.py#L17 It looks like they should be in `propagatedBuildInputs` and also there are some unnecessary dependencies. I'll fix those.::I just added my new dependencies where the others already were. Yes, it seems that it should be `propagatedBuildInputs`. I'll fix. Thanks.::",c44504410ba5a3bd76a99e7907533779c2b17694::541a13ca0ae42dbdea9369c585b51b23b5a660b3::9f8e6148c5da6101bd534c3d68549ab00946b441::f053daf36ceb956e19a78115e4abdf46058fec25::38e86a8f1e7d58ba494a83242ccd580e890741a6::5c9db2f02fba343bcc60fa0c8418495756f6ac1f::c9bf7f67b9ce3e62a40119f8fcb353c67b4268c2::80b64a2e049a9cb3b722de8520af4cfb08fef52a::d0ce8834ae3b47ed01482eecb93d1e5e38f7ee01::8d4afa5f2ef0fbdf042069ac71479bba1104bbc8::
https://api.github.com/repos/NixOS/nixpkgs,45322,rslsync-2.6.0::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Changelog: https://help.resilio.com/hc/en-us/articles/206216855-Sync-2-x-change-log ###### Motivation for this change New upstream version. The changelog also specifies a security fix, so this should probably be backported to nixos-18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6eb4d6fbd2003e0707ed0fc1ac637a5559742236::
https://api.github.com/repos/NixOS/nixpkgs,45208,18.03/gdm::release-18.03,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 11-100::6.topic: GNOME::,"###### Motivation for this change This backports the changes done in the 2.28 branch of gdm to address the issue. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",082265fd53a3dba429ddd6d0a7a44332f368171b::
https://api.github.com/repos/NixOS/nixpkgs,45199,mariadb::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::2.status: work-in-progress::6.topic: nixos::,"###### Motivation for this change mariadb: 10.2.16 -> 10.2.17 Bump to latest stable version of the 10.2.x branch. Besides many bug fixes the following security related issues have been fixed: - CVE-2018-3060 - CVE-2018-3064 - CVE-2018-3063 - CVE-2018-3058 - CVE-2018-3066 Also includes a test for mariadb based on the existing mysql test. This should be considered for backporting since the version in **18.03** has even more open issues... ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Are you sure this changes for the different tests?::Ups, I changed it :)::I suppose you don't know: ``` nix-repl> mysql.name ""mariadb-10.2.16"" ```::",3892256e7ff80f1c5e27730a78c53112b59c9de1::04df7df4e2816256487bc04892bf6336171162e9::
https://api.github.com/repos/NixOS/nixpkgs,45195,vulkan::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change Lockstep update of all vulkan packages. Subsumes #45124 and #45125. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Why change the source to this fork?::Upstream forked to backport an important bugfix. See https://github.com/KhronosGroup/Vulkan-ValidationLayers/issues/252 for details. The source will be reverted in the next update.::Is it just one commit?::Does it have to be `version = ""1.1.82.1"";` instead of `version = ""1.1.82.0"";`?::I could restrict the version change to -validation-layers; would that be preferable?::Looks that way. Are you thinking incorporating the patch nix-side would be better?::You can use the upstream url and `fetchpatch` then.::Keeping `version` and `rev` in sync looks less confusing to me.::",88621e05958a6e154bea4e9daf686bbe2ece525f::328cb60be55334694ce80c08c75a1ac8c8f4891b::556c27e457925e6b274c7ed8e0458420a5dcc280::c36382da724fdd8775b5184e170bf6c1cdbc17fe::b830df0ea951dec25e301caaafb98a398549698a::bf50cac00ebda4ccf79457fd8ed47c87a3dab38e::
https://api.github.com/repos/NixOS/nixpkgs,45087,staging-18.03/libxml2::staging-18.03,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::,"###### Motivation for this change backport of 06e7a48f458164ae012bc82337f7ef88579cafc8 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",bf3a54338697f2366ce0678d831a0b9c291e2404::
https://api.github.com/repos/NixOS/nixpkgs,45082,18.03/openssl_1_0_2p_1_1_0i::release-18.03,0,closed,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::,"###### Motivation for this change This is the backport of the stable updates to openssl 1.0.2p & 1.1.0i. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0353772874892ba5cd4cdd4f59b0f622d0798ad8::70328c5338bab773a6d94080bd53d1ab5116993a::2af3d8b964ae5d99a987074fe35a909ca009fb32::
https://api.github.com/repos/NixOS/nixpkgs,44818,jetbrains-update-2018.2.1::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Keeping jetbrains products up to date. Updates generated by update script. Only tested CLion as a representative example of no major breaking changes. These packages are sufficiently independent to backport to release-18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",52b9d0a3e84a129492a054701da2ebbf6ba85b92::a57a0296d703706420827e68f4b5d169f811ad74::9d942c73671c4fc9711607719f597d5cc59784ba::6c8bec9e13da24dac9618901cca416e60022f71f::db427ff1f533e2264c6fce6c1a444508231895db::d76c046b6f3a8ad533c184dfa77e910316353c04::23831c50bfa0bb018db9183004fd99715c85eabc::b1dc1f95b7a706885ae431f62fed208adbcd6e73::c08067b74dfcf36c6b9817c101a21496c6a37b9c::3513c5dc491d8aa9a24b3c8ee1d69410842b0735::
https://api.github.com/repos/NixOS/nixpkgs,44466,p/exiv2-cve::master,0,merged,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::,"- use upstream branch with backports - backport two fixes missing from it yet ###### Motivation for this change I wasn't aware of work #44464 and took a different approach.  I'm not too sure which is better, so let me open another PR at least for reference :-) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] negligible impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0274e724813e4f9ff7b3db9f3238b7ac757f4788::6a1148997a1d45dda455db83dfac7d57ab5aa357::
https://api.github.com/repos/NixOS/nixpkgs,44285,backports/pr-19738::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Fixes #39712 (cherry picked from commit a8f3b1ad752c6552245f42e7428319642d7ca627) ###### Motivation for this change * https://logs.nix.samueldr.com/nixos/2018-08-01#1533094570-1533094336; As discussed on IRC, there was a bungled up update to openmw, it was fixed in unstable, but not backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - ⬜ macOS - ⬜ other Linux distributions - ⬜ Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - ⬜ Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - ⬜ Tested execution of all binary files (usually in `./result/bin/`) - ⬜ Determined the impact on package closure size (by running `nix path-info -S` before and after) - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @dtzWill::",68d50dd3e47ca64d5f6d3099c3dd1f5202b5fd0f::
https://api.github.com/repos/NixOS/nixpkgs,44216,fix-python3-cheroot::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"###### Motivation for this change `python3.pkgs.backports_functools_lru_cache` is `null`, so we cannot require this for python3 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4c66f118a9e55e51937294bc845a31b091deafb2::
https://api.github.com/repos/NixOS/nixpkgs,44211,php71-update::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change Changelog: https://secure.php.net/ChangeLog-7.php#7.1.20 Needs backporting ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @globin ::",6e65384bbc76f41444414dda52e60cd9b973b190::
https://api.github.com/repos/NixOS/nixpkgs,44191,julia-cleanup::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: clean-up::,"###### Motivation for this change We have many versions of julia that no longer receive upstream updates. julia 0.4 was also marked as broken start of this year. As a result we cannot update libraries that break compatibility (https://github.com/NixOS/nixpkgs/pull/44137) Also julia-git was removed since it was not updated in two years and older then current stable version.::Is there a reason the name `julia_06` was removed?  I have witnessed this oscillate over time and it is frustrating that these names come and go, especially since each minor version of julia before 1.0 is not backwards compatible with others.  At the moment, as of c745ed1f7c5398848c0361e75be3c2d82aaab95b, there is `julia` (which is really julia 0.6), `julia_07`, and `julia_10`, but no way of specifying julia 0.6 explicitly.::As an aside, I am a pretty serious user (and also a developer of) julia, but only a casual user/developer of nixpkgs.  If having my perspective on julia-related pull requests here in the future would be helpful, feel free to add me to the maintainers list.  (I'm guessing this is the most reliable way to be CCed on any related changes, which would allow me to make comments before things are merged.)::I agree on both counts.::Julia 0.6 was not removed only julia_04 and julia_05.::However I should have kept `julia_06` as an alias. Because now `julia = julia_06`.::This is already fixed: 0e4197b34bf5dd877817165fedcb9401f019d656::I backported this as well: [detached HEAD 4a62ef08009] julia: readd julia_06 name, make julia an alias that selects a version, as we usually do for incompatible versions Author: Michael Raskin <7c6f434c@mail.ru> Date: Fri Sep 7 11:36:20 2018 +0300 1 file changed, 3 insertions(+), 1 deletion(-)::I would appreciate if we have active julia maintainer. Then I would feel more comfortable to have multiple versions of julia in nixpkgs. At the time of doing this pull request I had the feeling that no take care of removing old versions, that's why I wanted to shift to having a single version only.::",4b5a809e6ea949480758efd72604ea06b15468c8::9bc989b2df1c1883647ea11643c1a238fac85ed0::8c705beab7c06927c860c49cfefcdb862afbba42::
https://api.github.com/repos/NixOS/nixpkgs,44043,vscode-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Tested on NixOS. Should fix the problem described in #40595.::Does this need a backport?::It seems that way, the error occurs also with 1.23.0 and disappears after this change. I made another PR against the release branch, #44055.::",6bf5dfc874728545ac4c874fe880a11dbaa5145a::
https://api.github.com/repos/NixOS/nixpkgs,43997,gitea-1.4.3::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::9.needs: port to stable::,"###### Motivation for this change New version. Includes security bugfixes (might be worth backporting to stable) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",cfe26c3a7de6a6d9c3e46e919ce44ddb9229d39f::
https://api.github.com/repos/NixOS/nixpkgs,43889,synapse-0.33.0-backport::release-18.03,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Backport of https://github.com/NixOS/nixpkgs/pull/43888. As v0.31.2 appears to no longer be able to receive messages from matrix.org, I guess this is important enough a problem to deserve a backport to release-18.03. However… I don't know what the problem was about, and upstream didn't appear to have any clue about it either, apart from “try upgrading”. That said, it may break setups, so maybe stability for non-federated setups is more important than being able to talk with :matrix.org? I'll let you, the reader, decide :stuck_out_tongue_closed_eyes: Tested on my otherwise-18.03-running HS. cc @Ralith @roblabla ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fe1fa933d168faec56767a9bd1daa0d47070bdf0::
https://api.github.com/repos/NixOS/nixpkgs,43805,netboot-channel::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change Enabling placing netboot files in channels so we can add https://netboot.xyz support. See also antonym/netboot.xyz#37 Would be nice to backport to 18.03, not sure if that's ok? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",08c04e0c9ec49897ab9ed6c442ead687877ef6fe::
https://api.github.com/repos/NixOS/nixpkgs,43559,feature/mingw-fixes::master,0,closed,10.rebuild-darwin: 501+::10.rebuild-linux: 501+::6.topic: haskell::,"###### Motivation for this change Allow cross compiling haskell programs to windows using mingw ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::This seems weird. Is this a windows things?::This is definitely a good change! This really confused me with cross-built always pulling in GMP but not ever using it (on android at least).::(might be worth backporting too)::What is the purpose of this change?::Dito. Why are you changing this?::Ẁhy?::This `coreutils` for the build platform, not host platform, so why disable it?::Yes agreed heartily with both. Great change and please back-port!::This can just be ```nix stdenv.lib.optional (!enableIntegerSimple) [ ""--with-gmp-includes=${targetPackages.gmp.dev}/include"" ""--with-gmp-libraries=${targetPackages.gmp.out}/lib"" ] ``` `targetPackages` = `pkgs` on native.::This and the following is @angerman's change to avoid making cc-wrapper and ld-wrapper inject flags. But please don't do this as part of this PR; even if we end up going this route it should be done separately. ::This ends up trying to build `coreutils` for `mingw32` when cross compiling `gcc`. And `coreutils` can't be built on `mingw32`.::",092369cd6672e11e7a1f78b286264da8d3763fe2::36f4832ab5a5782af0aa6c36e7188954339f2182::e699a26e7c65f5ae1f04950db41b4c9aefad63e1::3192a9eccc7af2c52cf367d93da987134edf934e::a8a7c55b99518b3fdb5e1c170a0c37fdbf271b0c::3e4cd7f6812a3a93ba7894811305e1293a716ba1::a7f208fc124ff718335a32fb586daecfbac0f7c8::8ffb78ab7c6f21ff0bf74dfbbe5031a3fd29ad7c::
https://api.github.com/repos/NixOS/nixpkgs,43281,sage-8.3::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::11.by: package-maintainer::2.status: wait-for-upstream::2.status: work-in-progress::6.topic: python::8.has: documentation::8.has: package (update)::,"###### Motivation for this change The first release candidate for 8.3 is out. It will probably still be some time until the proper release. Its easier to keep track on upstream changes by maintaining an unstable sage version. Since working in the open is always better and maybe somebody cares or wants to test/use it, I'm opening this WIP PR for it. If somebody thinks this shouldn't be a PR, feel free to close it. Notes: - the openblas fix is cherry-picked from #43234 -  the ipython patch will hopefully be in the latest upstream release by the time sage 8.3 is released Known issues: - transient test failure in `hyperelliptic_finite_field.py` https://groups.google.com/d/msg/sage-release/zSCoOwWazww/CtQqMXprBgAJ ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Why? Please add a comment.::Why? Please add a comment.::Thats the openblas backport I mentioned in the PR description, #43234 ::Because sage applied that patch and relies on it. As I said in the PR description, I'm guessing/hoping there will be a new ipython release before the final sage 8.3. So that patch will likely never make it into nixpkgs master.::Also see https://groups.google.com/forum/#!topic/sage-packaging/rUYd5M5tPTM::",86f058c8427da6a563b799aecf6c4cccdd395278::840b64fdb8e7298734396aa0a27468b021433efa::289173366b231d26b3c04674b26373a1d88f67f7::e82c26af9b79af018b12efcbc0713d8197579383::fa34f6d41c42d9e199e61aff55ddb0c5056be7fc::e550e5d0c7455a76acacddd8ef284aa41d02effc::834a24e0ff8c18b773879b79c1c5e30f518a79b0::
https://api.github.com/repos/NixOS/nixpkgs,43235,backport/kernel-4.17::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 501+::8.has: clean-up::8.has: package (new)::,"###### Motivation for this change `linuxPackages_latest` [was (understandably) downgraded from 4.16 to 4.14, since the 4.16 series isn't supported anymore](https://github.com/NixOS/nixpkgs/commit/298e170b36b79f4c6b19816a7abbf8392a490840). The commit message was: > It would be nice to have 4.17, but ATM it won't build; > some changes in the (shared) kernel config would be needed. Here I have backported with cherry-picked conflict-resolved the relevant commits to make 4.17 build for 18.03, and the relevant updates. Do tell if keeping the whole commit history cherry-picked is too much. ###### Testing done I am currently dogfooding the use of 4.17 on 18.03 with this branch on my machine. I don't know of NixOS tests that test `linuxPackages_latest`. I don't know either if one of tests can be used to test another kernel. I have not tested most packages depending on the kernel, except the default settings [+ VirtualBox](https://github.com/NixOS/nixpkgs/pull/43237). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - 🆖 macOS - ❌ other Linux distributions - ❓ Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - ❌ Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - 🆖 Tested execution of all binary files (usually in `./result/bin/`) - ✔️ Determined the impact on package closure size (by running `nix path-info -S` before and after) **new package, closure sizes goes from 0 to 66304848**. - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",1069e32c4a3a34d8317bd75f6ba7635ecd72175b::fe727a9b957cbdfe1c381b9ac76ee2b1be6f8efd::97bf84506780e8a8a1564bc682d7a75564132a8a::1aa59c4eaccf22f604b24d4b27a7a860ace214b0::01c9da0ebb5517114b7c6b1d1ececf9bd2518a5d::3f72b1487d557e6f7adabc712948814c3c520d5e::7e650248b618b0bae38759ed577a98c4bdd34f90::
https://api.github.com/repos/NixOS/nixpkgs,43125,fix-network-lo-alias::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"With a config like { networking.interfaces.""lo"".ip4 = [ { address = ""10.8.8.8""; prefixLength = 32; } ]; } a nixos-rebuild switch would take a long time, and you'd see: $ systemctl list-jobs JOB UNIT                                TYPE  STATE 734400 network-interfaces.target           start waiting 734450 sys-subsystem-net-devices-lo.device start running 734449 network-link-lo.service             start waiting and: systemd[1]: sys-subsystem-net-devices-lo.device: Job sys-subsystem-net-devices-lo.device/star> systemd[1]: sys-subsystem-net-devices-lo.device: Job sys-subsystem-net-devices-lo.device/star> systemd[1]: Timed out waiting for device sys-subsystem-net-devices-lo.device. This removes the device dependency for `lo` and fixes this bug. Closes #7227 cc @Mic92 @copumpkin @dhess This should be backported to 18.03.::",48d292e8a14bec3926dc3963e167859b35fc60af::
https://api.github.com/repos/NixOS/nixpkgs,43125,fix-network-lo-alias::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"With a config like { networking.interfaces.""lo"".ip4 = [ { address = ""10.8.8.8""; prefixLength = 32; } ]; } a nixos-rebuild switch would take a long time, and you'd see: $ systemctl list-jobs JOB UNIT                                TYPE  STATE 734400 network-interfaces.target           start waiting 734450 sys-subsystem-net-devices-lo.device start running 734449 network-link-lo.service             start waiting and: systemd[1]: sys-subsystem-net-devices-lo.device: Job sys-subsystem-net-devices-lo.device/star> systemd[1]: sys-subsystem-net-devices-lo.device: Job sys-subsystem-net-devices-lo.device/star> systemd[1]: Timed out waiting for device sys-subsystem-net-devices-lo.device. This removes the device dependency for `lo` and fixes this bug. Closes #7227 cc @Mic92 @copumpkin @dhess This should be backported to 18.03.::",48d292e8a14bec3926dc3963e167859b35fc60af::
https://api.github.com/repos/NixOS/nixpkgs,42787,blacklist-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"That commit did not actually accomplish its intent because it misspelled the module name. I did not verify that this fixes any real issue but I am sending this fix after noticing the mistake incidentally. I have verified that after this fix `/etc/modprobe.d/ubuntu.conf` does not have that blacklist line while it did before. Should probably be backported to 18.03. ###### Motivation for this change Typo in module name. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0ed43b564344381bc9f508f7557b05087c807d71::
https://api.github.com/repos/NixOS/nixpkgs,42748,neo4j-service::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change The nixos/neo4j service module was around a year out of date, and incompatible with recent releases of the neo4j package. This change updates the module into working order and adds a number of other useful options to the module. Some points: - Testing of most options was performed manually. - ~~Testing the building of doc strings still needs to occur, as xsltproc kept segfaulting during my attempts.~~ [Performed] - ~~Options of the previous module version are not really compatible with how the server configs now, thus decided to remove existing renamed option, and not add any more.~~ [Additions made to rename.nix] - ~~Not sure if adding 8 `mkRemovedOptionModule` for the older options makes sense.~~ [Additions made to rename.nix] - ~~Maybe backport to 18.03 along with the neo4j package.~~ [Informed this doesn't occur] Cheers ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Isn't this condition always true?::To get the docs rendered as intended, these spaces need to have a ``` </para> <para> ``` Also applies to the other options where this is used.::All these should be replaced with the dedicated `<option>someOption</option>` xml annotation (in all options).::I think there's `<command></command>` for that::I think it would be better to just use `types.nullOr`, `null` signifying all available processors. Also why is this number limited to exactly 44738?::I think this module is a good candidate to convert to a semantic config thing, similar to how I did it in #41467. The idea is to represent the full config as a Nix value, so something like ```nix services.neo4j.config = { dbms.jvm.additional = [ ""-XX:+UseG1GC"" ... ]; dbms.shell.enabled = true } ``` Then use a function to convert this to a neo4j readable config file. The advantages are: - Users can easily override whatever they want instead of being bounded to the given config file - The config gets a free syntax check - More modular via NixOS module system, merging of values - This module gets cleaner, less stringy I'll gladly help with getting this to work It's not necessary, but I'm very much in favor of doing this.::This `__policyname__` replacement business isn't really necessary, because in the end you're gonna have the name at the definition anyways: ```nix services.neo4j.policies.foo = { trustedDir = ""/some/foo""; } ``` I'll comment below how you can use the policy name in the options default value without having to use this replacement. ::To get rid of the `__policyname__` thing, use `type = with types; attrsOf (submodule ({ name, ... }: {` in line 354, and add a section here like this: ```nix config = { trustedDir = mkDefault ""${cfg.directories.certificates}/${name}/trusted""; ... } ``` And remove the defaults declared in the options.::This is the valid range of values for the option as described by the [configuration setting](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_dbms.threads.worker_count). I chose an enum to make it easy to understand what the actual Neo4j config setting defaults to. Using `nullOr` with mention of what the `null` means in the docstring works too, I just thought using the enum would be a more direct way of saying so.::Looks like it. This check is in the existing module, and I hadn't looked closely at it, apart from updating the directory ref.::I figured there was a way but couldn't pinpoint it..::> I think this module is a good candidate to convert to a semantic config thing For the entire module or just the `extraServerConfig` option?::Or even: Use the integer 0 to represent all available ones. Nix does the same with the `--cores` argument / `nix.buildCores` option.::The entire config file, instead of using giant strings to declare the config, you'd use nix values. See [this](https://github.com/Infinisil/nixpkgs/blob/c9ee4f9136dafb767837505edb7491d56c1c0e65/nixos/modules/services/networking/znc/opts.nix#L227-L253) as an example of how assigning default values would look like.::The Nix manual wraps all `description` fields with a `<para></para>` already, so you can (and have to) remove the first `<para>` and the last `</para>` to make it work. Use `nix-build nixos/release.nix -A manual.x86_64-linux` to check that the manual builds. It also produces `result/share/doc/nixos/options.html` you can view in a browser to see what the rendered description looks like.::Currently, when the user sets `baseDirectory` of some policy, the `revokedDir` still uses the ""old"" default base directory (`""${cfg.directories.certificates}/${name}""`). To have it use the policies `baseDirectory`, you can add `config` to the submodules arguments (next to `name`), and use `default = ""${config.baseDirectory}/revoked""` Same for `trustedDirs`::Nitpick: space missing::What allowed values are there for this? Is it just `""legacy""` and the ones defined in the `policies` option? If so, you could add an assertion that checks this (can't use `types.enum`, because it depends on the users config), something like the following in this modules `config` section: ```nix let policies = [""legacy""] ++ map (p: p.name) cfg.policies; in ... assertions = [{ assertion = elem cfg.bolt.sslPolicy policies; message = ""Invalid `services.neo4j.bolt.sslPolicy`, valid ones are: ...""; }] ``` Although, this might not work 100% reliably because of the `extraConfig` option (since if policies can be declared there, this module won't know about them). The same for the other options that use policies.::Nixpick: `enable` should be the topmost option. (sidenote: The manual also uses this special ordering rule when building the manual, so you'll always find `enable` options at the top) Also, you could use `mkEnableOption ""Neo4j Community Edition""`::Added a few assertions.::You could remove those parens because function application has a higher precedence than the `!` operator I didn't think of this assertion, very nice :o There's a nice list of all precedences in the wiki: https://nixos.wiki/wiki/Nix_Expression_Language#Operators :)::This needs to be adjusted to the options for the certificate, data, import and plugins paths. Probably just not creating those when they're not the default values. A neat way of knowing whether the default value is used (without having to do string comparison) is to add `options` to the argument list at the top, then checking `options.services.neo4j.directories.certificates.highestPrio >= 1500`. This value `1500` comes from https://github.com/NixOS/nixpkgs/blob/f682ff93a2778f101d93b68c97278f902523758a/lib/modules.nix#L496 which is used for the `default` attribute in option declarations. A filter for that over `builtins.attrValues options.services.neo4j.directories` should then get you a list of directories to create. (use `.value` to get the value of an option, `config.some.option == options.some.option.value`)::Shouldn't this be the policies directory? Also, you can use the same `highestPrio` thing here to not have to even do this string comparison.::I think it would be better to remove all `toString` functions from all those directories. How it is now would make `certificates = ./path/to/certs` behave as if you specified `""/absolute/path/to/certs""`, but what one would expect (just from what all other modules do) is that ./path/to/certs gets imported into the store and result in `""/nix/store/<hash>-certs""`. `toString` can still be applied from the user if it's what they need like this.::> you can use the same `highestPrio` thing here How does one access an attribute within the policy without knowing its name? `options.services.neo4j.ssl.policies.?.baseDirectory.highestPrio`::filter `builtins.attrValues options.services.neo4j.ssl.policies` based on `(opt: opt.baseDirectory.highestPrio < 1500)`, then an `if` on whether there are any results at all, then a `concatMapStringsSep "" ""` over `(opt: opt.baseDirectory.value)`.::@Infinisil  I'm not understanding something about the list of option values as generated here. ``` while evaluating anonymous function at /home/pattern/repos/nixpkgs/nixos/modules/services/databases/neo4j.nix:570:49, called from undefined position: value is a list while a set was expected, at /home/pattern/repos/nixpkgs/nixos/modules/services/databases/neo4j.nix:570:54 ``` I thought `builtins.attrValues options.services.neo4j.directories` would return a list of the sets defined in `options.services.neo4j.directories` I think I'm on the right path, but am stuck.::Ah I got it, this is a fix: ```diff diff --git a/nixos/modules/services/databases/neo4j.nix b/nixos/modules/services/databases/neo4j.nix index bdf6f44dd1d..50c386ce9b6 100644 --- a/nixos/modules/services/databases/neo4j.nix +++ b/nixos/modules/services/databases/neo4j.nix @@ -567,11 +567,11 @@ in { validPolicyNameList = [""legacy""] ++ policyNameList; validPolicyNameString = concatStringsSep "", "" validPolicyNameList; -      defaultDirectoriesList = builtins.filter (dir: dir.highestPrio >= 1500) (builtins.attrValues options.services.neo4j.directories); +      defaultDirectoriesList = builtins.filter (dir: isOption dir && dir.highestPrio >= 1500) (builtins.attrValues options.services.neo4j.directories); certDirIsDefault = options.services.neo4j.directories.certificates.highestPrio >= 1500; defaultPoliciesList = if !certDirIsDefault then [] -        else builtins.filter (pol: pol.baseDirectory.highestPrio >= 1500) (builtins.attrValues options.services.neo4j.ssl.policies); +        else builtins.filter (pol: isOption pol && pol.baseDirectory.highestPrio >= 1500) (builtins.attrValues options.services.neo4j.ssl.policies); in mkIf cfg.enable { ``` The reason for this is that `options.services.neo4j.directories` actually also includes a value for `_definedNames`, which is a list used by the module system probably, only just now realized this, sorry! The fix just makes sure that all values are options via `isOption`. ::Admittedly this is a bit ugly, but imo that's better than the alternative (explicitly repeating code for all 5 directories)::@Infinisil `highestPrio` doesn't seem to exist on these sets. ```nix defaultDirectoriesList = builtins.filter ( dir: (builtins.trace dir dir).highestPrio >= 1500 ) (builtins.filter (dir: isOption dir) (builtins.attrValues options.services.neo4j.directories)); ``` ``` trace: { _type = ""option""; declarations = <CODE>; default = <CODE>; definitions = <CODE>; description = ""Directory for storing ...""; files = <CODE>; isDefined = <CODE>; loc = <CODE>; options = <CODE>; type = <CODE>; value = <CODE>; } ... attribute 'highestPrio' missing, at /home/pattern/repos/nixpkgs/nixos/modules/services/databases/neo4j.nix:574:14 ```::Cannot reproduce: https://gist.github.com/8f954a39abcdf0f9e4903057134a6f69 I'm using the latest commit from here::@Infinisil This appears to be due to my building against a branch made from my local nixos-version (18.03 stable). Looks like these commits made re: highestPrio 4017fdcafdd4a1a2063b74bc46c744c85ffcc22e and 441796cb16e0b97c0ddcf947c6c90d86c1118b3f are found in nixos-unstable, but not 18.03. I will work to build agains unstable instead. I suppose this technique would then not be compatible for backport to 18.03?::Updates won't get backported anyways.::@Infinisil > filter `builtins.attrValues options.services.neo4j.ssl.policies` based on `(opt: opt.baseDirectory.highestPrio < 1500)` This doesn't work because `options.services.neo4j.ssl.policies` is an option itself, and the `attrValues` of `options.services.neo4j.ssl.policies` are not options as you expected. A trace of the `attrNames` is: ``` [ ""_type"" ""declarations"" ""default"" ""definitions"" ""description"" ""files"" ""highestPrio"" ""isDefined"" ""loc"" ""options"" ""type"" ""value"" ] ``` The `options` attribute of this set sounded promising, but alas is empty. I attempted to access options of a specific defined policy by first collecting the policy names, which also fails, i.e. `options.services.neo4j.ssl.policies.""name""` results is `attribute 'name' missing`, even when the 'name' policy is defined. The current push incorrectly uses the `definitions` attribute, with the assumption that any option not defined therein must still be at its default. _Incorrectly_ in that it doesn't merge all attrsets in `definitions` before checking for this assumption (_naively chooses the first definition attrset_). Of course it's Nixos' job to merge these definitions, but I still cannot figure out how/where to access a policy's option attrset.::An incorrect naive solution. To be replaced.::There's `concatMapStringsSep` :)::The outer pair of parens can be removed::",d9d920049679d10b9ea1565442c769f390f556f5::
https://api.github.com/repos/NixOS/nixpkgs,42562,gdk-pixbuf-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"Fixes issue #33231 and makes it possible to enable Plasma and KDE at the same time. Previously, this worked like this: - The gdk-pixbuf package comes with a cache file covering the modules bundled with gdk-pixbuf. - The librsvg package comes with a cache covering modules from gdk-pixbuf as well as librsvg. - plasma5 and xfce modules set the environment variable GDK_PIXBUF_MODULE_FILE to the one from librsvg, so that SVG was supported in addition to the formats supported by gdk-pixbuf. However if both were enabled a configuration conflict would result (despite setting to the same value). While this sort of worked (ignoring the conflict which perhaps could be hacked around), it is unscalable and a hack, as there would be a real problem when one wanted to add a third package that supports additional image formats. A new NixOS module (gdk-pixbuf) is added with a configuration option (modulePackages) that other modules use to request specific packages to be included in the loaders cache. When any package is present in the list, the module generates a system-wide loaders cache which includes the requested packages (and always gdk-pixbuf itself), and sets the environment variable GDK_PIXBUF_MODULE_FILE to point to the generated cache file. The plasma5 and xfce modules are updated to add librsvg to modulePackages instead of setting GDK_PIXBUF_MODULE_FILE. Note that many packages create wrappers that set GDK_PIXBUF_MODULE_FILE, some directly to the one from librsvg. Therefore this change does not change the existing hack in the librsvg package which ensures that file is generated. This change aims only to solve the conflict in the global environent variable configuration. ###### Motivation for this change Could not enable XFCE and Plasma at the same time. I confirm that with this change, I can enable both and then use Thunar from a Plasma session. I also confirm that the GDK_PIXBUF_MODULE_FILE enavironment variable is set correctly to the generated cache file and that the latter appears to be correct, listing image formats from both xdg-pixbuf modules and SVG from librsvg. I suggest that this also be backported to 18.03 because the inability to use XFCE apps in KDE is pretty annoying and a regression from 17.09. Note that XFCE apps do not work in KDE correctly when the XFCE desktop is not enabled. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Replace the path with `$package/${gdk_pixbuf.moduleDir}`::Possibly add a warning when the loaders directory does not exist.::",d9fa88dfe86b4a884f64ccb785077020a21793e8::
https://api.github.com/repos/NixOS/nixpkgs,42558,php-update::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change Changelog: https://secure.php.net/ChangeLog-7.php#7.1.19 Since it's a PHP minor version I'd say it's worth backporting this change to stable channel. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Determined the impact on package closure size (by running `nix path-info -S` before and after) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",910cb27384b8c26a77f668dde237916ee535077a::
https://api.github.com/repos/NixOS/nixpkgs,42314,clementine-gst-plugins::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"when the build was refactored in ef5e212d, this was lost.  a4ba8c65 got most of it back, but missed the addition of gst_plugins to buildInputs. fixes #39960 cc @Ma27 @peterhoeg I don't claim to really understand what's going on in the setup-hooks that makes this necessary, I'm just glad the comment was there in the parent of ef5e212d :) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::shouldn't this be in the `buildInputs` array defined in the `let` block? Now `gst_plugins` is only used in the free derivation, but not in the unfree one::No, the unfree derivation only builds the spotify blob, it doesn't rebuild the entire app.  See [line 109](https://github.com/NixOS/nixpkgs/pull/42314/files/6fcee4e1dde50336a7f1874dc63ec8e52b6254d9#diff-89f3ebf76e2a92d9e25c73c53cc06b55R109). I've confirmed that this fixes the issue in `clementineUnfree` as well.::I mean ... it wouldn't *hurt* to put it up there, I guess.  Maybe that's simpler?  But I don't think it's necessary for correctness.::Any good reason why this PR has stalled?::@Ma27 if you want me to amend my approach as you suggest, just LMK; easy to do.::> Any good reason why this PR has stalled? I guess that's my fault, I absolutely forgot about my comment which was likely the cause, sorry! > if you want me to amend my approach as you suggest, just LMK; easy to do. let me build the change locally and see if I this fixes the issue and report back. If so, I'd simply merge (and backport as this seems to affect 18.09 as well) your change :)::",6fcee4e1dde50336a7f1874dc63ec8e52b6254d9::
https://api.github.com/repos/NixOS/nixpkgs,42187,jdk-without-gnome::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 101-500::,"###### Motivation for this change This OpenJDK packaging has a headless build configuration controlled by the `minimal` flag, which is regularly build-tested by Hydra, and a non-headless configuration based on pure Xlib libraries without Gnome features, which is not normally tested. Sometime before OpenJDK 8, the !enableGnome2 case broke, because it needs to link against libXrandr but that wasn't included in the buildInputs. It might be nice to add packages with this flag set to `all-packages.nix` so Hydra tests this configuration regularly. This would be analogous to `jre_headless` and similar, but I couldn't decide what the best package name would be (`jre_gnomeless`?) so I haven't written such a patch. I also wasn't sure if it would be desirable since obviously most people aren't using this package with the Gnome support turned off, so it's kind of a waste of CI compute time... If this patch is backported to NixOS 18.03 or earlier, the same fix needs to be applied to OpenJDK 9. I tested `openjdk9.override { enableGnome2 = false; }` with an application I care about on NixOS 18.03 using `.overrideAttrs` to patch the buildInputs. I tested `openjdk10` the same way against Nixpkgs commit 44f3a1dd41bc6ec78d827bb2aa5997a4cb67be70. Before submitting this pull request, I ran: ```sh nix-build --expr \ '(import ./. {}).openjdk10.override { enableGnome2 = false; }' \ '(import ./. {}).openjdk8.override { enableGnome2 = false; }' ``` and tested `result/bin/java -version` and `result-2/bin/java -version`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f1c3a610b2404bf00e9a2ff86b63001b781d816b::
https://api.github.com/repos/NixOS/nixpkgs,42153,opensmtpd-changeable-package::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change With the recent dovecot-OpenSMTPD breakage it'd have been nice to have this. I wonder whether this should be backported. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",bb08686f1e3c274979f842e8d405e381b1e41658::
https://api.github.com/repos/NixOS/nixpkgs,42140,18.03/pass::release-18.03,0,merged,,"###### Motivation for this change This addresses some issues regarding CVE-2018-12356. There is a annoucement for that version on the password-store ML [1] which goes into details. This is more or less a backport of #42049 which couldn't be cherry-picked due to larger changes in the pass expression. [1] https://lists.zx2c4.com/pipermail/password-store/2018-June/003308.html ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3e4f183e747541495db0a473743fcd5e3c195e7c::
https://api.github.com/repos/NixOS/nixpkgs,42071,ktorrent-qt-5.11::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change KTorrent fails to build with Qt 5.11 because of missing includes: ``` [ 90%] Building CXX object ktorrent/CMakeFiles/ktorrent_app.dir/dialogs/pastedialog.cpp.o /build/ktorrent-5.1.0/ktorrent/groups/groupviewmodel.cpp: In member function 'void kt::GroupViewModel::groupRemoved(kt::Group*)': /build/ktorrent-5.1.0/ktorrent/groups/groupviewmodel.cpp:186:21: warning: variable 'idx' set but not used [-Wunused-but-set-variable] QModelIndex idx = findGroup(g).parent(); ^~~ /build/ktorrent-5.1.0/ktorrent/groups/groupview.cpp: In constructor 'kt::GroupView::GroupView(kt::GroupManager*, kt::View*, kt::Core*, kt::GUI*, QWidget*)': /build/ktorrent-5.1.0/ktorrent/groups/groupview.cpp:63:17: error: invalid use of incomplete type 'class QHeaderView' header()->hide(); ^~ In file included from /nix/store/ni5sy11fvw9yj5i8bihbvxprm2cy6d3q-qtbase-5.11.0-dev/include/QtWidgets/qtreewidget.h:44:0, from /nix/store/ni5sy11fvw9yj5i8bihbvxprm2cy6d3q-qtbase-5.11.0-dev/include/QtWidgets/QTreeWidget:1, from /build/ktorrent-5.1.0/ktorrent/groups/groupview.h:24, from /build/ktorrent-5.1.0/ktorrent/groups/groupview.cpp:21: /nix/store/ni5sy11fvw9yj5i8bihbvxprm2cy6d3q-qtbase-5.11.0-dev/include/QtWidgets/qtreeview.h:53:7: note: forward declaration of 'class QHeaderView' class QHeaderView; ^~~~~~~~~~~ /build/ktorrent-5.1.0/ktorrent/groups/groupview.cpp:63:19: error: invalid use of incomplete type 'class QHeaderView' header()->hide(); ^~~~ In file included from /nix/store/ni5sy11fvw9yj5i8bihbvxprm2cy6d3q-qtbase-5.11.0-dev/include/QtWidgets/qtreewidget.h:44:0, from /nix/store/ni5sy11fvw9yj5i8bihbvxprm2cy6d3q-qtbase-5.11.0-dev/include/QtWidgets/QTreeWidget:1, from /build/ktorrent-5.1.0/ktorrent/groups/groupview.h:24, from /build/ktorrent-5.1.0/ktorrent/groups/groupview.cpp:21: /nix/store/ni5sy11fvw9yj5i8bihbvxprm2cy6d3q-qtbase-5.11.0-dev/include/QtWidgets/qtreeview.h:53:7: note: forward declaration of 'class QHeaderView' class QHeaderView; ^~~~~~~~~~~ make[2]: *** [ktorrent/CMakeFiles/ktorrent_app.dir/build.make:328: ktorrent/CMakeFiles/ktorrent_app.dir/groups/groupview.cpp.o] Error 1 make[2]: *** Waiting for unfinished jobs.... make[1]: *** [CMakeFiles/Makefile2:2011: ktorrent/CMakeFiles/ktorrent_app.dir/all] Error 2 make: *** [Makefile:141: all] Error 2 builder for '/nix/store/v1n3hzqmcaxbljmrg6d8c6ilqf4lzxfh-ktorrent-5.1.0.drv' failed with exit code 2 error: build of '/nix/store/v1n3hzqmcaxbljmrg6d8c6ilqf4lzxfh-ktorrent-5.1.0.drv' failed ``` This PR backports a fix from upstream. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",42e1a217932e25a5c27ebbe2265a41cbbed0f2a9::
https://api.github.com/repos/NixOS/nixpkgs,42027,synapse_0.31.2::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change https://matrix.org/blog/2018/06/14/security-update-synapse-0-31-2/ I will open a separate PR for 18.03 backport in a moment. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",02b990d07f63cf6eb72c473507c9ca3663ed4ff3::
https://api.github.com/repos/NixOS/nixpkgs,41954,jrg/hplip_fixes_rebased::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: python::,"Also fixes multiples issues: -  broken plugins: -  `fax_marvell.so file is not present or symbolic link is missing` -  `lj.so library file doesn't have user/group execute permission.` -  `bb_escl.so file is not present or symbolic link is missing` -  multiple error during configuration phase which prevented `*.ppd` generation: -  `ppdc: Unable to find include file ""<font.defs>""` -  patched configure time `perl` script -  patched use of `file` -  some potentially problematic filter and services: -  patched reference to ghost script and fonts dir in filter. -  patched usb configuration service. -  patch scripts so that they refer to valid location. Add some options: -  `withStaticPPDInstall`: Install `*.ppd` files along with `*.drv`. When true, configure outputs: `checking for cups ppd install... yes`. ###### Motivation for this change Impossible to use my ""HP LaserJet 400 colorMFP M475dw"" from nixos. Worked fine on Ubuntu. Improve hp printer support on nixos in general. Latest version allows for qt5 `hp-diagnose_plugin -g`. Was only possible in previous version with qt4. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Tested succesfully multiple executables: -  `hp-diagnose_plugin -g` -  `hp-diagnose_queues -g` -  `hp-setup` --- Might be a good thing to backport to stable.::",4ca2daae8f21834424f5d4055c85dbcf5765fc1d::
https://api.github.com/repos/NixOS/nixpkgs,41944,ktorrent-cmake-3.11::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change KTorrent 5.1.0 fails to build with CMake 3.11. This PR backports a fix from upstream. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::incorrect hash sum: ``` fixed-output derivation produced path '/nix/store/dn9w2hdcwcihwdj62ymwprxfn0nq73li-?id=672c5076de7e3a526d9bdbb484a69e9386bc49f8' with sha256 hash '1cn4rnbhadrsxqx50fawpd747azskavbjraygr6s11rh1wbfrxid' instead of the expected hash '10pvs8wnlv1f1bgd3zys40a6lrrw2m0swancv7gj4pwpb9p28qwy' ```::",0b8e92a7fde68a7d1023fa504a6551e0b7046148::
https://api.github.com/repos/NixOS/nixpkgs,41849,fix-docker-containerd-go-ref::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: documentation::,"###### Motivation for this change Docker and containerd could use different versions of go, so the references were not properly removed since the store paths differed. See also #41435 Fixes #41152 Needs backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5f8d1834baba55a9013eb22aa92ab1a71cefa6e9::
https://api.github.com/repos/NixOS/nixpkgs,41830,ff-bin6002-sec-1803::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change backport #41828 for release 18.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",1461461426831c23740ae68b7fc13db4aa0a9326::
https://api.github.com/repos/NixOS/nixpkgs,41728,matrix-synapse::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change [v0.31.1](https://matrix.org/blog/2018/06/08/synapse-0-31-1-released/) fixes a security bug where the rules for message visibility were not correctly applied over federation, I interpret this as other matrix servers federating with yours could request a specific message despite no user of that other homeserver should have access to that message. [v0.30.0](https://matrix.org/blog/2018/06/06/synapse-v0-31-0-released/)'s main change: > Most notable change from v0.30.0 is to switch to python prometheus library to improve system stats reporting. WARNING this changes a number of prometheus metrics in a backwards-incompatible manner. Not totally sure whether I should advise to backport to stable, the security bug really isn't nice and probably quite easy to exploit, but private conversations are hopefully using e2e encryption to protect from this. Backporting this will quite certainly break the setups of people using the prometheus monitoring system to monitor their matrix instance, but on the other hand, the intersection between NixOS, matrix and prometheus users might be near zero, or at least much less than there are people using synapse on NixOS in general. *NOTE*: As of #41038, I can't run the synapse tests myself. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c3ce0ab909fb0831f05bda63829c660dd857bc66::
https://api.github.com/repos/NixOS/nixpkgs,41504,patch-7::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"backports 933d7f37ace7928c10c99f760d18c561f6a631b7 ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",684a6beddd6f52a40db987db611866a83c6d29c9::
https://api.github.com/repos/NixOS/nixpkgs,41486,support-null-font::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change In order for the grub interface to function properly on the serial console provided by some ARM/aarch64 hardware, the background image and font functionality of Grub must not be used. The grub module's font type supports being nullable, however the code utilizing the font variable did not accept the null option. The first commit should be backported, fixing the null option. This will mean that a server where the font has always been null, no font will be loaded. The second commit would be nice to backport, but I would understand if there is hesitation. This commit would fix systems where a font has been copied in to place, but is no longer desirable after setting font to null. This behavior is modeled after how the background image is handled. Ideally we would also _remove_ the font / background image, but I'm not sure that should be in scope for this fix. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @dezgeg ::",52de38f5f40a97dc46bbb9a442903f26e087bd30::ab889c14b5228fbb1d76f61bfa9bb07558ca053c::
https://api.github.com/repos/NixOS/nixpkgs,41456,release-18.03::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,Backport of https://github.com/NixOS/nixpkgs/pull/40230/files Fixes #39867 Analogous to 17.09 backport https://github.com/NixOS/nixpkgs/pull/40234::,4be692252262c2b6248e703c8f11826d0b69b5bd::07ba0ed756bc8b18b6430c2d5b04d678f65853fc::654a57247acf65ce93fbd5b59053c4007455e5be::
https://api.github.com/repos/NixOS/nixpkgs,41427,qutebrowser131::release-18.03,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change update qutebrowser backport #41263 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3a453d9fbb6868c81aee5881310a0bf4a763c3ab::02b0389cbc21a8a48946e3b4c04cc03d4c07da60::684f69a5587c4b130c84be7f6de52698951d6070::
https://api.github.com/repos/NixOS/nixpkgs,41406,18.03/prosody-cve-2018-10847::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Fixes CVE-2018-10847 [1] and a bunch of minor things [2]. This backport from master also includes the intermediate bump to 0.10.1 which was never backported. That change also contains a security fix related to purging chat history of deleted users amongst other fixes [3]. [1] https://prosody.im/security/advisory_20180531/ [2] http://blog.prosody.im/prosody-0-10-2-security-release/ [3] http://blog.prosody.im/prosody-0-10-1-released/ (cherry picked from commit 83e4f66) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f9370095e657575294c3078c39b219b1401d18cd::
https://api.github.com/repos/NixOS/nixpkgs,41377,slurm-ext-pr::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change On the way to achieve the full potential of Slurm. Some cleanup in the module to allow for secondary configure files (e.g. cgroup.conf) that need to be in the same directory as slurm.conf. Added more libraries to the packages. Slurm can now run X11 support natively. The man pages are now available when slurm services are enabled in the module. CC @joachifm @lsix @jagajaga ###### Things done Summary of changes: * add freeipmi to get power meter readings * readline support for scontrol * libssh2 support for native X11 support * Add note to enableSrunX11 in module * fix hwloc support (was not detected by configure) * Add man pages to wrapedSlurm * Added extraPlugstackConfig parameter. User supplied spank modules are possible * Added option enableStools (submit jobs from host with no daemon enabled) * Added cgroup.conf to module * Update test, add pure submit host to test 'enableStools' <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) Test runs (`nixos/tests/slurm.nix`), tested the cgroup feature on a life system (by backporting to 18.03) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::What is the purpose of propagated build inputs here? If it is merely to ensure that they end up in the runtime closure, referencing them in the wrapper suffices.::Can we set the default for this option based on whether those other options are set?::That is a very good question. The `wrappedSlurm` derivation only contains the wrappers (and now the man pages). Is the `propagatedBuildInputs = [ cfg.package ]` even necessary here? ::You mean if server || client enabled then set `enableStools` default to false? That can be done, but it would have no effect.::The comment says to set it to true if the others are false, seems like that could be done in the default directly.::The slurm module does not have a global `services.slurm.enable` option. Setting `enableStools` to default true would enable slurm for every nixos user out there.::It depends on what `buildEnv` does with propagated build inputs, maybe it does work as intended, though I'd expect `propagatedUserEnvPkgs` to be more appropriate.::Ah, I see what you mean now.::`propagatedBuildInputs` does not propagate the paths into the new package. That's the reason why the man pages were missing. I am not sure how `propagatedUserEnvPkgs` would work here? ::The `buildEnv` builder adds packages declared in `propagatedUserEnvPkgs` to the resulting env, so it should work as if you had added the underlying slurm package to system packages with lower priority (than the wrapper).::But this is a `mkDerivation` and the builder is replaced by the custom builder script. Would `propagatedUserEnvPkgs` still work in that case?::Well, no ... I hadn't noticed that it uses a custom builder ... I also see that it explicitly links in the manpage so propagation would be pointless anyway :)::In other cases, `propagatedUserEnvPkgs` is the correct choice, however, but ofc. requires that the builder at least runs the standard fixup phase or something like it.::Then the conclusion is that we can remove the line `propagatedBuildInputs = [ cfg.package configFile ];` entirely? I just ran the test without it. It still works.::Absolutely, given that it doesn't run the fixup phase, it made no difference to begin with::",995d2ec92889bf6c4fb9c5a742ac5e96cee0e677::b7e91f096a46c5e3d3b699ff54bbb1b0bcd5e847::8026127e47398df660cc818d6266a552ecca8c1c::c8faa482fa3eae065f011505c4d244d5511171c0::f07ddeaa6708cd6ceab295d329b722a523c8edee::d7412d0b1615260fc84d346010bcfe6ed955d4aa::
https://api.github.com/repos/NixOS/nixpkgs,41305,p/dbdpg::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Build was broken because tests freeze in sandbox, disable them. Fixes #41199. Needs backport to 18.03 /cc @srhb --- ::",828ddc2e20e6644b054d9c7efc0d1c3f5c221a87::
https://api.github.com/repos/NixOS/nixpkgs,41244,release-git::release-18.03,0,merged,1.severity: security::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::,"###### Motivation for this change This is a security update, see [1]. It is not backported from master because master is at 2.17.0 after #38636 and 2.17.1 after #41223. [1] https://github.com/git/git/blob/master/Documentation/RelNotes/2.17.1.txt ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",53b3fd591f081a837c578ef0803d231c8b405f52::
https://api.github.com/repos/NixOS/nixpkgs,41239,consul-ui-fix-18.03::release-18.03,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change consul-ui is currently failing to build in 18.03 and master (#41238). **_This is a PR against the release-18.03 branch because the fix currently does not work on the master branch._** I'm not sure if you allow PRs against the release branches, in which case feel free to close this. Alternatively, you could merge into master anyway and backport to 18.03, since it's already broken in master. I have not evaluated if #35602 fixes the issue. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::Why this patch instead of updating https://github.com/NixOS/nixpkgs/blob/deeeb5002c1ca27ca685e191f659e11f5ff01f4f/pkgs/servers/consul/gemset.nix with `bundix`?::You need both otherwise bundler tries to download and install a different version in dist.sh::@nh2 I added a [commit](https://github.com/NixOS/nixpkgs/pull/41239/commits/473f40070012b4d94613205889aa579fc71d5508) that patches out the bundler check|install|exec and it works without having to patch the lockfile::",a8f06d660e9ceefa5564df1d0214e86bf45bf280::473f40070012b4d94613205889aa579fc71d5508::
https://api.github.com/repos/NixOS/nixpkgs,41145,php-upgrade::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change Changelog: http://www.php.net/ChangeLog-7.php#7.1.18 It doesn't seem to be any security related changes this time. So I don't see much need for backporting. Backporting is common with the PHP packages. But this time it doesn't seem to be required :smile: ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",098966cd43a21c7f4293a73dd0944348ae956124::
https://api.github.com/repos/NixOS/nixpkgs,41075,backport-41036::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"Backport of #41036 (cherry picked from commit 429d81db2b10dc641ec1a79e260ecc1effdc3842) ###### Motivation for this change A backport for this was requested due to GDPR concerns. @florianjacob and @pstn have done some testing on this already, are any further changes necessary? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",1dbc6e23a3435906cc7d6a1e5b4e80f669832eea::
https://api.github.com/repos/NixOS/nixpkgs,41035,fix/dd-agent-iostat::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Applies a patch to the dd-agent derivation that fixes a compatibility issue with the current version of iostat, which no longer contains a colon after its table headers. This patch is applied in order for the fix to be backportable to existing stable releases. A final ""proper"" fix will be an upgrade to a newer version of dd-agent, but that requires several other changes. This fixes #40103. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ------ cc: @bflyblue::Can you use fetchpatch of this commit instead? https://github.com/DataDog/dd-agent/commit/bfc3057fa68b2d6bbc223780c3933e893a6ba38f::I'll test that::@Mic92 The diff of the test does not apply cleanly (`dd-agent` is at a *much* newer version upstream than what we have packaged). Not sure if it's worth pursuing that vs. having the patch in nixpkgs for a short while (I'll follow up with a proper fix by updating the package version eventually, see #39808)::",e3903be9c35eb6391601ea19ff8726ff82a707f5::
https://api.github.com/repos/NixOS/nixpkgs,40778,slimserver-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change - Fixes media scanning https://github.com/NixOS/nixpkgs/issues/40589 by disabling video/image scanning (slimserver is mainly used as Audio Server for Logitech Squeezeboxes) - Fixes media transcoding It would be nice to backport this to 18.03, but I have no idea how to do that? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",32bad1b6361116f7bb0e866fc2aaa08a9eaa920c::308638c0ca1b1ccf64501aa25b8854d212488d3f::
https://api.github.com/repos/NixOS/nixpkgs,40718,update-chromium-18.03::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Already landed on master, need to backport to stable as it contains several security fixes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c6a5b16117881d92c851e971cd6b99f183b9b5b8::fcea258c5678775a59bf91ab81f3711c0404f4af::
https://api.github.com/repos/NixOS/nixpkgs,40705,elfutils-gcc8-fix::gcc8,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 101-500::,"###### Motivation for this change Was failing: https://hydra.nixos.org/build/73828348/nixlog/2 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Could you use ```nix # From: https://patchwork.openembedded.org/patch/149575/ (fetchpatch { name = ""0001-Ensure-that-packed-structs-follow-the-gcc-memory-lay.patch""; url = https://patchwork.openembedded.org/patch/149575/raw/; sha256 = ""0000000000000000000000000000000000000000000000000000000000000000""; }) ```::Is that also possible if it's a patch within a patch? (The patch that is linked adds a patch file, it isn't just the patch)::Relevant part of the linked patch: ``` diff --git a/meta/recipes-devtools/elfutils/files/0001-Ensure-that-packed-structs-follow-the-gcc-memory-lay.patch b/meta/recipes-devtools/elfutils/files/0001-Ensure-that-packed-structs-follow-the-gcc-memory-lay.patch new file mode 100644 index 0000000000..cf4d1dfe75 --- /dev/null +++ b/meta/recipes-devtools/elfutils/files/0001-Ensure-that-packed-structs-follow-the-gcc-memory-lay.patch @@ -0,0 +1,34 @@ +From 732913a8c35c7b25c0cbf6903cab1ad6b602b525 Mon Sep 17 00:00:00 2001 +From: Khem Raj <raj.khem@gmail.com> +Date: Thu, 22 Mar 2018 22:44:03 -0700 +Subject: [PATCH] Ensure that packed structs follow the gcc memory layout + +Partial backport of +https://sourceware.org/git/?p=elfutils.git;a=commit;h=17d7194d291bf91d130b78e06cbe27b290e0376d + +Helps fixing alignment errors e.g. +linux-core-note.c:116:1: error: alignment 2 of 'struct m68k_prstatus +' is less than 4 [-Werror=packed-not-aligned] + ; + ^ + +Upstream-Status: Backport [https://sourceware.org/git/?p=elfutils.git;a=commit;h=17d7194d291bf91d130b78e06cbe27b290e0376d] + +Signed-off-by: Khem Raj <raj.khem@gmail.com> +--- + backends/linux-core-note.c | 2 +- + 1 file changed, 1 insertion(+), 1 deletion(-) + +diff --git a/backends/linux-core-note.c b/backends/linux-core-note.c +index 5f06c896..9faae4c3 100644 +--- a/backends/linux-core-note.c ++++ b/backends/linux-core-note.c +@@ -111,7 +111,7 @@ struct EBLHOOK(prstatus) +   FIELD (INT, pr_fpvalid); + } + #ifdef ALIGN_PRSTATUS +-  __attribute__ ((packed, aligned (ALIGN_PRSTATUS))) ++  attribute_packed __attribute__ ((aligned (ALIGN_PRSTATUS))) + #endif + ; + ```::This URL then http://git.openembedded.org/openembedded-core/plain/meta/recipes-devtools/elfutils/files/0001-Ensure-that-packed-structs-follow-the-gcc-memory-lay.patch?id=49aae1d75ff1c6a9643c30a8cc5776a2ffa83dd3::`fetchurl` should be enough here, it is just a static file.::Please dedent this.::Maybe keep the source comment, or mention that it is for GCC 8, or something::",8787699e4237821dda2de83bb9b574ad9fafabe7::c16d9ecb8b76b966995a594c37e32cc428ddef93::
https://api.github.com/repos/NixOS/nixpkgs,40642,feature/clean-ghc::staging,0,merged,0.kind: enhancement::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::6.topic: haskell::,"###### Motivation for this change This adds some minor changes to the GHC expressions, and tries to align the head and 8.4.2 expression. Ideally we'd have one common one among all ghc expressions I think. This should allow building quick flavors, and building cross compilers to windows. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Is it really necessary to parameterize all aspects of the `src` attribute as function arguments? I would assume that few people actually mess with these settings, and those who want to can easily override the `src` attribute as a whole.::In the presence of `buildFlags` this attribute seems redundant?::If someone requests static builds for a given platform, then it feels like poor style to just ignore the setting and to silently build shared libraries instead. I'd prefer to see this particular limitation expressed as an assertion instead.::Can you please add a small comment here explaining that `""""` means ""use ghc's default choice""? ::Right! that should better be handed like this once we have the generic expression. Will drop.::I agree that we can drop this in favor or passing `-v3` to the `buildFlags`.::I'll amend the PR, to ``` enableStaticLibraries ? !hostPlatform.isWindows ``` and a ``` assert (enableStaticLibraries && hostPlatform.isWindows) ""can't use `--enable-static` on windows."" ``` The reason why this does not work is not that we can't built static objects, we can, but we can't use `-staticlib` on ghc on windows. `-staticlib` rolls all dependencies into a combined archive. While this would work on windows if we used gnu ar and MRI script, GHC can't rely on gnu ar, and as such has a quck archive concatenation module for gnu and bsd archives only.::will do.::`, ghcFlavour = stdenv.lib.optionalString (targetPlatform != hostPlatform) ""perf-cross"" ` ::Simple `${ghcFlavour}` per the above::Can we just do `$out/lib/${name}/bin/*` then?::Nix doesn't require `""` to be escaped here, to be clear. Does make?::You wish to allow dynamic linking here but not 8.2?::two equal signs::blank line wasn't added in 8.4.1. In general it's nice to diff the different GHCs so they don't unnecessarily drift apart. We really should deduplicate soon...::Can you abstract this part out like https://github.com/NixOS/nixpkgs/pull/39735/files#diff-d65852670e35e11b4bd12ed1c634abce ? Fine to wait on separate derivations until #39735 to avoid controversy though :)::Can we also backport this change to the earlier GHCs for consistency?::We can. But I'd argue against it. I'd rather see us align the 8.{4,6}.y and head into a `common` form, and then graft previous version onto the `common.nix`. Otherwise we are going to end up backporting this stuff every time again across all expressions.::I don't follow? That line wasn't even changed?::I thought about it, but I kept the `Setup.hs` changes out of this diff on purpose.::Ahh... ok. fixed.::On Nix we do indeed provide GNU ar always, so it would be nice to optionally configure GHC to expect GNU binutils just as one can configure GCC for the same reasons.::I'd rather prefer some runtime flag over a build time flag, or even some runtime support int he form of trying to use an MRI script and falling back to the backup solution.::",900862ea3bda4ef87dc8b4a8aa78a242d1ae7b04::15759df6607204d960f70420a092178cf65306b7::4ea33def46709e90b9f41ccd6fb6a84342ecd926::5e589a40497eaf15108f503f41dd62b925ad9e5f::82a847a04b5ed2f041d8c94895011e13b0735f6e::f914fdd960688e5afeddc7f50235000f1c9418d6::6f2f081b90a14f274274f6ce0bce5860057495d1::8d2ce113d571046382c9490b1e47e14454c6469f::6af0c192d15b3e87f1cf757250f7c8f8b84bd2d3::03602f8162d96a4c510b935134337070812e1bbf::4b480942851d72bc6f292539b1e9a0c100323fae::d6ecbbe9212fe31c5774c9b1709fedeaa7a0e6f6::
https://api.github.com/repos/NixOS/nixpkgs,40538,linux-pam-cross::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change Backport of #40537. I like to backport trivial cross fixes. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",29b62e07d66c6ee14c8b9a3428e413fc4dc1c223::
https://api.github.com/repos/NixOS/nixpkgs,40517,release-18.03-discord-0.0.5::release-18.03,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Discord breaks on every version change. This has been fixed in `master`, but not yet in `release-18.03`.  (I'm not sure if this is the correct way to backport, please correct me if not.) cc @MP2E ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e1552d12678438754641381b41ff80874cd5778b::
https://api.github.com/repos/NixOS/nixpkgs,40439,matomo::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change The new matomo release brings new features required for compyling with GDPR, which will get in effect on May 25th. See [the release announcement](https://matomo.org/changelog/matomo-3-5-0/) for more information. Maintainer of matomo here, this should be backported this to stable. I see only a minimal risk for breakage, while those new features are strictly required for operating Matomo when targeting EU visitors as soon as GPDR is binding. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c28d7bfc704e58d5b7958e69221f644db76f100a::
https://api.github.com/repos/NixOS/nixpkgs,40380,fix-virt-install::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Fix #40177 . `virt-install` calls some utility programs directly from `initrdinject.py` that were missing on `PATH` unless manually installed. Add these missing dependencies to `PATH` in the wrapper. Please backport to 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6a2d707088c7b60310d118707e32ac9c88e43d8e::
https://api.github.com/repos/NixOS/nixpkgs,40189,contextvars::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [X] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::remove::This is a > backport of Python 3.7 contextvars module (see PEP 567) for Python 3.6 and should therefore be disabled for any version other than 3.6.::This should be `pythonOlder ""3.5""`: > immutables requires Python 3.5+::Wrong description and homepage::The attributes in this file should be ordered alphabetically::Wrong description::No period: https://nixos.org/nixpkgs/manual/#sec-standard-meta-attributes And for the purpose of brevity, I'd leave out ""This package implements""/::https://nixos.org/nixpkgs/manual/#sec-standard-meta-attributes::",5862c6835a3280089a8258a9067fde69f827396c::1bfa8c294c6034c60a54cdd93e86229a44499509::
https://api.github.com/repos/NixOS/nixpkgs,40050,fix/dunst/svg::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change To make dunst work better with SVG icons. Resolves https://github.com/rycee/home-manager/issues/256. This should probably also be backported to 18.03. Maintainer CC: @domenkozar ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",cd1a4f8d04d11b7fe7036caa04af39896ce06782::
https://api.github.com/repos/NixOS/nixpkgs,39922,matrix-synapse::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change 0.28.1 is an urgent security update: It contains a mitigation for a major denial of service attack that already has been exploited in the wild. For more details, see https://matrix.org/blog/2018/05/01/security-update-synapse-0-28-1/ In my opinion it would make much sense to backport 0.28.1 to stable. Continuing to run vulnerable 0.27.2 out of stable doesn't make much sense anymore, I see no breaking changes from 0.27.2 to 0.28.1, and at least I don't have the time and internal synapse knowledge to backport the temporary workaround to 0.27.2. For general changelog, see https://github.com/matrix-org/synapse/blob/master/CHANGES.rst ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0684ce465cd5761c8142577a1c203abbaa640b70::
https://api.github.com/repos/NixOS/nixpkgs,39853,nix-zsh-completions-0.4.0::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Managed to introduce a regression last release that broke file completion. Please backport to 18.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f7a46b2a1dbd72fe0e8ee2822cda649f4f75b32b::
https://api.github.com/repos/NixOS/nixpkgs,39788,aarch32-for-master::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change The ""after 18.03"" gives the deprecation from #37401 more clarity. Also improves diffing after #39787, the backport of that PR. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b9acfb4ecfbbdac123fed170f5b2806fe4e846d0::57723e947a5a935e71e7b0592a88f259e4969336::
https://api.github.com/repos/NixOS/nixpkgs,39649,hacking-docs::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: documentation::,"###### Motivation for this change Make the docs easier to hack on with normal editors Commits: 1. make a single build provide all the automatically generated XML you need to build with normal tools 2. create a makefile for debugging with xmloscopy, and made options-db.xml validate (this required adding a parent element, and then updating the including places to ignore the parent element.) 3. some of the same 4. note about `make` in the nixos docs I: - built the docs, they look good - built the man pages, they look good - wrote and tested this without much sleep - would like this to be backported::",59f8b1e844d679d1ae7d2a94cf02f9ca259f0dfa::0ff0d138e4e9d68853c463a540d61718aa91cffb::a77dc213a7825f5dd13c7989e38d82e64816d881::74fcb1c770e3a5178a7ee089b3caf406f7bf94bf::
https://api.github.com/repos/NixOS/nixpkgs,39591,php-upgrades::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change Security and bug fix releases. All of them needs backporting. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",51190e4d8c2f83aeb7da135f179997268ca1184f::bd547f6688e75b45278a0d5b28a4dae1762c4728::707f7ca1d213c0f945b1ed73f702874dd5f6317c::
https://api.github.com/repos/NixOS/nixpkgs,39555,python-patches::staging,0,closed,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::6.topic: python::,"###### Motivation for this change I originally wanted to include this in the sage PR, but since a world-rebuilding python PR (#39517 by @dtzWill) was just merged into staging maybe its better to only rebuild all python2.7 packages on linux once. [Python Issue 27177](https://bugs.python.org/issue27177): Regex match.group doesn't support __index__, only standard integers. This was fixed, but not backported to 2.7. sage needs that because it uses its own integers by default. I tried to monkey-patch around this, but apparently you can't monkey-patch `re`. [Python Issue 25750](https://bugs.python.org/issue25750) leads to occasional crashes, especially on python 2.7. There is an [upstream PR in the making](https://github.com/python/cpython/pull/6118). As requested previously, there is now a [branch with the sage package](https://github.com/timokau/nixpkgs/tree/sage-on-nixos). This is not yet PR-ready though, contains unneeded patches, duplication, TODOs etc. I will rewrite history on that branch. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::nit: ""taht"" -> ""that""::Do any of the other python versions (3.4, 3.5, ..) in-tree need this?::Similarly, reading that PR suggests this should be applied to all python versions (although it does say backporting to 2.7 is the most important since it's most problematic there).::Yes, everything <= 3.6 should have this issue. I only applied the patch for 2.7 because I only need it for 2.7 (for sage) and I wanted to minimize rebuilds. Since no 3.4/3.5 software seems to need it, I don't think its strictly necessary. Should I add it to 3.4 and 3.5 anyways?::Thats true, I also only applied this to 2.7 to minimize rebuilds. But since this is a crashing bug, here it might really be a good idea to add it to all versions. Especially since the other PR triggers rebuilds across all versions anyways -- but that only matters if this gets merged before those builds run (which is a bit optimistic).::Minimizing mass rebuilds isn't really needed, I believe.  On staging we have a large rebuild almost every week, and python2 by itself is probably the worst part.::",b645950b282a28a3b86f6fd262a98d3e0ce2ce12::
https://api.github.com/repos/NixOS/nixpkgs,39491,release-18.03::release-18.03,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,This is a backport of #39164::,4be692252262c2b6248e703c8f11826d0b69b5bd::
https://api.github.com/repos/NixOS/nixpkgs,39488,release-17.09::release-17.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,This is a backport of https://github.com/NixOS/nixpkgs/pull/39164 ::,fd9eae0105c4d54121612cfe31beb21d194c0e14::
https://api.github.com/repos/NixOS/nixpkgs,39475,nix-completions-bump::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: port to stable::,"###### Motivation for this change For ZSH this adds stuff like `nix-build channel:<tab>` and the new `--option`s to the legacy commands (this was already fixed for Bash). Also a few bug fixes. For both shells this fixes a bug in darwin where completing attribute paths of urls would fail if the user hadn't installed `sha256sum` to the PATH (thanks to @LnL7). Please backport to 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2848b5db7d303fcb276958dbc4a78c185f5e1264::954e02f835ca42d20f6fd01a940f06edd3fbb0a0::
https://api.github.com/repos/NixOS/nixpkgs,39475,nix-completions-bump::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: port to stable::,"###### Motivation for this change For ZSH this adds stuff like `nix-build channel:<tab>` and the new `--option`s to the legacy commands (this was already fixed for Bash). Also a few bug fixes. For both shells this fixes a bug in darwin where completing attribute paths of urls would fail if the user hadn't installed `sha256sum` to the PATH (thanks to @LnL7). Please backport to 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2848b5db7d303fcb276958dbc4a78c185f5e1264::954e02f835ca42d20f6fd01a940f06edd3fbb0a0::
https://api.github.com/repos/NixOS/nixpkgs,39455,matterbridge-configfile::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Waiting for NixOS/rfcs/pull/5 , files including secrets should not be set in the nix store, so adding a configPath option as workaround. I've tested this PR with `nixos-rebuild` and `nix-diff`: with the same configuration, absolutely no change happens (apart from the nixos-version hash change). With `configPath` set, the parameter appears to be properly set. I think that, as a security fix, this deserves backport to 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e199143f11db153c1b844320295f9a1e1be4ac83::
https://api.github.com/repos/NixOS/nixpkgs,39400,improve-keymap-tests::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change Fix #39330.  Simplify tests, prevent timeouts and non-deterministic hydra failures. Hopefully this will stabilize the tests on hydra - let's try and see. Please backport to 18.03 because failing keymap tests have delayed the channels there as well. ###### Things done - Simplify and redesign test logic: a single reader script now waits for all test characters to be typed (previously, a new reader script was started on the guest for each character) - Improve host-guest synchronization to reduce waiting and timeout risks - Xorg test: wait for xterm window to open (`waitForWindow()`) - Xorg test: use `xdotool` to make sure xterm has focus (from #33719, thanks @srhb) - Add some logging to help future debugging - Verify that all 6 keymap tests pass locally, even when run in parallel with high CPU load (since I don't own a hydra simulator :grinning:) ###### Things that could be done later - Flatten test data sets  - I chose to keep test data unchanged for now and have nix flatten it - Add a standard synchronization mechanism to the test framework; having to sync by creating and waiting for marker files is a pain and error-prone, and everyone rolls their own... --- ::",84a6e18947fe961e97173f031318cd6111a43949::
https://api.github.com/repos/NixOS/nixpkgs,39340,interim-fix-39069::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change Fix #39069:  Avoid a race condition between `udevd` renaming and `networkd` configuring interfaces when using `networkd` with predictable interface names. Please backport to 18.03 because a resulting non-deterministic test failure has frequently delayed the `nixos-18.03-small` channel. This is an interim fix to get rid of the race condition and resulting test failures. It does not break existing configs that use the old `ethX` interface names for stage 1 (initrd) networking, so it should be safe to backport to 18.03. (#39329 proposes a better long-term solution: rename interfaces in stage 1 already, so interface names are consistently the same in initrd and fully booted system. But that change will break initrd networking in some existing configs, so we should make it carefully.) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Personally I have: ``` systemd.services.systemd-udev-settle.serviceConfig.ExecStart = ["""" ""${pkgs.coreutils}/bin/true""]; ``` in my configuration because `systemd-udev-settle` timeouts on my machine sometimes. That's why I would be glad if we could get rid of that service sometimes.::I agree this is not ideal but the best we can do in stage 2 to prevent the race condition. We can revert this as soon as we do the renaming in stage 1. ::Instead of using `systemd-udev-settle`, we could add ```serviceConfig.ExecStartPre=""${systemd.package}/bin/udevadm settle -t 10""; ``` directly to `systemd-networkd` to use a shorter timeout than the default 120s. I guess 10s will be enough to get interface renaming done...  ( on a real system, but on hydra you never know).::",236703f9f3ac1d0904d63940d00f885dfeeb854b::
https://api.github.com/repos/NixOS/nixpkgs,39337,procps-ng-update::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 501+::,"###### Motivation for this change The sha256 on the package was wrong when building from source, and after fixing the sha256 I noticed the patches no longer applied.  I suspect the upstream maintainer backported the fixes into the 3.3.13 release. At any rate, the new release fixes issue 88: https://gitlab.com/procps-ng/procps/tags ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",646ff73796193e5d77f7282c67cb06457d43b159::
https://api.github.com/repos/NixOS/nixpkgs,39335,pkgs/fix-memtest86plus::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change It failed to work on my Thinkpad X230. This fixes it both with Lenovo BIOS and with coreboot. I think the first patch should be backported to 18.03. ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [X] other Linux distributions - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",1fb6bc4abf856b95625be7b564d5d894fbbfbb93::983a3f19ba7ab13bf3282d204bc6353af50e7020::
https://api.github.com/repos/NixOS/nixpkgs,39329,fix-39069::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::2.status: stale::2.status: work-in-progress::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::,"###### Motivation for this change Fix #39069. When `networking.usePredictableInterfaceNames = true`, rename network interfaces already in stage 1 boot  to avoid a race condition between interface renaming and configuration. This also ensures consistent interface names between stage 1 (initrd) and fully booted system. ~~~Please backport to 18.03 because a resulting non-deterministic test failure has frequently delayed the `nixos-18.03-small` channel.~~~ (better not, see discussion) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::The last bit > Before updating <literal>stateVersion</literal> to 18.09 or higher, make sure your configuration is not affected. is redundant because of the previous paragraph; the opening paragraph of that section. I'm not specifically against keeping it, but I think removing redundant phrases in the release notes is important; they may be long! (They are probably still incomplete, we'll see in the coming days.)::> and changing this option's value requires a reboot to take effect. Reading this, I initially thought that this was related to the previous sentence. It would be better to separate the sentences, as they share no relation. > For ~~newer~~ configurations with `system.stateVersion >= 18.09`, > interfaces are renamed to predictable names in Stage 1 (initrd). > Changing this option's value requires a reboot to take effect. Additionally, dropping the *newer* will keep the description *evergreen* and not feel weird in two years when 20.09 is being used, seeing 18.09 described as newer.::> Reading this, I initially thought that this was related to the previous sentence. It actually is related - in the current implementation, the option can be changed with `nixos-rebuild switch` without rebooting. But with this PR it will require a reboot.::",219cbf5cdc118e94202cac9b2824dff770aee5bc::f689b511495f2b8c386094febc5c07e8f17a2cee::dcb5a9e426775f0f60e1789b029f95a14cfc792a::d57bb7e10448957bd5fa697a823c2da41339c365::89ec4f2b5405fd4e6e033244255c3287c32d4383::2773c62d053e76dbec1f7b5ef2beb9baeef620ff::f1979dc075784281087b86e4d5a093a7e50a7828::381ba55bf0bd30e76118d30ea28bb35152a9381c::54e95b2574e88c8b4e5a92f019c4db88de5e3b45::
https://api.github.com/repos/NixOS/nixpkgs,39060,fix_attribute_path::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"while using submodules we encountered that if the value is used but was not assigned one would see this incorrect error message: error: The option `nixcloud.TLS.certs.example.com.mode' is used but not defined. this patch fixes it to: error: The option `nixcloud.TLS.certs.""example.com"".mode' is used but not defined. **please also backport to 18.03** # note i've checked this patch locally, see the error message. if wanted i can prepare a minimal example how to reproduce.::",54145da92dd7afd8aef4644e02ee27fe26df94c7::
https://api.github.com/repos/NixOS/nixpkgs,39047,django_1_11_12::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"Once merged, I’ll backport this to `release-18.03`. Some  derivations that needs django failes to build before and after this update. ###### Motivation for this change Release notes and associated fixed CVEs: - https://docs.djangoproject.com/en/2.0/releases/1.11.10/ - CVE-2018-6188 - https://docs.djangoproject.com/en/2.0/releases/1.11.11/ - CVE-2018-7536 - CVE-2018-7537 - https://docs.djangoproject.com/en/2.0/releases/1.11.12/ ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Can you drop that line?::",44b82c6a8efbd1faf72df271e83d3e571eb9d5c3::
https://api.github.com/repos/NixOS/nixpkgs,39022,libsmbios-python-utils::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Without this the package is missing quite a few useful utilities such as `smbios-thermal-ctl`. With the latest package release they appear to build and work fine without any further changes. It would be nice to backport to 18.03. Note that when testing on a NixOS host system running glibc 2.26 they will emit errors reported in https://github.com/NixOS/nixpkgs/issues/38991. This is unrelated to this change. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c286d9e186fe660e7d6b5d354e1f7fb23ad67080::
https://api.github.com/repos/NixOS/nixpkgs,39018,p/mbox-importer::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: qt/kde::,"###### Motivation for this change Build succeded locally but failed on hydra with ""log limit exceeded"". Disable verbose logging. /cc ZHF #36453 - please backport ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::@xeji I must have left this in here by accident. Could you just remove the `preHook` entirely?::done::",223aad2053adb88e7ada0fc94f54a97c63249cb0::
https://api.github.com/repos/NixOS/nixpkgs,38979,tests-systemd::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,###### Motivation for this change A timing bug resulted in non-deterministic hydra test failures like [this one](https://hydra.nixos.org/build/72403425). /cc ZHF #36453 - please backport. ###### Things done Tested on master and 18.03. --- ::,9d5af5871d7099185d35c836934fc5b551a0080a::
https://api.github.com/repos/NixOS/nixpkgs,38954,p/extundelete::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Didn't build  with `e2fsprogs` 1.44 because one of the inode fields was renamed and repurposed. Please backport to 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0a74fca53584571a42e34a7a97eb71d55beac537::
https://api.github.com/repos/NixOS/nixpkgs,38942,p/fix-spl::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change `linuxPackages.splLegacyCrypto` didn't build. Add missing patch (same as `splUnstable`). Please backport to 18.03. /cc @Mic92 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b48ba55ab11bbf49170019036e30da560c2c49de::
https://api.github.com/repos/NixOS/nixpkgs,38886,u/rdp::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change rc1 is effectively unusable so we really need rc2. I'm running it here and will merge later today if all OK as well as backport to 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::I get ``` fixed-output derivation produced path '/nix/store/4200i7hxjb7m8hqpvj6l8vlk2bm9znx9-source' with sha256 hash '01cm9g4xqihnnc5d2w1zs8gabkv59p7fyjwi1cwpzv6s198xwbfs' instead of the expected hash '0330f5bxbsg3g3bxvmi 1kcf9cs28i091l3ql46aqmb7xjdw3yhav' cannot build derivation '/nix/store/6dlyxp9ggswfkl006scl399xfcqnzv8c-freerdp-2.0.0-rc2.drv': 1 dependencies couldn't be built ```::This is super strange - I've just tried running ```nix-prefetch-url -A freerdp.src``` and it produces the expected hash ```0330f5bxbsg3g3bxvmi1kcf9cs28i091l3ql46aqmb7xjdw3yhav```. Are you behind a misbehaving proxy?::That pull request has the same hash I see: https://github.com/NixOS/nixpkgs/pull/39077::Also the build bots report broken checksums.::When happens if you run ```nix-prefetch-url -A freerdp.src``` ?::after checking out your PR I get this output: ``` $ nix-prefetch-url -A freerdp.src unpacking... path is '/nix/store/4200i7hxjb7m8hqpvj6l8vlk2bm9znx9-source' 01cm9g4xqihnnc5d2w1zs8gabkv59p7fyjwi1cwpzv6s198xwbfs ``` Is it possible that freerdp changed their tag?::I'm an idiot. I had an overlay for freerdp because rc1 is broken. Merged in da4695009c85281ddf3903e73f40168a121d47b4 and will backport too.::",e8ad166fafdc039e48eb3049e976a700cc14af5f::
https://api.github.com/repos/NixOS/nixpkgs,38816,dovecot-lda-test::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change That's apparently not enough to catch the bug I ran into with the update to 2.3.1, but at least it will check the LDA appears to work. If possible, I think a backport to 18.03 would be useful. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4fddb8b9c3ee137f45ce3d3f79d5fb66c80843a0::
https://api.github.com/repos/NixOS/nixpkgs,38813,add-dashing::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: package (new)::,"###### Motivation for this change I want to use this. I'd love if this gets into 18.03 even, but if not I don't care (I can backport locally). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Please add at least basic metadata! :)::Nitpick, change to ```meta = with stdenv.lib; {``` so we can get rid of the ```stdenv.lib``` bits below.::Done::",0f329141640459f722ed24a4d04968bf08b7b1e4::
https://api.github.com/repos/NixOS/nixpkgs,38702,mark-as-broken::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: python::8.has: clean-up::,"###### Motivation for this change Cleanup for 18.03, see ZHF #36453 - please backport. Mark remaining packages that haven't built on 18.03 for a while as broken. This PR only includes packages that don't build on master either, hence it targets master. Any packages that build on master but not on 18.03 will be dealt with separately. Packages will be incrementally added here. /cc @vcunat @fpletz ::",54dc22f6efeecc46655d5c986b136a8cfbe77621::d0d320803e93fccc40d89b5cc03903b462cf43ab::4af83283cd86d493960595d615c9d4f315a93cc7::dc3aeab7531d881f9937dc5b0793cfbb3dbe4f63::535f2eeea51110ca8d5b7f26ae1b86d06721da29::1fc55ad414be5985a5fa98a6dc8734db5b416bcc::d8627004861019d589c1ca4aaee16c40df816473::51cc22c14aa3954e67feb6b88df11a22d4d0b372::ccbefc66bbe528f70fd77a69b30d9d9838638249::b82170a1bc3520cd8a6c79f70a1292d422ed263b::0defae41cf09c5f5f7d674e12280708635c5b716::96cf58abf4647a272eb3aa5906ca4d3eefd51522::11a7c29004216ecd3fa99e7840106dfa8f7bfaa4::5ee52f9d4e620c908a733070b2e9fab668678f4a::68c15ceaa8305ff11f110b226679fa6776782cb7::1f8712c00bea3ae35595bea31412d9c0e3098ac3::2456b4e4a51073b5cff640f54328240ca315f7fa::a13945e1a24919405d3929ab3f96ec07c217dd68::db409adaace9eb1d5698af357a18080ee0e76afc::9768b0457a82cdab882e3547d44fbc1569770c28::386772b665a51b90faaec2e4f8843c428e65455d::1ca9e4ae4ce372ee8ed5c91295883f9ef9e8e481::3edb293d8a6c4fbea1da21d4c4361f59ffcb004f::d63702a47374e5bcb5373c0f415dca351eb3e78b::8146cf699a94ad57944deefc0b5b1a687068958f::48573657b5191790761887246efe8292de68d1c6::eb9a133eb67bc7adb46741931c2103548218f5f2::bc17a66732ba60f7548a8bc263d49aa562445663::6c2b87fd3c50d5fa72af3ac63fdb3704ec23fa23::d7cb688d68c8dbafb6e6249eff5de62afddfbe6b::b5a9656511dc40614765f16d248027f5382da9c1::af555f8f2165cc2e4b9463eddb4ea73c5cc14c92::68665427510bb8350decd031a3652538b3958ac8::db872b1bc1801de516a60973a79316acc1ffdc83::c307e5b0f3523ff7a96a5f56b9031193e3a7cddb::ac7d4661074b062220f336d8b3493f8839e4f9ce::0925b16a20380fc3561e29e858a9a6035b68ba46::db93c68f80a91bafbac4c6c556da6b9ab62b39a0::cc648ab387eac2f22d2db67b9a9fd8e1a956dbe7::efbd773828d0bc992c505401353118883e0008a3::cdc293b19b4a5a446f517e735d520daa357b9f14::d20c6ffd657a61ec607467ef1c8c9ced94d0b5ab::
https://api.github.com/repos/NixOS/nixpkgs,38442,backport-callhackage-deriver-18.03::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: haskell::,"###### Motivation for this change @vcunat Not sure if this sort of thing is appropriate to backport to 18.03 from master, but it's just adding functionality to nix stuff, not changing any package versions or anything. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",312a8b46495f05a6f62807453f0c08957be04761::
https://api.github.com/repos/NixOS/nixpkgs,38412,fix/xbursttools::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Was a long-standing failing test on Hydra. Should be backported to 18.03 as well. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4645b12e03df36ed3e4b66cfe8a13db04d0ec7fa::
https://api.github.com/repos/NixOS/nixpkgs,38359,telegram-gapps-hook::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Mostly a backport of https://github.com/NixOS/nixpkgs/pull/37587, telegram-desktop crashes on choose file dialog (which is apparently required for account registration within the app). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",8fd0d2eeb9d690acdf265df95e3d548a6b7b6947::
https://api.github.com/repos/NixOS/nixpkgs,38357,dbeaver/5.0.2-18.03::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"(cherry picked from commit a829977561159cabcdc915052cdb416799e702af) Reason: backports the current revision of the software. * * * * [Updates dbeaver 5.0.0](https://dbeaver.jkiss.org/2018/03/19/dbeaver-5-0-1/). * [Updates dbeaver 5.0.1](https://dbeaver.jkiss.org/2018/03/19/dbeaver-5-0-1/). * [Updates dbeaver 5.0.2](https://dbeaver.jkiss.org/2018/04/02/dbeaver-5-0-2/). As explained on #36362 > While the major version number is increasing, it doesn't seem to include any breaking change. The version increased since it's the release of the new *Mock data generator extension*. Furthermore, I missed updating 18.03's version to 5.0.0, I wasn't entirely sure the protocol for cherry-picking updates to software to the stable branch. [I have since informed myself](https://logs.nix.samueldr.com/nixos-dev/2018-03-07#1520461616-1520461747;). ###### Things done - ✔️ Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - ✔️ NixOS - ✔️ Tested execution of all binary files (usually in `./result/bin/`) - ✔️ Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- > *As a side note, #34182 is still open and I will still gladly accept any help in figuring out how to build this using the source release.* ::",5127bfd17a4f001790ed07ac3a411725d303effd::
https://api.github.com/repos/NixOS/nixpkgs,38351,user-channels::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: changelog::8.has: documentation::8.has: module (update)::,"###### Motivation for this change See https://github.com/NixOS/nix/issues/2033 I'll backport upon merge. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [X] macOS - [X] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ``` $ nix-channel --add https://nixos.org/channels/nixpkgs-unstable nixpkgsunstable $ nix-channel --update unpacking channels... created 5 symlinks in user environment $ nix-build '<nixpkgsunstable>' -A gitFull /nix/store/9i8vdd4757xnvyflf0fhszjw74cy74ib-git-2.16.2 $ nix run -f '<nixpkgsunstable>' gitFull [grahamc@Morbo:~]$ which git /nix/store/9i8vdd4757xnvyflf0fhszjw74cy74ib-git-2.16.2/bin/git [grahamc@Morbo:~]$ exit $ nix-instantiate -E '(import <nixpkgsunstable> {}).gitFull' warning: you did not specify '--add-root'; the result might be removed by the garbage collector /nix/store/2iz7n7x4rldrn4dg9s5bg6a3qlxna7ms-git-2.16.2.drv ```::",8ab8d9cb74e75de46e647a5d77c137f7ef3ebd2b::
https://api.github.com/repos/NixOS/nixpkgs,38329,fix-darwin.opencflite::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: darwin::8.has: port to stable::,"###### Motivation for this change ZHF-18.03: #36453 See: https://hydra.nixos.org/job/nixos/release-18.03/nixpkgs.darwin.opencflite.x86_64-linux Please backport to 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d1dfe27ad9d4e7acb4c3ba6382e4526b33ed3552::
https://api.github.com/repos/NixOS/nixpkgs,38195,php-upgrades::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change Bunch of upgrades. All is security related and needs backporting. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a56b5d6793a4cd7ee4a3a87e29b1ddefb559a8a7::9b59a912f62a11ea1901c4a723c34b7f418f71b3::130008101d598cb183be75b7c0665cfd6cf8e22b::
https://api.github.com/repos/NixOS/nixpkgs,38118,nix-bash-completions-0.6.5::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Some minor changes to go with the release of Nix 2.0, this should be backported to 18.03 (but not 17.09): - Always fall back to file completion if nothing else is available - Complete the new nix.conf options when using the old commands, like `nix-shell` - Complete `channel:` syntax when using the old commands, like `nix-build channel:<tab>` - Some other minor fixes ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",51c3502688927a3c061ba3396deba0ba746d6c28::
https://api.github.com/repos/NixOS/nixpkgs,38071,php70-upgrade::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change Changelog: http://www.php.net/ChangeLog-7.php#7.0.29 Security releated, needs backporting to 18.03 as well as older if anyone cares about them anymore. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",da201fbbd413ccfeb3039bfa67f18f77448ddd94::
https://api.github.com/repos/NixOS/nixpkgs,38035,fix-linuxPackages_custom-18.03::release-18.03,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: package (new)::,"**This is a backport of https://github.com/NixOS/nixpkgs/pull/38034** The required argument 'hostPlatform' was missing from linuxPackages_custom's call to linuxManualConfig. In order to prevent this in the future, this commit adds linuxPackages_custom_tinyconfig_kernel so linuxPackages_custom gets tested. This also adds linuxConfig, to derivate default linux configurations via make defconfig, make tinyconfig, etc. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3e61e55420f3faa3cd35c093f3b5a8fe124389ab::
https://api.github.com/repos/NixOS/nixpkgs,38034,fix-linuxPackages_custom::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: package (new)::,"See also backport to 18.03, #38035 The required argument 'hostPlatform' was missing from linuxPackages_custom's call to linuxManualConfig. In order to prevent this in the future, this commit adds linuxPackages_custom_tinyconfig_kernel so linuxPackages_custom gets tested. This also adds linuxConfig, to derivate default linux configurations via make defconfig, make tinyconfig, etc. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Excuse me if I'm missing something obvious -- is this change necessary? Am I missing something?::`features` has become a mandatory argument for kernels. I don't remember where it is passed as an argument, but without it evaluation fails because some other code expects to be able to pass a `features` argument. I'm not sure where that is, as I said, but this [override](https://github.com/roberth/nixpkgs/blob/b5d54b04b5e2fe3463f14c09226a351f7df9e6d4/pkgs/top-level/all-packages.nix#L13618) supports the idea. This ignores the `features` parameter entirely, which kind of seems appropriate for a custom kernel. Of course someone could write the code to validate the custom configuration against it and expose it via `passthru` but that's not going to be part of this bugfix.::Ah, thanks for the follow up! (I reviewed it a bit 'out of context' since I was busy earlier and hadn't looked deeper). This otherwise looks good to me; I'll merge this (and the backport) soon...::",b5d54b04b5e2fe3463f14c09226a351f7df9e6d4::
https://api.github.com/repos/NixOS/nixpkgs,38016,pch-intel-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change Upstream update, fixes compatibility with 4.15 kernel. Please backport to 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fcb1e6f3c2a459e23e48204cf942491b7049b2ed::
https://api.github.com/repos/NixOS/nixpkgs,38015,v4l2loopback-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change Upstream update, fixes compatibility with 4.15 kernel. Please backport to 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ef3e74cba478edffe1dd3cf343ff66f387382a56::
https://api.github.com/repos/NixOS/nixpkgs,38002,ppp::staging,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 101-500::,"###### Motivation for this change The package would build but with some components missing, see https://github.com/NixOS/nixpkgs/issues/37926 and https://hydra.nixos.org/build/70939248/nixlog/1 -> CTRL-F error: Not sure how to test this beyond checking the missing `.so` now exists. Hopefully fixes #37926 /cc @TvoroG. /cc @dtzWill as I had to regenerate the musl patch + there was some `strip` weirdness in the install phase when I tried to build for musl. Should probably be backported to 18.03 as well as it seems to have the same issue. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",1e6b44aded11e034047e562175980d1cd82263e7::
https://api.github.com/repos/NixOS/nixpkgs,37948,18.03/openssl::release-18.03,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::,"###### Motivation for this change Updating openssl to the latest (known secure) version. See https://www.openssl.org/news/secadv/20180327.txt. This is a backport of #37931. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f9b510b476423d93dbaddb46dd254f808446c360::877cde22728857060a35498028bbccb893b59bf4::
https://api.github.com/repos/NixOS/nixpkgs,37947,17.09/openssl::release-17.09,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::,"###### Motivation for this change Updating openssl to the latest (known secure) version. See https://www.openssl.org/news/secadv/20180327.txt. This is a backport of #37931. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",33aedcee217007e15704bcd2edb3feda1694792f::4e63b3731115c7d8ff054308b4b3680c05ec6278::
https://api.github.com/repos/NixOS/nixpkgs,37946,erlang-shebangs::master,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: erlang::,"###### Motivation for this change See commit messages. - #36853 - #36823 - #37638 I would propose backporting to 18.03. --- - [x] ran nox-review with `nixStable2` obtained from nixpkgs @ c5f141ff7a6403ca8abc3fcff90f13a8fe164fe4 (from before backports of `/bin/sh` fixes). --- ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::is the `#!` dropped here intentional?::Oh my.. Changed the match to be more precise and didn't update the replacement.. Thank you for catching this!::",f281e0bf15ac9be138ead94cf01590679e394945::a4b7047f7fd385bae3555a9fd00b4f248647342a::
https://api.github.com/repos/NixOS/nixpkgs,37943,ena-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change Fixes build with linux 4.15, changelog looks innocent enough https://github.com/amzn/amzn-drivers/blob/ena_linux_1.5.2/kernel/linux/ena/RELEASENOTES.md Not sure how many folks use stable release in combination with the latest kernel but it might be worth backporting to 18.03 as well (where it doesn't build with `linuxPackages_latest` as well). ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b353ff944a4724c09cb5aca380cce37ecc2dd5f0::
https://api.github.com/repos/NixOS/nixpkgs,37901,doc/syntax-highlight::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::,###### Motivation for this change - Closes https://github.com/NixOS/nixpkgs/issues/4901 - Supersedes https://github.com/NixOS/nixpkgs/pull/7034 ![image](https://user-images.githubusercontent.com/76716/37942213-10a1e288-3140-11e8-8b45-36c686cd333d.png) Should backport to 18.03. I plan on merging this in 12-24hrs.::,8dac5ce146c0c3afe963ea8bc955d5b147853345::
https://api.github.com/repos/NixOS/nixpkgs,37881,doc/svg-callouts::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: documentation::,"Replace the `gif` callout images with SVGs for higher quality rendering. Also works in the epub. Note the now/before also shows some style / color changes to the text. These are _NOT_ being changed, the docs build with one style and are changed when they deploy to nixos.org. I'll backport this too. Now: ![](https://screenshotscdn.firefoxusercontent.com/images/dec76eb2-1eb4-409f-94b3-69204f59dc80.png) Before: ![](https://screenshotscdn.firefoxusercontent.com/images/4f218493-cd7c-4063-afb8-020ad6056cc7.png) ::",a80856cec5811b9eb7778b157e5ea943db26e74b::da17974541af182f86bd98e992f1c25987adac55::
https://api.github.com/repos/NixOS/nixpkgs,37872,cf-cli-fix-build::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Fix build. The package doesn't build because of go version mismatch - package is built using 1.9 (the default of `buildGoPackage`), while `remove-references-to` of the custom `installPhase` tries to strip references to `go` which is 1.10. It fails to build on 18.03 as well so might be worth backporting. Out of curiosity - is there a reason for this mismatch between `buildGoPackage` and the default `go` version? (I don't know much about go). Closes https://github.com/NixOS/nixpkgs/issues/37841. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",760e972a860b88146e58a7d690787b4ad14f6936::
https://api.github.com/repos/NixOS/nixpkgs,37831,fix/celt-0.5.1-disable-broken-tests::staging,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::,"These were fixed upstream, but patches don't apply to 0.5.1 which we need to use for spice. Instead of maintaining backported patches for very deprecated software, just don't build the tests in the first place. http://lists.xiph.org/pipermail/opus/2011-March/001423.html http://lists.xiph.org/pipermail/opus/2011-March/001429.html <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ---::",3bf20021999d7095fc10073d84d28d9c7b648bf0::
https://api.github.com/repos/NixOS/nixpkgs,37790,fix-keepassxc-on-darwin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: darwin::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2a80448fed239d4cf15aad88a6387a611db9e5f1::3f1a03b20ea5f8bd8dcb366656f33f32d91ec4ae::
https://api.github.com/repos/NixOS/nixpkgs,37764,fix-mp3blaster-on-darwin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 0::6.topic: darwin::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",11aae21cf8c874be9a4dfa6bf86e8898264f522a::
https://api.github.com/repos/NixOS/nixpkgs,37738,enable-glyr-on-darwin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: darwin::8.has: package (new)::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ad3eb5d8fc6233eb2e71440d6b0fa412890d5c7a::
https://api.github.com/repos/NixOS/nixpkgs,37735,fix-libcdio-paranoia-on-darwin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 0::6.topic: darwin::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) I also ran `result/bin/cd-paranoia -A` with a CD inserted, and it worked fine. I put `DiskArbitration` in the `propagatedBuildInputs` to fix the `cmus` build. Now cmus should also build fine. I haven't however figured out how to play a CD using cmus. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",285ef9be090dbe5779e0439d2dfa949a5a829acf::
https://api.github.com/repos/NixOS/nixpkgs,37722,shenandoah::master,0,closed,0.kind: enhancement::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::11.by: nixpkgs-member::2.status: merge conflict::8.has: clean-up::8.has: package (update)::9.needs: community feedback::,"###### Motivation for this change Shenandoah is a new, ultra-low pause time garbage collector for the JVM that collects garbage concurrently as the program runs, allowing GC times that do not scale proportional to the heap size: collecting a heap with a size of of 100GB or a 2GB size has the same pause behavior, which should be predictable. ###### Background Shenandoah is enabled by updating the `hotspot` component of the OpenJDK build to point to the Shenandoah fork -- thanks to a JDK 9 backport from the developers that is continuously kept up to date with the latest JDK versions, this is viable without bitrotting the packages, or having to put them under separate names. While the `hotspot` component comes from the Shenandoah fork, it is not the default GC in this branch -- G1 still reigns by default on x86_64 Linux, and as the branch is kept up to date, still gets all the latest fixes. This change was based on the Gentoo IcedTea build (which features Shenandoah support as a USE flag). ###### User impact None by default; Shenandoah is opt-in only. This can be enabled with `-XX:+UseShenandoahGC`, e.g. $ ./result/bin/java -XX:+UseShenandoahGC -Xlog:gc -version [0.014s][info][gc] Using Shenandoah openjdk version ""9.0.4-internal"" OpenJDK Runtime Environment (build 9.0.4-internal+0-adhoc..jdk9u-jdk-9.0.412) OpenJDK 64-Bit Server VM (build 9.0.4-internal+0-adhoc..jdk9u-jdk-9.0.412, mixed mode) [0.076s][info][gc] Cancelling concurrent GC: Stopping VM ###### Still not done The developers also keep backports of Shenandoah to JDK8 and (the new) JDK10. I would like it to be added to all these packages as well, to give a consistent preview feature set to all `openjdk*` package users. Currently, for JDK 8, I'm waiting on a new merge with the upstream `jdk8u-updates` branch (the fork is a tiny bit behind), while JDK10 is still not yet packaged. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] ~macOS~ - [x] other Linux distributions (Fedora 25 with Sandboxing) - [ ] ~Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)).~ `openjdk9` is not the default JDK (`openjdk8` is), so almost nothing is tested by it now. I have done my own testing. - [ ] ~Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""`.~ `openjdk9` is not the default JDK (`openjdk8` is), so almost nothing is rebuilt by changing this. I have done my own testing. - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b6cf384f287458331ff8d6730a2c805fce41e4ab::
https://api.github.com/repos/NixOS/nixpkgs,37714,nuke-networkmanager-pptp-18.03::release-18.03,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: GNOME::6.topic: nixos::8.has: clean-up::8.has: module (update)::,"backport of #37712 Currently broken on NixOS due to hardcoded modprobe binary path (see bug #30756 from Oct 2017), no activity on a proposed fix for months. As the protocol is terribly broken anyways, let's better remove it completely, and not talk about anymore ;-) Closes #30756. (cherry picked from commit 6ac74d60ad5c8f535ab535a13d8c365dddc6c401) ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fb4847ebdd572c2d47a2fab58812bbe734f84c33::
https://api.github.com/repos/NixOS/nixpkgs,37644,fix-streamripper-on-darwin::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: darwin::8.has: clean-up::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) streamripper ships its own version of libmad, which does not compile on clang, due to the usage of incompatible compiler flags. We can get the build working by using the already packaged libmad, which includes patches for clang. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e77071289e339f4a8512aa87fb72f388531ca263::
https://api.github.com/repos/NixOS/nixpkgs,37354,fix-pythonPackages.notebook-on-darwin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: darwin::6.topic: python::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) Since `send2trash`'s tests don't work properly on darwin (something related to build user privileges), yet still they actually seem to work fine in practice, we simply don't run these tests for the notebook. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",8aaa17c52a1b07874a0cf4fb03d2ac3ca9e8c2ea::
https://api.github.com/repos/NixOS/nixpkgs,37348,mythtv-29.1::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change mythtv is currently broken in unstable. This updates to the latest version, which also uses qt5, instead of qt4. Please backport to 18.03 for ""zero hydra failures"". I've tested that it builds fine and the frontend starts, but that's about it. CC ZHF #36453 Also #32997 #33248. @titanous ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",883046c1f2940543a61ea0f76e35eb1817e8d3b6::
https://api.github.com/repos/NixOS/nixpkgs,37347,fix-pycurl-on-darwin::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: darwin::6.topic: python::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) My last PR for pycurl on darwin just fixed the python2 problems: #37008. There are still some SSL-related tests, which fail on python3 and I simply disable. I tested this PR also for 3.4/3.5/3.6. For backporting to 18.03, we also need: #37038 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",bd836b7761a495e6c48979b728fa279a42241a03::
https://api.github.com/repos/NixOS/nixpkgs,37184,spice-gtk-fix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Fix bugs due to broken symlinks that were introduced by #35214. Make polkit support, which was added in #35214 and requires a setuid helper, optional but enabled by default. Add documentation. Fixes #36533, #37110. Please backport to 18.03.  /cc ZHF #36453 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e26810069eb093b991d8d4f4c9caab321efba7b0::
https://api.github.com/repos/NixOS/nixpkgs,37141,fix-python-tkinter-on-darwin::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 0::6.topic: darwin::6.topic: python::8.has: package (new)::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) I looked over to homebrew for how they build their python and took the lovely patch: https://github.com/Homebrew/homebrew-core/blob/8d530a70f8fcf02129d924090d73efbe12ff438d/Formula/python.rb#L378-L425 Fixes #10667 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",af0f9fa26b02fd8c5808d89a3781d3777f8c0d1f::
https://api.github.com/repos/NixOS/nixpkgs,37008,fix-pycurl-on-darwin::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: darwin::6.topic: python::8.has: package (new)::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",42555f6c7dc88c014f0963d6c030f740526d5fbb::
https://api.github.com/repos/NixOS/nixpkgs,37000,fix-glm-on-darwin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::6.topic: darwin::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",863fb7b86ad9992bd098bb64655af6f6f01ed144::
https://api.github.com/repos/NixOS/nixpkgs,36992,master::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: darwin::8.has: package (new)::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::`autoreconfHook` and `pkgconfig` should be in `nativeBuildInputs`::",c323beb8bad0057c4ff20b9f42c8aeb7c2685626::
https://api.github.com/repos/NixOS/nixpkgs,36910,nodejs-headers-output::master,0,closed,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change These headers are needed when building npm modules that include natively compiled code. They can now be accessed with `nodejs.headers`. See i.e. https://github.com/NixOS/nixpkgs/pull/35334 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @manveru @zimbatm @domenkozar @rvl @cleverca22 cc @fpletz @vcunat for potential backporting candidate::actually they are already here in $out::",2abfbcbfc612557ece7015ce9cd1f76e1c170b0f::
https://api.github.com/repos/NixOS/nixpkgs,36837,fix-pythonPackages.shapely-on-darwin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: darwin::6.topic: python::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",74b81ea91c7796ad68e54677e3ca4728b4b06e8b::
https://api.github.com/repos/NixOS/nixpkgs,36833,fix-petsc-on-darwin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: darwin::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",edef34445833e69ffcd0a9e1557bba3c61929b25::
https://api.github.com/repos/NixOS/nixpkgs,36812,update-gitea::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change [Update](https://github.com/go-gitea/gitea/releases/tag/v1.3.3) with two backported security fixes. Would be good to have it on 18.03(-beta) as well. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @disassembler @afldcr ::",fa9950c0ae51db39315e364b9e0edc99c0c8e935::
https://api.github.com/repos/NixOS/nixpkgs,36806,conan-fix::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: python::8.has: package (new)::,"conan has very strict requirements on the versions of its dependencies. This patch adds downgraded versinos of node-semver and distro to statisfy these requirements. ###### Motivation for this change /cc ZHF #36453 (please backport) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Why is this change to gcc6 necessary?::Oh, its not. That was the fix for https://github.com/NixOS/nixpkgs/issues/36754 that I forgot to remove before commiting. Good catch. I removed it and force pushed.::`name` should not be added to python packages anymore.::`name` should not be added to python packages anymore.::",5fdfe61b35945b287b084f22076fef34062f17d2::
https://api.github.com/repos/NixOS/nixpkgs,36779,fix-pythonPackages.robotframework-on-darwin::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 0::6.topic: darwin::6.topic: python::8.has: package (new)::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) The package works fine on darwin. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ea265bbdba2f86d2a2084c0bffcd9d84523be905::
https://api.github.com/repos/NixOS/nixpkgs,36777,fix-pythonPackages.discid-on-darwin::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: darwin::6.topic: python::8.has: package (new)::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",57d862fecf6f69aa1786fcab202dce798e3b380c::
https://api.github.com/repos/NixOS/nixpkgs,36774,fix-pythonPackages.construct-on-darwin::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: darwin::6.topic: python::8.has: package (new)::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) The package runs fine on darwin. Using pytest as a test runner also resolves the checkPhase issue on Python 3.5+. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",91a9453496767ef60baa6d22574136dc86ad3322::
https://api.github.com/repos/NixOS/nixpkgs,36765,fcgiwrap-fix::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Another victim of `gcc7`. /cc ZHF #36453, please backport. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6f6f91aaa6193e1ce94c5ec9197b1898ce79468c::
https://api.github.com/repos/NixOS/nixpkgs,36764,bip-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change bip build failed due to a compiler warning. /cc ZHF #36453 Should be backported to 18.03. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",95e88ad818c92a3d6a2e0ed2f0e69ebb8ad6c8d8::
https://api.github.com/repos/NixOS/nixpkgs,36742,fix-pythonPackages.regex-on-darwin::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: darwin::6.topic: python::8.has: package (new)::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) The package works fine on darwin. We run some tests to prove this. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::`${python.interpreter}`::this attribute can be dropped::Just tried to fix this, but it seems the python attribute is not in scope. (undefined variable 'python'). Should python be included in the parameter list?::",d289736defcde7db476bd7d88e66e9a098e0b5aa::
https://api.github.com/repos/NixOS/nixpkgs,36739,fix-kubeproxy-iptables::master,0,closed,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::,"###### Motivation for this change Fixes #35544 ###### Things done Upstream patch to insert the missing space in the ""-w 5"" argument to iptables-restore included. This fixes kube-proxy. This should be backported to 18.03 <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Let's remove some abstractions for our own sanity.::oh, wrong merge commit.::Here is the problem, callSubTestsOnTheseSystems is expecting an attributeset of tests inside the file, but there is none. Thus this should probably be using callTestOnTheseSystems, but when I made the simple patch: ```diff diff --git a/nixos/release.nix b/nixos/release.nix index cc4c3e7c705..a26d4cee746 100644 --- a/nixos/release.nix +++ b/nixos/release.nix @@ -296,10 +296,10 @@ in rec { tests.kernel-copperhead = callTest tests/kernel-copperhead.nix {}; tests.kernel-latest = callTest tests/kernel-latest.nix {}; tests.kernel-lts = callTest tests/kernel-lts.nix {}; -  tests.kubernetes.dns = callSubTestsOnTheseSystems [""x86_64-linux""] tests/kubernetes/dns.nix {}; +  tests.kubernetes.dns = callTestOnTheseSystems [""x86_64-linux""] tests/kubernetes/dns.nix {}; ## kubernetes.e2e should eventually replace kubernetes.rbac when it works #tests.kubernetes.e2e = callSubTestsOnTheseSystems [""x86_64-linux""] tests/kubernetes/e2e.nix {}; -  tests.kubernetes.rbac = callSubTestsOnTheseSystems [""x86_64-linux""] tests/kubernetes/rbac.nix {}; +  tests.kubernetes.rbac = callTestOnTheseSystems [""x86_64-linux""] tests/kubernetes/rbac.nix {}; tests.latestKernel.login = callTest tests/login.nix { latestKernel = true; }; tests.ldap = callTest tests/ldap.nix {}; #tests.lightdm = callTest tests/lightdm.nix {}; ``` I got: ``` grahamc@Morbo> HOME=/homeless-shelter NIX_PATH=nixpkgs=$(pwd) nix-instantiate ./nixos/release.nix -A tests.kubernetes.rbac --option restrict-eval true --option build-timeout 1800 --arg supportedSystems  '[""x86_64-linux""]' --show-trace error: while evaluating anonymous function at /home/grahamc/projects/nixpkgs/nixos/release.nix:23:8, called from /home/grahamc/projects/nixpkgs/lib/attrsets.nix:282:43: while evaluating ‘hydraJob’ at /home/grahamc/projects/nixpkgs/lib/customisation.nix:162:14, called from /home/grahamc/projects/nixpkgs/nixos/release.nix:23:16: while evaluating the attribute ‘system’ at /home/grahamc/projects/nixpkgs/lib/customisation.nix:167:24: attribute ‘system’ missing, at /home/grahamc/projects/nixpkgs/lib/customisation.nix:167:10 ``` and I don't have the time at this moment to debug it. Maybe you can take a look?::",afd57326419aa74a4f99fab18a8892094acc349a::5502bcd3f7fce68d95e530320b3e3514e0ed3454::a9b5980aa4abb6685624e3d80bda487d22d0efd3::d2aacfa9c65dc91ab0a0c96a7df52ab59a8015ae::d48772a90e698aeaca4e983e1674e03a30935b60::75f571f55daa2f547b50b5cfc6a175b0a55a5b93::6a7ac9f0a41883eefcf68c1b978228a827257dd1::
https://api.github.com/repos/NixOS/nixpkgs,36699,fix-mpv-on-darwin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 0::6.topic: darwin::,"###### Motivation for this change 18.03 ZHF darwin edition: #36454 (Please backport to 18.03!) The optional video acceleration api (vaapi) is not supported on darwin. Disabling it fixes the build. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",38c589b5d0b66fd2d244ab8fa0d9fc135887bde5::
https://api.github.com/repos/NixOS/nixpkgs,36659,fix-freeorion::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change `boost::system::posix_error` is deprecated since v1.37, however the default Boost version in NixOS is 1.66. (see https://github.com/freeorion/freeorion/commit/c9b5b13fb81b1ed142dee0e843101c6b8832ca95) The issue has been fixed on master, but isn't backported yet, so it should be sufficient to manually include the patch in our build. See ticket #36453 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",7da70c0b87e56375f24584c18faa10b95803c3c9::
https://api.github.com/repos/NixOS/nixpkgs,36644,pr-caffe2-gcc7::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Fixes hydra build failure https://hydra.nixos.org/build/69866586 . The issue is discussed upstream in https://github.com/caffe2/caffe2/issues/805 and has been fixed on `master` by https://github.com/caffe2/caffe2/pull/1602 . The change, however, has not been backported to `v0.8.1` nor can it be applied as-is, so we bundle a diff created by hand ( `fix_compilation_on_gcc7.patch` ). edit: /cc ZHF #36453 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e559fa19f319c0208fc27261faa479a8abec2d00::
https://api.github.com/repos/NixOS/nixpkgs,36571,acme-test-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,"###### Motivation for this change Acme test was broken ###### Things done boulder has been updated to 20180129 to become once more compatible with the standard go builder. The vendored version of pkcs11 was not, so it has been unvendored temporarily. mail-test-srv now requires TLS in order to function. The upstream key/cert has been used. I'm not completely sure if this is appropriate. Should be backported to 18.03 if these changes are acceptable. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",bd3558086088e36a93590947ce68dc9dad274b8d::df3706c47cbdea7d69b82a7ba857d58f3d4ea51f::
https://api.github.com/repos/NixOS/nixpkgs,36518,xtreemfs-boost165::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change doesn't build with boost166, apparently due to API changes cc ZHF #36453 - please backport ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fc1ae833334e500ee0367e312884c1b92bd29519::
https://api.github.com/repos/NixOS/nixpkgs,36515,v8-gcc6::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Doesn't build with gcc7 due to [this issue](https://bugs.chromium.org/p/chromium/issues/detail?id=614289) in upstream code. /cc ZHF #36453 - please backport to 18.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Can you alter the compiler only on linux and not on `darwin` at least?::sure, will do::",aa5a07977e8e8454e6cd2334cbe3b2fb473f598e::
https://api.github.com/repos/NixOS/nixpkgs,36512,rapidjson-gcc7::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change didn't build with gcc7. cc ZHF #36453 - please backport to 18.03 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",81776365f460730906835057cc7f72dfb594f5a3::
https://api.github.com/repos/NixOS/nixpkgs,36311,update_qgis::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change This should be backported to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4aaf23a698b96cf11b36a4f4389f07d49d03d5ed::
https://api.github.com/repos/NixOS/nixpkgs,36164,fix-pgmanage::release-17.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Recent backport of postgresql to 17.09 broke few things, including pgmanage (https://hydra.nixos.org/eval/1437029). While I do not see why this is related, this fixes pgmanage. I’ll check later how this is affecting master. The configure script uses the `command` builtin command which is bash specific[1] while having a ""#!/bin/sh"" head. This forces the use nix default shell (bash) [1] https://www.gnu.org/software/bash/manual/html_node/Bash-Builtins.html#Bash-Builtins ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::patchShebangs maybe?::I did not know of patch Shebangs, I’ll look into it. Based on its name, it should do exactly what I expect it to do.::",a1c06eaabfa39cc3e8fa83cfe82c538befd15756::
https://api.github.com/repos/NixOS/nixpkgs,35275,update_postgresql::staging,0,merged,10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 501+::6.topic: python::8.has: clean-up::8.has: package (new)::8.has: port to stable::,"###### Motivation for this change Many bugfix updates. Those should probably be backported to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",104dfd6f856f7d98b7c09ddee0e7c95fde5e50ce::10ef07fd628a9a3a3de11bc4f0975467ec92d8b6::67e45dfd58c3780adbcbeb671f574b11a3a1afc3::67f892b08fb43220ec53ef814a161338e0bcfc95::4080c2ae8be122bf474d90396be64701ef450ba5::
https://api.github.com/repos/NixOS/nixpkgs,35005,firefox-pulse::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change This fixes choppy audio in WebRTC. Firefox's closure already includes libpulseaudio anyway, so this shouldn't affect closure size either. Notes: - This does *not* disable ALSA support. Firefox will still use ALSA if pulseaudio is unavailable. - Previously suggested in #24012. This was to resolve a ""no sound"" issue which was caused by upstream disabling ALSA by default (!). This is to resolve a ""choppy sound"" issue which is caused by an upstream bug in the (unmaintained, ref https://bugzilla.mozilla.org/show_bug.cgi?id=1345661) ALSA code. I think backporting to 17.09 is also appropriate? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",de5bbd0a73b8c43d71f6e8e3c864a2c04302cf18::
https://api.github.com/repos/NixOS/nixpkgs,34925,17.09/qpdf-7.1.1::release-17.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change This also includes the backporting of security fixes we never ported (CVE-2017-11624,CVE-2017-11625,CVE-2017-11626,CVE-2017-11627,CVE-2017-12595,CVE-2017-9208,CVE-2017-9209,CVE-2017-9210 from 6060847) The 7.1.1 update just ensures we are at the latest stable version. Since there is not API breakage this should be fine. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6060847403cac2dfe1704088c490453ae50cfded::8d9dda814f82f7128c4a09978f9d4c3114a0507e::bc62cd9b3f2b773ab24c9f378bc8e1f090cf05fe::
https://api.github.com/repos/NixOS/nixpkgs,34760,17.09/dovecot-mailbox-quoteing::release-17.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: documentation::8.has: module (update)::,"###### Motivation for this change This is an attempt to properly backport https://github.com/NixOS/nixpkgs/pull/34759 to 17.09. /cc @dotlambda ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [X] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2c5e616b58e37a59c0743cece3305005b4ccbf76::5ce2352f8baf7ff1a8d8fa1edb6a41cd56330f7f::5b32006a01fd9925001906d893cd2ecd66b1f148::
https://api.github.com/repos/NixOS/nixpkgs,34759,dovecot::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::8.has: module (update)::,"###### Motivation for this change See #34629. We might want to backport to 17.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- /cc @phdoerfler @FRidh ::",6ceece6b591de56507409d6c690dddd9854ba969::
https://api.github.com/repos/NixOS/nixpkgs,34693,17.09/mpv::release-17.09,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Upstream has fixed this in a series of commits ontop of 0.28.0. Debian has backported the fixes to 0.27.0. Upstream issue: https://github.com/mpv-player/mpv/issues/5456 Debian bug: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=888654#8 (cherry picked from commit 95f4d6ba1caec48ea28df06a456cfcecc0c91825) ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5b1858543de668091fcea256b756992153c3b816::
https://api.github.com/repos/NixOS/nixpkgs,34692,mpv::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Upstream has fixed this in a series of commits ontop of 0.28.0. Debian has backported the fixes to 0.27.0. Upstream issue: https://github.com/mpv-player/mpv/issues/5456 Debian bug: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=888654#8 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",95f4d6ba1caec48ea28df06a456cfcecc0c91825::
https://api.github.com/repos/NixOS/nixpkgs,34068,perf-4.9-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::,"###### Motivation for this change This PR adds a patch for the 4.9 kernel which [fixes the perf build when the `ARCH=x86_64` flag](https://lkml.org/lkml/2017/6/16/696) is passed to make. This bug was introduced in 4.8 and fixed in 4.12. I backported the fix to 4.9 and conditionally applied it to 4.9 only. This issue was triggered by my patch which inherited `makeFlags` from the kernel derivation (which includes `ARCH`). The reason I wanted to do this was because it reduces unnecessary code duplication and should help with cross compilation (although this cannot be tested yet because some dependencies fail). IMO, applying this patch is the best way of fixing this bug, because it actually fixes the problem rather than working around it. Alternatively, we could exclude the `ARCH` flag from `makeFlags` for 4.9, or we could just forget about this issue until cross compilation actually becomes possible. This patch could possibly be accepted to the 4.9 upstream stable branch, if someone were willing to submit it to the mailing list. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",531b92f0b45c38d3d9b83a0547d3218138a3d37a::ef074a3a6c5c9b722688d7a5611a98f96518d2f8::
https://api.github.com/repos/NixOS/nixpkgs,34028,matomo::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::6.topic: nixos::8.has: changelog::8.has: clean-up::8.has: documentation::8.has: module (update)::8.has: package (new)::,"###### Motivation for this change For the 3.3.0 release, piwik was renamed to matomo: https://matomo.org/changelog/matomo-3-3-0/ The release does not contain security fixes it seems, it is mainly the renaming. Not sure what to do when they release subsequent versions with security fixes before NixOS 18.0.3 is out, as they won't be “backported” to the old piwik version. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::I would think so :)::Matomo should obviously break if this assumption fails in the future, although I'm not suggesting it is Nix's responsibilty to monitor all its software for backwards incompatible changes. It is easy to forget piwik is running, particularly with a stale blog like mine :)::Ah, you implemented this. Impressive! Is the reason you opted for `recursiveUpdate` instead of attribute set merging to allow for overrides? Not clear on the difference.::This code looks correct. However when setting: ``` nix networking.hostName  = ""jarmac""'; networking.domain = ""org""; ``` I received errors from ACME that the machine was trying to register `matomo.jarmac.` which is clearly incorrect. Setting networking.hostname to `jarmac.org` caused an error with the prestart script looking for /var/lib/piwik, but this was resolved with another attempt, and is probably a relic from the first failed ACME attempt.::Just explicitly noting that I did not need to go through the set up again.::Huh.. this shouldn't have failed on me. Systemd output: ``` log warning: the following units failed: matomo_setup_update.service ● matomo_setup_update.service Loaded: loaded (/nix/store/9f2hkvllc46vjp3x0h92vfnwljsf381g-unit-matomo_setup_update.service/matomo_setup_update.service; enabled; vendor preset: enabled) Active: failed (Result: exit-code) since Wed 2018-01-31 22:59:45 EST; 16s ago Process: 29211 ExecStartPre=/nix/store/wmg25rziv6zcm0hcr0q4wd1dzjqw7scj-unit-script/bin/matomo_setup_update-pre-start (code=exited, status=1/FAILURE) Jan 31 22:59:45 jarmac.org systemd[1]: Starting matomo_setup_update.service... Jan 31 22:59:45 jarmac.org matomo_setup_update-pre-start[29211]: Migrating from /var/lib/piwik to /var/lib/matomo Jan 31 22:59:45 jarmac.org matomo_setup_update-pre-start[29211]: rmdir: failed to remove '/var/lib/piwik': No such file or directory Jan 31 22:59:45 jarmac.org systemd[1]: matomo_setup_update.service: Control process exited, code=exited status=1 Jan 31 22:59:45 jarmac.org systemd[1]: Failed to start matomo_setup_update.service. Jan 31 22:59:45 jarmac.org systemd[1]: matomo_setup_update.service: Unit entered failed state. Jan 31 22:59:45 jarmac.org systemd[1]: matomo_setup_update.service: Failed with result 'exit-code'. warning: error(s) occurred while switching to the new configuration ``` I personally would not worry about this as it went away on retry, and there's no reason to suspect a race condition here.::Tested it again, the `rmdir` is superfluous I think. Probably it's a leftover / merge error from before I discovered `mv -T`. Removed it now.::That's as expected, the setup would only come up again if the data was not imported. :slightly_smiling_face: ::When I designed this I did only think of `networking.hostName = ""<hostname>.<domain.org>"";` and `domain = null;` (what most people are probably doing today) or, imho preferrable, `networking.hostName = ""<hostname>"";` and `networking.domain = ""<domain.org>"";`. But `hostName = ""jarmac"";` and `domain = ""org"";` is nice, should really work and is what I'd like to recommend from now on for people that only want to put a single computer in their domain. I could not reproduce the issue, though. :disappointed_relieved: The only explanation I have is that somehow the domain was set to `""""`, which would explain the output. Maybe you can recheck whether that still occurs, and if yes, check what server_name landed in your nginx config (`systemctl status nginx` -> master process ngnix -c /nix/store…nginx-conf), and what landed in the acme service (should be like `systemctl status acme-matomo.jarmac..service`, and then the service file). If the issue persists, we're hopefully able to track the wrong output down that way.::Yes, somehow I really managed to get this done. :smile: If you try to merge with `//` operator it doesn't work as this would discard my custom defaults as soon as the user defines something custom. After a lot of fiddling around, I discovered `recursiveUpdate`, which does exactly what I need here, together with the `locations` definitions and the well-dosed `mkForce` at `https://github.com/NixOS/nixpkgs/pull/34028/files#diff-8c50bc76feff6200b2774e17f7f44c52R199`. I also tried to achieve that via `mkDefault` etc., but I could not find a way that worked. Which does not mean there isn't, but I don't understand enough of the priority attribute merging system to find it…::Maybe they're more sceptical, though, as 127.0.0.1 could be considered more failsafe or something. :laughing: This requires that `localhost` resolves properly to `::1` and `127.0.0.1` and such. (It's not too long ago when NixOS itself had no such entries in `/etc/hosts` as well…) Also this could be bad if MySQL is not listening on IPv6. I'll eventually try what they think, though, the PR would be simple enough. :slightly_smiling_face::::+1: I phrased this too hard, there's no assumption by matomo source code or by the NixOS package how the database is named, and I don't expect there'll be one from the matomo side ever, meaning you're totaly free to name your database `banana` if you like. This is merely a reminder by me, to reduce suprises with the user's backup scripts or something. I came up with a weaker wording that hopefully gets this across better!::Aha! It was an error on my end: ``` services.nginx = let hostname = config.networking.hostName; tld = config.networking.domain; in { enable = true; virtualHosts = { ""${hostname}"" = {  # here's the error, no tld splicing in forceSSL = true; enableACME = true; serverAliases = [ ""www.${hostname}"" ]; locations.""/"" = { root = ""${nginxRootPath}""; }; }; }; }; ``` Apologies.::Maybe a compile time option, preserving the behavior of 127..1, where --unix-auth or something expects a hosts mapping and changes it to localhost. Although that's a little more complicated :)::Ok I see! The `fqdn = let … in join config.networking.hostName config.networking.domain` snippet is actually from my `configuration.nix`, you might want a copy of that yourself so you can write `${fqdn}` everywhere and avoid that error / doing it by hand every time.. On my list of things to upstream next, as `config.lib.networking.fqdn` helper value or something. :wink: But will be quite a lot of work to find all places in nixpkgs where this should be used but isn't.::",a892bd8ebfe796beb67db4b143d912df394aef80::d431aed997ee41cbe31a7a000c0f97d679a981b7::48e449ee7015c01a02875cb68290e69033d9daa1::885e762d471e0733e5da72ddf10f486893624483::
https://api.github.com/repos/NixOS/nixpkgs,34025,minio-security2::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change **Critical security fix** that fixes an issue that allows bypassing authentication. See: https://blog.minio.io/minio-release-jan-18-2018-security-advisory-4c64ca87721b @grahamc @ckauhaus Should be backported to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",11e91c61efa46e298d9a9b1d5fe132d9f28b2024::
https://api.github.com/repos/NixOS/nixpkgs,33963,17.09/exfat-nofuse::release-17.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Added missing backport that is required with the latest 4.14 kernel. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",66331b26b725ec2d4e99d7443f42a0d228637e49::
https://api.github.com/repos/NixOS/nixpkgs,33891,wildmidi-update::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 101-500::,"###### Motivation for this change 0.4.2 fixes the following CVEs: CVE-2017-11661 CVE-2017-11662 CVE-2017-11663 CVE-2017-11664 Fixes #33877. --- Untested! Also, I'm not sure if this can be backported to release-17.09 due to 0.4.0 seemingly having breaking changes. https://github.com/Mindwerks/wildmidi/releases ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",b13230ce24848d5b8bd54d7aaaecbd1c3316742b::
https://api.github.com/repos/NixOS/nixpkgs,33724,minio-update::master,0,merged,1.severity: security::10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change https://github.com/minio/minio/releases/tag/RELEASE.2018-01-02T23-07-00Z @grahamc Contains security fixes (see: https://blog.minio.io/minio-release-jan-2nd-2018-security-advisory-ef0342a4ddba) so it might be worth to backport to 17.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d2b5313a63acbef735b059bbd6e7672580095ad7::a31a603e9d0c5cfa5c47fe0ae2636799b29807b5::
https://api.github.com/repos/NixOS/nixpkgs,33703,graylog_2.4::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change New version with bugfixes and new features available. This patch cleanly applies to release-17.09 and should be backported to make fixes available in 17.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a01fb648979fd6f8fdd3d545ccd58e32b1877c58::5d6894c93399042a6c6ea959fba7678aa6bec89c::
https://api.github.com/repos/NixOS/nixpkgs,33663,electron::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,###### Motivation for this change Apparently 3.1.1 didn't fix the RPC vulnerability. Hopefully this version does. This should also be backported to older NixOS versions. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (none) - [x] Tested compilation of all pkgs that depend on this change using (none) - [x] Tested execution of all binary files - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @Lassulus @adisbladis ::,34c776eaa1f0b1ba4191ab1f041cf7ef360c7690::
https://api.github.com/repos/NixOS/nixpkgs,33618,django_1_11_9::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::6.topic: python::,"See https://docs.djangoproject.com/en/2.0/releases/1.11.9/ for release information This will have to be backported to `release-17.09` once accepted. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",40de82611b9ebd15b2c5649415ae95cfaff26bb2::
https://api.github.com/repos/NixOS/nixpkgs,33548,electrum-3.0.4::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"From the release notes [1]: >   Fix a vulnerability caused by Cross-Origin Resource Sharing (CORS) >   in the JSONRPC interface. Previous versions of Electrum are >   vulnerable to port scanning and deanonimization attacks from >   malicious websites. Wallets that are not password-protected are >   vulnerable to theft. See this [2] for explanation. I did not even build or test that, but wanted to notify the maintainers @ehmry @joachifm @np in the first place. As all previous versions seem to be affected, it might be necessary to backport to 17.09? As far as I can tell, the `electrum` developers fixed only the recent version. [1] https://github.com/spesmilo/electrum/blob/3.0.4/RELEASE-NOTES [2] https://github.com/spesmilo/electrum/issues/3374 ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",207bf49c8d722359c89a9c5ac35da546bd6b5f8e::
https://api.github.com/repos/NixOS/nixpkgs,33422,emby_3.2.60.0::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Lots of bugfixes (skipped a few releases) Should probably be backported to 17.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fa4035bec64fe22344876c3314224a5ef2421cdf::
https://api.github.com/repos/NixOS/nixpkgs,33367,platformio-3.5.0::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change i wanted to use an esp32 so i needed to update platformio. it needs a specific version of lru_cache because arrow 0.12.0 needs a specific version it seems. also the wrapper function had to be changed as it was not linking to the lru package correctly. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ X] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::I would rather patch the line `install_requires.append('backports.functools_lru_cache==1.2.1')` from `setup.py` to read `install_requires.append('backports.functools_lru_cache>=1.2.1')`.::Even if `arrow` really does require a very specific version of `lru_cache` this version should not be exposed in `python-packages.nix`. Ideally `arrow` should be patched to not require a very explicit version but if it really does this override should be moved to the `arrow` directory.::Additional versions of packages are not permitted in `python-packages.nix` *at all* as they cause collisions, so also not inside expressions. Applications that are defined *outside* `python-packages.nix` can override the package set to insert whatever version they need.::I've patched the `setup.py` in 340cadd97d9.::typo::Why is this needed? `wrapPythonPrograms` already sets `PATH` and injects `PYTHONPATH`. Note also that the `postFixup` (or `fixupPhase` in general) is preferred for wrappers.::you are right its no longer needed with the other fixes in place. earlier i was not seeing the lru getting linked in properly.::fixed::",27b5dbb1d0f41d319889995505e767104582a6fb::
https://api.github.com/repos/NixOS/nixpkgs,33301,openexr-2_2_1::master,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::,"###### Motivation for this change Maintenance release - security patches for OpenEXR The 2.2.1 release addresses the known OpenEXR security vulnerabilities, specifically CVE-2017-9110, CVE-2017-9111, CVE-2017-9112, CVE-2017-9113, CVE-2017-9114, CVE-2017-9115, CVE-2017-9116. Should be backported to `17.09`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- cc @wkennington ::",8d96d0f992fc099913a764f9acc164f3c580a5e7::
https://api.github.com/repos/NixOS/nixpkgs,33300,postgresql::master,0,merged,1.severity: security::10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::,"###### Motivation for this change Postgresql security updates for all postgresql minor versions. Fixes three CVEs. More information available in the release announcement https://www.postgresql.org/about/news/1801/ Should be backported once merged. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",9da1b2f91185e2817195c74c2c557522c5a975d1::b7302ccb817b71dabf47d7856215c337c199f1e5::414dc6ba1520dd38bc0f3ca040c3fced9a48da95::71acd1f8a2dbeb56b50f39b5ed80728acb4d565a::2d74fa62a8db65f4fdfd1352df469a13683437b1::
https://api.github.com/repos/NixOS/nixpkgs,33209,rtl8812au-fix::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 11-100::8.has: port to stable::,"###### Motivation for this change Failure to build. Please also backport to 17.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",7448d1f06070caf5bc60458e8f414c78082cfc13::
https://api.github.com/repos/NixOS/nixpkgs,32956,update-firefox-17.09::release-17.09,0,merged,10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::,"##### Motivation for this change Update firefox to the most recent stable release, fixes https://github.com/NixOS/nixpkgs/issues/32655. https://www.mozilla.org/en-US/firefox/57.0/releasenotes/ https://www.mozilla.org/en-US/firefox/57.0.1/releasenotes/ https://www.mozilla.org/en-US/firefox/57.0.2/releasenotes/ Notably: > Firefox now exclusively supports extensions built using the WebExtension API, and unsupported legacy extensions will no longer work. Learn more about our efforts to improve the performance and security of extensions has potential to break many commonly used extensions. OTOH the latest release incorporates a number of security fixes that may be difficult to backport individually on top of current firefox included in 17.09. Note this uses a binary distribution of rust / cargo as I can't figure out how to bootstrap a recent enough version of cargo without either: - breaking backward compatibility of `buildRustPackage` - breaking something else in the process - breaking i686-linux support (or a combination of any of the above). My rust packing knowledge is severely lacking though. This uses rust 1.19.0 but we could perhaps jump straight to 1.22.1 (latest upstream stable release) which should cover minimum required rust version for firefox build for the whole of 17.09 supported lifetime - https://wiki.mozilla.org/Rust_Update_Policy_for_Firefox#Schedule. I'm also unsure if it makes sense to expose the new rust version attribute as top-level as it's only meant to be consumed by firefox. I have not yet tested build of all dependent packages as the nss / nspr update required by firefox triggers quite a rebuild and I wanted to check first the overall direction of this PR was acceptable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ad1872d0eb0789fc0ad403802da6654b04d81f90::99e2ccbb190cf7a30f315d27f8b39893d3a60681::dbc5c71f840140834e4d2ae681a53f06698a4510::7d87e6de59c7148dd68e2b38012bbc185aaa0e1d::854ca682ae6ffbc724b01505aa0161151ff22d1c::9149691bc84cfd2f7df8ac335cf26c270f37b687::02166b0ecce4b8b1176cde0757df24fd8496f813::3682eafc81ff7e687d6466efc9ba59ae6d22dd15::72dba1409fe914edc1ef3fee0809db866a4c08ae::3100d6d734323e9c3a733b332b90c3af78ffe7d4::6f862523c28d77a6995f8f486d7f0814188b320d::
https://api.github.com/repos/NixOS/nixpkgs,32783,steam/nss::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: steam::,"###### Motivation for this change Fixes #32781. Should also be backported to `release-17.09`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",16dc6bf5211ca4f6308db17d2a0f31117c2e10be::
https://api.github.com/repos/NixOS/nixpkgs,32739,libpcap-nolimit::master,0,merged,0.kind: bug::,"###### Motivation for this change DBus packet size can be bigger than the size allowed by libpcap, which breaks applications like bustle. The issue was fixed upstream so we are backporting the commits. https://github.com/wjt/bustle/issues/4 ###### Things done I confirmed that this fixed the bustle issue. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f856f3bf232fc935e3a80f0e7bad0747d0e4017b::
https://api.github.com/repos/NixOS/nixpkgs,32610,backport-32593::release-17.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,(cherry picked from commit cf58ab88a9edc1ca7434c58b6c21cc0214300064) @lsix The bump is two minor versions on stable. Still safe to backport? :)::,0dd82931ead32d4764bcaefe30b0f2cc2b65be99::08457ef349e31e170ff0bb4a99c6be1efb494aac::
https://api.github.com/repos/NixOS/nixpkgs,32604,bump/skype::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: package (update)::,"###### Motivation for this change Bump Skype to the latest version. This may have to be backported to 17.09 because the 5.5.0.1 version appears to be disabled 🙁 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",fa897c5ba709184240b2166b5c96daa8d11a1f3a::4416c7764be6dc92c1695ce529241cd062da3cee::af1f749952b439a4239c80b16b967d85cb1d0cb5::
https://api.github.com/repos/NixOS/nixpkgs,32493,piwik-3.2.1::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Bug fixes & security updates: https://piwik.org/changelog/piwik-3-2-1/ Please backport to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",60ef50fa884974bb144111ab7a66cad7d983eb8b::
https://api.github.com/repos/NixOS/nixpkgs,32447,add_djano_hijack_admin::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"If there is no objection, I’d like to backport those 2 commits to `release-17.09`. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Do you want to maintain this?::I’ve added myself as a maintainer.::",b6ab3a56c235f10c785cc16db84d773434880b48::13d46963fced17b4b583befaf34f326143456947::
https://api.github.com/repos/NixOS/nixpkgs,32446,update_django_1_11::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"Release notes: https://docs.djangoproject.com/en/1.11/releases/1.11.8/ This is the LTS release. This should be backported to `release-17.09`. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",fe127535b09241ef1309f2d241c056053b1a8615::
https://api.github.com/repos/NixOS/nixpkgs,32384,lightdm/fix-rm-userdir::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change To fix errors such as Could not delete unused user data directory /var/lib/lightdm-data/.cache: Failed to execute child process “/bin/rm” (No such file or directory) Could not delete unused user data directory /var/lib/lightdm-data/.Xauthority: Failed to execute child process “/bin/rm” (No such file or directory) Could not delete unused user data directory /var/lib/lightdm-data/lightdm: Failed to execute child process “/bin/rm” (No such file or directory) that you can see in `journalctl -u display-manager.service`. I believe this should be backported to 17.09 (where I successfully run this code) as the bug also manifests there. Maintainer CC: @ocharles @wkennington ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",43c48a3c12cfcabeee2486e7090fb4578a8b2cee::
https://api.github.com/repos/NixOS/nixpkgs,32365,p/check-meta::master,0,merged,0.kind: enhancement::10.rebuild-darwin: 0::10.rebuild-linux: 0::8.has: clean-up::,"#### Plan: - [x] wait a bit for feedback (some parts might be disputable) - [x] backport to 17.09 - [ ] [integrate into borg checks](https://github.com/grahamc/ofborg/pull/16) **?**: add into the tarball job, simple pre-push hook for direct pushers, more meta checks, ...::this one isn't right::url / homepage confusion::url / homepage confusion::url / homepage confusion::url / homepage confusion::url / homepage confusion::url / homepage confusion::url / homepage confusion::url / homepage confusion::url / homepage confusion::url / homepage confusion::Oh, aangifte-* were the only not done fully manually and they got wrong without me noticing :-/::I'd be tempted to make this configurable so we can highlight or ignore certain conditions depending on what we're testing for: ***updated*** ```diff diff --git a/pkgs/stdenv/generic/check-meta.nix b/pkgs/stdenv/generic/check-meta.nix index 03a85633ed6..6e97ca7534d 100644 --- a/pkgs/stdenv/generic/check-meta.nix +++ b/pkgs/stdenv/generic/check-meta.nix @@ -125,11 +125,17 @@ let ''; -  throwEvalHelp = { reason , errormsg ? """" }: -    throw ('' -      Package ‘${attrs.name or ""«name-missing»""}’ in ${pos_str} ${errormsg}, refusing to evaluate. +  handleEvalIssue = { reason , errormsg ? """" }: +    let +      msg = '' +        Package ‘${attrs.name or ""«name-missing»""}’ in ${pos_str} ${errormsg}, refusing to evaluate. -      '' + ((builtins.getAttr reason remediation) attrs)); +      '' + (builtins.getAttr reason remediation) attrs; + +      handler = if config ? ""handleEvalIssue"" +        then config.handleEvalIssue reason +        else throw; +    in handler msg; metaTypes = with lib.types; rec { # These keys are documented @@ -192,7 +198,7 @@ let validityCondition = let v = checkValidity attrs; in if !v.valid -           then throwEvalHelp (removeAttrs v [""valid""]) +           then handleEvalIssue (removeAttrs v [""valid""]) else true; in ``` usage: ```nix handleEvalIssue = reason: errormsg: if reason == ""unknown-meta"" then abort errormsg else builtins.trace errormsg true; ```::If we play our cards right, we could take `evaluation aborted with the following error message: ‘Package ‘aangifte2006-1’ in /home/grahamc/projects/nixpkgs/pkgs/applications/taxes/aangifte-2006/default.nix:15 has an invalid meta attrset: ` parse the path an line, and leave in-line feedback on PRs..........::I'm also tempted by this.::Oh, I think this will be a good way to clean https://hydra.nixos.org/jobset/nixpkgs/trunk#tabs-errors 👍 ::",76bf375a162d81d49b274eb07d6a33a74fe8850f::3a110ea3f96db56012f7f2707e842593a7d7c5b8::f33a513d2b1f07da28549ffb7067f913bb3e302a::
https://api.github.com/repos/NixOS/nixpkgs,32343,imagemagick-6.9.9-25::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::,"###### Motivation for this change New upstream version, source tarball for 6.9.9-23 is no longer available on any of the mirrors Please also backport to 17.09 as this causes build failures. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ef66970df459b290acd5a3c5d283656bf407a9d3::
https://api.github.com/repos/NixOS/nixpkgs,32311,patch-1::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change Otherwise the following warning occurs in the logs of JIRA: ``` 2017-12-04 10:22:57,385 HealthCheck:thread-2 WARN ServiceRunner     [c.a.t.healthcheck.impl.DefaultRuntimeHelper] Failed to spawn a process java.io.IOException: Cannot run program ""bash"": error=2, No such file or directory at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048) at java.lang.Runtime.exec(Runtime.java:620) at java.lang.Runtime.exec(Runtime.java:485) at com.atlassian.troubleshooting.healthcheck.impl.DefaultRuntimeHelper.spawnProcessSafely(DefaultRuntimeHelper.java:24) at com.atlassian.troubleshooting.healthcheck.impl.FileSystemInfoImpl.getThreadLimit(FileSystemInfoImpl.java:41) at com.atlassian.troubleshooting.healthcheck.checks.ThreadLimitHealthCheckCondition.shouldDisplay(ThreadLimitHealthCheckCondition.java:32) at java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90) at java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1357) at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126) at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498) at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485) at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) at java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230) at java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196) at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) at java.util.stream.ReferencePipeline.allMatch(ReferencePipeline.java:454) at com.atlassian.troubleshooting.healthcheck.DefaultSupportHealthCheckSupplier.shouldDisplay(DefaultSupportHealthCheckSupplier.java:51) at com.atlassian.troubleshooting.healthcheck.DefaultSupportHealthCheckSupplier.asPluginSuppliedSupportHealthCheck(DefaultSupportHealthCheckSupplier.java:127) at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) at java.util.Iterator.forEachRemaining(Iterator.java:116) at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708) at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499) at com.atlassian.troubleshooting.healthcheck.DefaultSupportHealthCheckSupplier.healthChecksFrom(DefaultSupportHealthCheckSupplier.java:123) at com.atlassian.troubleshooting.healthcheck.DefaultSupportHealthCheckSupplier.getHealthChecks(DefaultSupportHealthCheckSupplier.java:57) at com.atlassian.troubleshooting.healthcheck.DefaultSupportHealthCheckSupplier.byInstance(DefaultSupportHealthCheckSupplier.java:88) at com.atlassian.troubleshooting.healthcheck.SupportHealthStatusBuilder.getHelpPathUrl(SupportHealthStatusBuilder.java:110) at com.atlassian.troubleshooting.healthcheck.SupportHealthStatusBuilder.buildStatus(SupportHealthStatusBuilder.java:135) at com.atlassian.troubleshooting.healthcheck.SupportHealthStatusBuilder.ok(SupportHealthStatusBuilder.java:63) at com.atlassian.troubleshooting.jira.healthcheck.ApplinksStatusHealthCheck.check(ApplinksStatusHealthCheck.java:46) at com.atlassian.troubleshooting.healthcheck.impl.PluginSuppliedSupportHealthCheck.check(PluginSuppliedSupportHealthCheck.java:49) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748) Caused by: java.io.IOException: error=2, No such file or directory at java.lang.UNIXProcess.forkAndExec(Native Method) at java.lang.UNIXProcess.<init>(UNIXProcess.java:247) at java.lang.ProcessImpl.start(ProcessImpl.java:134) at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029) ... 37 more ``` ###### Things done [x] tested on NixOS 17.09. --- Please backport to 17.09. ::",5027f3f9f9c2352bfbac3a97a83673c97ee0d8fa::
https://api.github.com/repos/NixOS/nixpkgs,32188,copumpkin-aws-ntp::master,1,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::6.topic: nixos::,See http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/set-time.html for more information. Fixes #32187 I don't feel strongly on whether to backport to 17.09. @globin @fpletz? ###### Motivation for this change This allows our AWS AMI to work seamlessly with correct time even when started in a VPC with no internet connectivity. ::,5fd528d043636bc8b41577b91ada2ac25bbe7ae4::
https://api.github.com/repos/NixOS/nixpkgs,32149,nix-completions::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"Should be safe to backport to 17.09 as there's nothing which depends on these packages. I've tested installation via `nix-env` and haven't seen any regressions. ###### Motivation for this change The [changelog](https://github.com/hedning/nix-bash-completions/releases/tag/v0.6): # bash: v0.6, zsh: 0.3.6 The quest for an awesome completion system continues. The main bulk of changes apply to both ZSH and Bash, with explicit notes otherwise. ## -I/--include <PATH> support Attribute path completion now takes `-I` and `--include` into account. This makes completion work correctly when doing things like this: ```bash nix-shell -I nixpkgs=. --packages <tab> ``` When the completion system executes any nix code it will first resolve all URLS in the `NIX_PATH`, and in `-I` input, to a local store path if present. This protects against triggering an intrusive download while completing. `channel:` syntax is correctly translated to its `https://` form and resolved to a cache too. ## --arg and --argstr support Argument names are now offered as completions using `builtins.functionArgs`. Names already supplied on the command line is excluded from completions. Attribute path completion will also take --arg and --argstr into account, which means things like this work: ```bash nix-instantiate --eval default.nix --argstr bar foo -A <tab> ``` If the content of `default.nix` is `{bar}: {foo = bar;}` then completing will result in `foo`. ## --expr and -E support Attribute path completion now works for `--expr` input, including argument name completion. Note, URLs in the expression body is not yet resolved to a local cache so might trigger a download. This should ideally be fixed. In ZSH `--expr` now behaves properly, allowing completion of options after it has been entered (bash already did the correct thing here). ## Other small fixes and improvements - Most arguments which expects a `.nix` file will now only offer up those and directories, reducing clutter - `--file` will now complete more than once, the last one being used to generate attribute matches. In ZSH this allows aliasing `nix-env` to `nix-env -f '<nixpkgs>'` while still getting further `--file` completion which can be used to override the default. - nix-env now offer `--file` completion together with main operation completion by default. This is a compromise between discover-ability of main operations and the want to specify common options quickly. - `--add-root` will now off up `/nix/var/nix/gcroots/` by default, if `--indirect` is specified it will give normal directory completion. - Add missing `--help` and `--version` completion to many commands - nix-env: `--filter-system` will complete possible systems. - nix-instantiate: `--find-file` will no longer offer misleading file completion And a bunch of other small changes and fixes. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4a72254ee2401498109fd99b4de88340dac03a2b::8366c8ce33b580f0a6f62d36ade1a28dcc6a383e::
https://api.github.com/repos/NixOS/nixpkgs,32096,sync-all-cabal-hashes::release-17.09,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change Bring `all-cabal-hashes` in line with a38a3e21291ca8e751959a3f797ed2729bed6029 to facilitate easier and more frequent updates. I ran ```bash git cherry-pick -x --strategy-option=theirs --no-merges --first-parent `git log --reverse --format=format:%H ..origin/master -- pkgs/data/misc/hackage/default.nix` ``` to cherry-pick these commits. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Did you test whether those changes actually work in the `release-17.09` branch?::It looks like the changes only affect macOS users either way, and I don't have a machine running that OS to test on.::Otherwise `pkgs/development/haskell-modules/make-package-set.nix` is the only file that references `all-cabal-hashes` and they were updated in parallel.::Also this has been backported to `release-17.03` https://github.com/NixOS/nixpkgs/pull/32772::I guess this means the answer is *no*, you didn't test it. Please do. ::Okay, done.::",3ddd8630a9b006b203f1f993a34a1b1e697bb042::5653aceb38ccd6ce4ccd88bca1ca2e0ba87be0c2::0bb747ceaf58b080d4dddb6ea79e73241514174e::c798c7a367abb99114ea6601c8b6ad263c7e352c::e43f37f56a80c4a7c877320eb665c58a419d766a::c8782f5ec597c5e4ef9da8454c637266ee4e04af::e5a50ecc906162f8e963afb24a97ba9cea9e2a8d::
https://api.github.com/repos/NixOS/nixpkgs,32003,ris-cf-cli::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::,"###### Motivation for this change Add the cloudfoundry cli app. Note that though I'm putting myself as the maintainer of this package, I am really not a Go person, and I found that to be quite an impediment when getting this damn thing to compile. Why 6.30.0 when latest is 6.33.0? 6.30.0 is the latest version that builds with Go 1.8 - I'm intending to immediately backport this to `release-17.09` which has no `buildGoPackage` for Go 1.9 (and maybe we should leave it as such). We can give `master` a followup version bump afterwards if so desired. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",77a3331a10daa985452a65c4313730c743c184ef::
https://api.github.com/repos/NixOS/nixpkgs,31897,nix-zsh/bash-completions_bump::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: port to stable::,"These have no dependencies and should be safe to backport to 17.09. ###### Motivation for this change New version of nix-zsh-completions ([changelog](https://github.com/spwhitt/nix-zsh-completions/releases/tag/0.3.4)) and nix-bash-completions ([changelog](https://github.com/hedning/nix-bash-completions/releases/tag/v0.5)). Some highlights: - Attribute completion for cached repos specified with an url, eg. `nix-build channel:nixos-17.09 -A ...`. This is somewhat untested on 1.12 as nix on my machine refuses to download any repos due to lack of signatures. - `--include|-I` completion for all compatible commands. (only `nix` takes the includes into account when completing attribute paths though) - All file like completion now should work sanely in bash, ie. just like `ls` and similar commands ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d1635a58bfb503a828105f6e037974afbc11ae1e::9a27fee60a0f50c072bd3d603f65d17a4aed2761::
https://api.github.com/repos/NixOS/nixpkgs,31886,firefox-beta-bin-58_0b5::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 0::,"###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Should these packages be backported to `17.09`? I think they should but I'm not 100% sure.::",393e4f0b8628c4fcbf4e5de21e22c4ad79586384::b5a99cfdf205d18012ab4448a1d56a6d129540ac::
https://api.github.com/repos/NixOS/nixpkgs,31853,update_nettle::staging,0,merged,1.severity: mass-rebuild::10.rebuild-darwin: 101-500::10.rebuild-linux: 501+::8.has: package (update)::,"###### Motivation for this change This is both a bugfix release and a feature release (see http://lists.gnu.org/archive/html/info-gnu/2017-11/msg00007.html). I am not sure if we want to backport it to `release-17.09` (my preference would be yes). @globin @fpletz I let you decide to port it or not. BR. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",14a754ff63c61db0063456a920b2ee3e0c1700b9::
https://api.github.com/repos/NixOS/nixpkgs,31775,stdenv-both-propagated-files::staging,0,merged,1.severity: mass-darwin-rebuild::1.severity: mass-rebuild::10.rebuild-darwin-stdenv::10.rebuild-darwin: 501+::10.rebuild-linux-stdenv::10.rebuild-linux: 501+::6.topic: cross-compilation::,"###### Motivation for this change This continues #23374, which always kept around both attributes, by always including both propagated files: `propgated-native-build-inputs` and `propagated-build-inputs`. `nativePkgs` and `crossPkgs` are still defined as before, however, so this change should only barely observable. This is an incremental step to fully keeping the dependencies separate in all cases, as is done in https://github.com/NixOS/nixpkgs/pull/26805 . ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Copy-paste error?::`qtEnvHook`::Take the opportunity to use `+=`.::No, he `shift`s arguments to use `$@` later.::Is it valid to use `providesQtRuntime` instead of `providesGrantleeRuntime` in the native case?::Ooo I bet it should have been grantlee for both all along.::Heh yeah I did that in cross-elegant originally and just lost it in the backport. Good catch.::",da19c34d0fd335424e734c3bec9ca87687eb15f0::
https://api.github.com/repos/NixOS/nixpkgs,31765,czmq-gcc7::staging,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 11-100::,"###### Motivation for this change See tracking issue https://github.com/NixOS/nixpkgs/issues/31747 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Doesn't it apply to czmq 3?::No. Had to be backported. The patch attached to `czmq3` is the same as `czmq4`, just backported to apply.::",f9cb7a03222b937d4e8a9f484403600a56da4ef4::
https://api.github.com/repos/NixOS/nixpkgs,31671,emby_3.2.36.0::master,0,merged,10.rebuild-darwin: 1-10::10.rebuild-linux: 1-10::8.has: package (update)::,"Commit also applies and is working fine on top of current release-17.09 branch and can be cherry-picked for backport. ###### Motivation for this change Bugfixes: https://github.com/MediaBrowser/Emby/releases/tag/3.2.34.0 https://github.com/MediaBrowser/Emby/releases/tag/3.2.35.0 https://github.com/MediaBrowser/Emby/releases/tag/3.2.36.0 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c8384307e3d147ff86a770504e37a110dd63ebc1::
https://api.github.com/repos/NixOS/nixpkgs,31657,wxmaxima::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change also fix crash at start-up due missing icons fixes #18479 As the current version is also broken on 17.09, I would backport it. cc @8573 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",21423521e61e9be39ee28665c4a2b6f043fbcd73::
https://api.github.com/repos/NixOS/nixpkgs,31474,bump/electron-cash::master,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: package (update)::9.needs: port to stable::,"###### Motivation for this change To bump electron-cash version. I've also switched the package to downloading the tarball from the official source URL to allow verification using the upstream digital signature. Should be backported to stable because this version is needed for the Bitcoin Cash hard fork on the 13th Nov. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). CC @Lassulus::",37203f6ed0b459a86b37b3799e6de951924c8d28::
https://api.github.com/repos/NixOS/nixpkgs,31470,electrum-3.0.1::master,0,closed,10.rebuild-darwin: 0::10.rebuild-darwin: 1-10::10.rebuild-linux: 0::10.rebuild-linux: 1-10::8.has: package (update)::,"###### Motivation for this change Upgrading electrum to the latest version. As it doesn't support Python 2 anymore, it is now built against Python 3. For this, _jsonrpclib-pelix_ is needed, a fork of _jsonrpclib_, that works with Python 3. See the first of the commit in the PR. If this is acceptable, would you, @joachifm, also be the maintainer of the new package? I couldn't test it built against master, as I get an error message when I run the binary. I think it's an incompatibility of the QT5 runtime library. See the comment below for details. I backported it to 17.09 (only needs a later version of protobuf, e.g. protobuf3_2), and there it works fine. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::${python.sitePackages}::Is @joachifm maintaining this expression?::They haven't replied yet. What's the procedure for finding a maintainer for necessary new dependencies?::I've changed it::You can make yourself the maintainer or leave it empty (preference on the former).::I've removed the maintainer line for now, I'm not sure I can provide the level of attention needed atm.::I only care to the extent that it affects electrum, so wouldn't be maintaining it per se. It used to be internal to the electrum expression for that reason.::I've added myself as maintainer afterall.::",88c9e7ffa8365c5886ebe3f16b24769a6d608612::5ec4b2d8b4d00415821137b7ecf659724e952b65::1b85d87bba60db32c6f27dd0570c57436926730e::
https://api.github.com/repos/NixOS/nixpkgs,31437,fix-multiple-cves::master,0,closed,1.severity: security::10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::8.has: package (update)::9.needs: port to stable::,"###### Motivation for this change I created a new tool to generate a list of packages affected by CVEs and started working through the list for the unstable channel. This is just the ones that seemed fixable and where proper upstream commits/patches could be found. The complete list from my WIP tool can be found [here](https://epsilon.rammhold.de/andi/nix-updates/). Some of the commits might be worth backporting to stable. - e8a3ce0 busybox - 0b4e8b9 libexif - f8b53a7 redis - 4b759a0 rzip - e15d6e1 yara (minor version bump) - 8312eaf radare2 (minor version bump + patch) I am not so sure about the others since they might involve bumping versions. Is that something we do for an already released stable version? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::This sha256 is invalid, it should be `0bv15i0gxym4dv48rgaavh8p94waryn1l6viis6qh5zm9cd08skg`.::For non-generated patches it seems better to use `fetchurl`, but let's keep this as it is.::",e15d6e1b3c267156453924942d426ba420f54f20::4b759a0011dd91d921ccf5c379b7291535cfc280::f8b53a70f1bcc628f255830fccffe77ee469b68e::8312eaf11c688715f6ff2dd380c4393d19e69ccd::b6fd7bfd040aeea0990a175c161a72d89b97281f::8c8f8472439aa054c6c5646c1750bf01e1078d5a::e0727bd73301fa8cb3baf136a0ec12b9a62a506d::0b4e8b9e5c1bc35c3a87f58e48a64138cacb694a::e8a3ce060a00925e095f5a3d425fe538c6765325::
https://api.github.com/repos/NixOS/nixpkgs,31417,chromium-update::master,0,merged,1.severity: security::10.rebuild-darwin: 0::10.rebuild-linux: 1-10::8.has: port to stable::,"Includes security fixes for CVE-2017-15398 and CVE-2017-15399. Also fixes builds for beta and dev branches: - backport https://webrtc-review.googlesource.com/9384 to fix build for new webrtc revision - for dev branch fix gn bootstrap, see https://chromium-review.googlesource.com/758584 - for 63+ manpage now is not generated during ninja build, it is processed with sed using packagers tools included in sources ###### Motivation for this change * new stable version * security fixes * beta and dev build fixes ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5f91cd11eae3045c70a535e797b0cd945a37e824::
https://api.github.com/repos/NixOS/nixpkgs,31365,fix-cvs-CVE-2017-12836::master,0,merged,1.severity: security::10.rebuild-linux: 1-10::8.has: port to stable::,"This patch is based on the work of the patch from Thorsten Glaser (MirBSD) [1] [1] http://www.mirbsd.org/cvs.cgi/src/gnu/usr.bin/cvs/src/rsh-client.c.diff?r1=1.6;r2=1.7 Please consider backporting to stable. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Could we just `fetchPatch` it?::No, unfortunately all the version I found (debian, MirBSD, OpenBSD,…) diverge a lot from our savannah based version 😞 ::Also (our) upstream is kinda dead... we might want to consider using the debian version or extracing CVS from one of the *BSD CVSs'::Ah, OK, let's merge this for now then::",d0c8c66068ffaa0bc10f4749c7e4d8df728fc9c3::
https://api.github.com/repos/NixOS/nixpkgs,31360,update_gnupg_2_2_2::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 101-500::8.has: package (update)::,"This is a maintenance release. See http://lists.gnu.org/archive/html/info-gnu/2017-11/msg00001.html for release information Once merged in master, I’ll backport it to `release-17.09`. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",44b319156fa686a4a3a65426561acc8059cc6f05::
https://api.github.com/repos/NixOS/nixpkgs,31315,bitcoin-abc::master,0,merged,,"Please also backport to 17.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",a0f01a5f0b1dc7d0bd1794ea93380600f44e6a51::
https://api.github.com/repos/NixOS/nixpkgs,31241,pgmanage-release-17.09::release-17.09,0,closed,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::,"###### Motivation for this change @LnL7 this is an adapted version of https://github.com/NixOS/nixpkgs/commit/c8943272153d1ad5c7dd1329bf0045f2834d52dd suitable for NixOS-17.09. postage is no longer maintained and has been replaced by the identical pgmanage. See: https://github.com/workflowproducts/postage#postage-has-been-replaced-with-pgmanage It's important that we switch to pgmanage in order to receive security updates. In 18.03 the `services.postage` options will be deprecated and a warning will be raised when `services.postage.enable = true`. However we can't do this in 17.09 because it will break existing configurations which isn't acceptable within a release. Instead we define the defaults of the new `services.pgmanage` options in terms of the existing `services.postage` options. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::not sure how important this is, but the systemd service will get renamed with these changes::same here, this is probably more important to keep the old behaviour by default. (assuming it's compatible)::that one should be ok.::We have `stateVersion` to cover this.::This will rebuild the manual every time a postage option is changed. Just setting the pgmanage options in the `config` attrset should be fine because using both interfaces shouldn't occur. To be safe, you would use `mkDefault` to set the pgmanage options.::Hrm, not if you have centralized logging or monitoring for that specific service.::However that should not affect the functionality of the service itself. So a release note should enough for administrators to change there infrastructure.::for 18.03 that's fine, but we should be more careful with changes on an active release IMHO::ah, I did not notice that this was a backport. I agree we have to be more conservative then for 17.09.::",8272f99f9e124dfa704f93981f577e24c00a9c88::
https://api.github.com/repos/NixOS/nixpkgs,31181,update_django_1_11_7::master,0,merged,10.rebuild-darwin: 11-100::10.rebuild-linux: 11-100::,"###### Motivation for this change this is a bugfix release. Once accepted, I’ll backport this to `release-17.09`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5d0ece7fd9c24e1e8567a6a0c950bcd3910d9480::
https://api.github.com/repos/NixOS/nixpkgs,31078,slack-2.8.2::master,0,merged,,"fixes japanese input & some obscure security issues: `An important Electron update improving security. A precautionary measure, but it’s always good to be up to date.` and `A small release containing nothing but another Electron update, this one better than the last.` Release notes at: https://slack.com/intl/en-en/release-notes/linux One might consider backporting this to stable due to the potential security fix. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",29cc52971b5fc1acc38ae1c3827621af0fcd2ab7::
https://api.github.com/repos/NixOS/nixpkgs,30963,pcre-8.41::staging,0,closed,1.severity: security::10.rebuild-darwin: 501+::10.rebuild-linux: 501+::,"###### Motivation for this change Fixes multiple CVEs. Related to #30959. Needs backport to 17.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",bd0ee044263a754a24d9d22528f2f98918b52109::
https://api.github.com/repos/NixOS/nixpkgs,30820,go_1_9_2::master,0,merged,,"###### Motivation for this change Golang bugfix releases Needs backport to 17.09 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",1d1e0920d95af2127d92bfdc9650c673622a8eb0::df04f0cb63f8df815ec95d284317373a14876b61::
https://api.github.com/repos/NixOS/nixpkgs,30754,graylog_2.3.2_master::master,0,merged,,"###### Motivation for this change Bugfixes: https://www.graylog.org/blog/102-announcing-graylog-v2-3-2 This commit also cleanly applies on the release-17.09 branch and can be cherry-picked for backport in 17.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5b75f95d51a1ac9f4d94c2c5a4ae100bfc4cb2fe::
https://api.github.com/repos/NixOS/nixpkgs,30724,update_screen_4_6_2::master,0,merged,,"###### Motivation for this change This is a bugfix release. Once this PR is accepted, I’ll backport it to `release-17.09`. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",131b7c28906426f0a31427ec4f07602bdcb072cc::
https://api.github.com/repos/NixOS/nixpkgs,30383,djanog_1_11_6::master,0,merged,6.topic: python::,"This is a bugfix release. See https://docs.djangoproject.com/en/1.11/releases/1.11.6/ Once this PR is accepted, I’ll backport it into `release-17.09`. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",67d56ea69937f416dc374fcf2cb07273eb770b66::
https://api.github.com/repos/NixOS/nixpkgs,30260,fix_shapely::master,0,merged,6.topic: python::8.has: package (update)::,"###### Motivation for this change @Mic92 once this is accepted, I’ll backport 85011d70845f5705d6b06ba2a3c2a10eb352fcd7 and 953ce94 to `release-17.09`. In its current state, shapely is not functioning in the stable channel. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] other Linux distributions - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",953ce94826632f0cc171daf6d9fa0da47062fc9d::1392d2a74b9e93924ef309899a3253d920621547::
https://api.github.com/repos/NixOS/nixpkgs,30238,qt4-darwin-fix-master::master,0,merged,6.topic: darwin::8.has: port to stable::,"###### Motivation for this change This PR fixes qt4 on Darwin. At some point, the qmake-generated installer broke, despite the buildPhase compiling the library correctly. This PR manually copies the files to the required directories on Darwin. I realize this isn't ideal. I've tested this with qjson, which built and linked with no issue. ###### Things done - installPhase overridden on Darwin - enableParallelBuilding on Darwin <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing (`relaxed`) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- fixes #28385 which has more details and logs on the actual error::There should be a `runHook preInstall` here. Similarly for `postInstall` at the end.::Fixed::Not sure if we want to enable this since it's only for darwin; I haven't tested to see if it even improves build time.::https://github.com/NixOS/nixpkgs/commit/da9115128cd5a200a82fc1d30c6ae1849fae2fb6, might be safer to keep it disabled.::I'm pretty it still only used one build process with it enabled now that I think about it. Reverted. Should I rebase? apparently the original commit has a formatting change::yeah, I'll merge and backport this if you squash the commits::👍 ::",0aa6d90845a4d8e157bb8193958333e308f71a51::
https://api.github.com/repos/NixOS/nixpkgs,30211,backport-lock-setting-xflock4::master,0,merged,10.rebuild-darwin: 0::10.rebuild-linux: 1-10::6.topic: xfce::,"###### Motivation for this change Up until xfce 4.13, xflock4 only had support for ""whitelisted"" (*cough* hardcoded *cough*) locks screens. Version 4.13 added the ability for the user to specify the lock command via the xfce settings. This PR backports that functionality ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",1241691b8dd619dc1b5ecc1b44bafd1940171174::
https://api.github.com/repos/NixOS/nixpkgs,30202,update-ruby::master,0,merged,,"For multiple CVE's: - CVE-2017-0898 - CVE-2017-10784 - CVE-2017-14033 - CVE-2017-14064 See https://www.ruby-lang.org/en/news/2017/09/14/ruby-2-2-8-released/ ###### Motivation for this change A follow up on https://github.com/NixOS/nixpkgs/pull/29417 & https://github.com/NixOS/nixpkgs/commit/85049c5aad2ad3b82260019c205821f64b71c9e3 to address the same issues in 2.2 branch of Ruby. /cc @manveru @zimbatm As an aside - would it be appropriate to backport https://github.com/NixOS/nixpkgs/commit/85049c5aad2ad3b82260019c205821f64b71c9e3 to stable as was done with https://github.com/NixOS/nixpkgs/pull/29417 (with 2_3 being default Ruby version AFAICT)? ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",547fba51407afed4c3885cd935cf23702e386be8::
https://api.github.com/repos/NixOS/nixpkgs,30092,emby_3.2.33.0::master,0,merged,,"###### Motivation for this change Many bugfixes: https://github.com/MediaBrowser/Emby/releases/tag/3.2.33.0 I also tested this commit on top of the current release-17.09 branch. Ready to be cherry-picked for backport in 17.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4bdcfbc12c63b91373424b45e6ba2aa7d0bde7f3::
https://api.github.com/repos/NixOS/nixpkgs,30045,geth-osx-libusb::master,0,merged,,"###### Motivation for this change This fixes usb related segmentation faults on the Darwin build of `go-ethereum`. This should be backported to 17.09 when merged. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [x] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ec331755d349494b543fcedca01951ac60994bbf::
https://api.github.com/repos/NixOS/nixpkgs,29795,update-chromium::master,0,merged,1.severity: security::8.has: package (update)::,"###### Motivation for this change Stable updates; please backport update commit CVE-2017-5121 CVE-2017-5122 ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",6fec1bc117c9cd2dd9b8bee6561d96deda394ea6::4627547589484f8fd334d7101fa2cdb081e6af49::
https://api.github.com/repos/NixOS/nixpkgs,29484,internetarchive::master,0,merged,,"###### Motivation for this change fixes build failures. Tests are disabled because they fail when trying to Popen the `ia` binary that's installed. If I disable tests, I can manually run the `ia` binary without any issues. Happy to enable tests if someone can point me in the right direction to make the binary exist when the tests run. Adds backports.csv and schema modules from pypi as dependencies. related to #28643 ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c8f55331df053170885b62d92d03dca0d09aeabe::d8848c0202e06b23953754446d900fd021fd6080::80625b6012637544a1a11567b13c8361d4bb9266::
https://api.github.com/repos/NixOS/nixpkgs,29419,fix-wrapGAppsHook::release-17.03,0,closed,,"Cherry-picked from 2cd342cfb361cfa6413e6612028997079c2fa9ed ###### Motivation for this change fixes issue #25756 for 17.03, which has not been backported yet original commit message below ----------------------------------------- This change fixes several defects in the way `wrapGAppsHook` selected the executable to wrap. Previously, it would wrap any top-level files in the target `/bin` and `/libexec` directories, including directories and non-executable files.  In addition, it failed to wrap files in subdirectories. Now, it uses `find` to iterate over these directory hierarchies, selecting only executable files for wrapping. ###### Things done Cherry-picked commit, built emacs and tried out hexl-mode, which workds now.  ~Have not tested any other build~. Also built a firefox, seemed to work fine. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",48786c19fe8304fff5b3f099c0bf53f104786ca7::
https://api.github.com/repos/NixOS/nixpkgs,29335,update-chromium::master,0,merged,1.severity: security::8.has: package (update)::,"###### Motivation for this change security update, please backport CVE-2017-5111 CVE-2017-5112 CVE-2017-5113 CVE-2017-5114 CVE-2017-5115 CVE-2017-5116 CVE-2017-5117 CVE-2017-5118 CVE-2017-5119 CVE-2017-5120 includes https://github.com/NixOS/nixpkgs/pull/28857 ###### Things done **Building right now, at about 60%** - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Just `$libExecPath` is enough, because it [already contains `chromium`](https://github.com/bendlas/nixpkgs/blob/7b866fdff90c6400e3c82c45e7390adc4563eb91/pkgs/applications/networking/browsers/chromium/common.nix#L86), the reason this was `$libExecPath/swiftshader` is that `mkdir -p` already creates parent directories, which then includes `$out/libexec/chromium`.::Is this no longer needed? Does WebGL work for you?::Ah, sorry... missed your comment about swiftshader being integrated, nevertheless, please try if WebGL works, because we had that broken a few weeks ago already.::yeah, that `cp` broke the build (because the source folder was empty), so I removed it. in research, I found that thing about swiftshader being integrated and it figured. I'll try WebGL, as soon as the build finishes.::In my last build, I had shortened it to `mkdir -p ""$libExecPath""`, and the `installPhase` broke due to that directory missing. I changed it to this version, `nix-shell`ed into the `--keep-failed` chromium build, ran `out=/tmp/out; sandbox=/tmp/sandbox eval ""$configurePhase""; eval ""$buildPhase""; eval ""$installPhase""; fixupPhase` and got, what looked like a good build in `/tmp/out`. I'm re-running build now, at `[21185/27987]` to verify. I'll probably check back tomorrow.::oh .. I only saw `already contains chromium` now .. that seems fishy ...::you're right, I probably interpreted the build error wrong, and it actually broke because of the spurious ` `, I had left in before: https://github.com/NixOS/nixpkgs/pull/29335/commits/209b9e88df6c9802185cfe004d821dfcaf1992ad#diff-69a3af1d07b37077e7dd11ccc8f9b61eR15::",73af0b1696c58983849b4df4b55da7f07335b5be::2773508b5d2de099511e42b9683d94c676f4689b::209b9e88df6c9802185cfe004d821dfcaf1992ad::7b866fdff90c6400e3c82c45e7390adc4563eb91::6141d8e6fdc17b3937011368a36a098b8cb99403::
https://api.github.com/repos/NixOS/nixpkgs,29302,pr/dockerpull::master,0,merged,,"###### Motivation for this change Fixes #29271 Before this patch, a VM was used to spawn docker that pulled the VM. Now, the tool Skopeo does this job well so we can simplify our dockerTools since we doesn't need Docker anymore:) This also fixe the regression described in https://github.com/NixOS/nixpkgs/issues/29271 : cntlm proxy doesn't work in 17.09 while it worked in 17.03. Note Skopeo doesn't produce the same output than docker pull so, we have to update sha. ###### Things done Successfully run: ``` nix-build ./ -A dockerTools.examples.nix && docker load -i result ``` And also the ubuntu:latest image. <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Does ""latest"" really make sense as a tag to use here? I know you're just carrying it over from the previous version, but it seems like a recipe for distributing unreproducible code: I use `imageTag = ""latest"";`, set the sha256 I get, and then as long as it stays in my store, I don't think about it for a while. I push up the code to my colleagues who don't share my store, and they pull `latest` and get a different image. If anything I'd try to actively discourage folks from using `latest`. That might be a topic for a separate review though 😄 ::I fully agree with you. Since this PR will be backported into 17.09, maybe it would be better to minimize changes. So I could open another PR to remove the default ""latest"" value and go further. It's possible to pull image by using the image digest (immutable): https://docs.docker.com/engine/reference/commandline/pull/#pull-an-image-by-digest-immutable-identifier Moreover, this is supported by Skopeo. So maybe we could add a `digest` argument and print a warning if the user uses the tag. I'm not sure that removing the tag argument is a good idea because it's not easy to find the digest of an image (I was not able to find it on the docker hub...). ::Being able to pull by the image digest, previously called `imageId` in `dockerTools`, is what my team has been using. The change earlier this year repurposed `imageId` to what it is now, which is not nearly as useful and has prevented us from updating `nixpkgs` on our projects. I am in favor of changing `imageId` back to what it meant before the change use a VM.::@purefn is there an open issue for that? We shouldn't be breaking interfaces without providing reasonable alternatives, at least::@copumpkin Sadly, no. I had run into another issue with that commit, #27294, and thought when that had been fixed it fixed our only issue. I tried it and encountered more problems, but didn't  get to in any further until just recently.::Can we come to a decision and get this merged and backported? My $0.02 is I think it is important to be able to pull by digest. This tooling has been largely broken forever. I'm not convinced too many people are depending on it.::@grahamc we depend on digests but I think we agree that this PR is better than the current state.::I think this is not relevant to this improvement.::Thanks. And I've open #29505 to continue the discussion :)::",5570e0bd2af690701323349573872ed84d5705a4::e5e70cb515102f0a443b593cb0fe55860070eb4e::
https://api.github.com/repos/NixOS/nixpkgs,29105,update_gdb::master,0,merged,8.has: package (update)::,"See http://lists.gnu.org/archive/html/info-gnu/2017-09/msg00005.html for release information. This is mainly a maintainance release, it sould probable be backported to `release-17.09`. ###### Motivation for this change ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0705717f90a9f3a78d3e8a2cf42583e2cd87e215::
https://api.github.com/repos/NixOS/nixpkgs,29023,deps-reorg::staging,0,merged,6.topic: cross-compilation::,"###### Motivation for this change These dependencies were improperly classified. There's no symptoms today, but when I change the propagation logic those packages would break. With this change they ought to work before and after. ###### Things done The https://hydra.mayflower.de job didn't quite finish, but I consider this good enough to merge to staging. I'll retarget this branch for the 17.09 backport next, where we'll be more careful. - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - So far so good https://hydra.mayflower.de/eval/1512 - Built stdenv with downstream PR on platform(s) - [x] NixOS - [x] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",252b36a28db1dd9036cfcbfbaa64b63e6ea5655a::9626ffbf14981b7ab618ef85a8ef6ee917d13df4::
https://api.github.com/repos/NixOS/nixpkgs,29009,python-fixes-2::master,0,merged,2.status: work-in-progress::6.topic: python::,"###### Motivation for this change Continuation of https://github.com/NixOS/nixpkgs/pull/28884. These fixes will also need to be backported to 17.09. ###### Things done <!-- Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. --> - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::``` checkInputs = [ pytest mock ]; ```::``` checkInputs = [ pytest pytestrunner mock ]; ```::Archlinux seems to have banned `certifi` from their core repos as it introduces a new ssl trust store. (But this is just an unrelated issue)::That's indeed a bigger issue. Would be nice to see a RFC on how we are going to handle certificates. I think some choices were made but they're not documented.::cc @fpletz @grahamc ::",4c183f4b42a6eed0adfcec5d8285052cb235a31a::ea0c1c1bfd8defe02788644dae3acc5a5672830b::eae28752a8fd1ad70d73c19c03a8fc7d42bdf1d2::cec4dcb7bbfb6c81b99bd4b5d113fdb2351b0f35::f31c6c150a714f4ceb7bc27b416f0c104ab560ca::712942dea39cb4e4c5f316a9847c0f08c5af2239::f89fd55833c0a74e4f4791d497e559d91e9be95e::6d9ec9efcf5d7deb136778affdc9b90df7c2c499::4fe7f3e56154f3f08992c121d58d49936dd1eec2::3909871991bb346fe659846a077d779b1be6b2f1::c7031704f53c68e2f4b4afeb3cd6eb373a7949d0::0b2fc117c1a8406c1c9b3815bb49ce0c9ba4afff::b80cb36cde2e2460674ee6cb4514550f7df00676::28e186f42937da94278e7c53e92cb12e454ba0f0::48855344c4fb9773c444b1753fa1f0dc7ee9544f::f69a072f5b5038d2393abac581991baef4c244df::e55f5fe4bc1701978ec2b5f85a92acd35b5335b7::d18f4dcba36167b5dbe9332aa7f56bc26a12c4f1::3ac8eed5fd6d7c746628eda2c9af0a0b59815a3e::63d57bf246f9646922cc28c05d49c10331ca7662::d3fc82d81b8d452b5e67dbe48f749be3e9294555::b696d6c90db5ebb40cd4b9a9d58f2cadd4441267::7a337231552d90c6c91ac4bc1edd4950b5d8c5ef::820aa5fef983c50f83fd05664fe66cf705194290::4b4e05c6ec4f4589a98bb0523ad78a4cdcd89268::007313d044b39a03e3c8ea896cdddf52cf884b59::3836ee50e335638d14ff579e04bb9b69922e8d96::7e7f91d23abc690753b834cac4119841cbfa60ee::4934a4d553843c1fb2bef1fb9075c0e7d86d455c::f06d7bd1251e69c746761011f21ad849316f550f::83dbb41aed4033318eb83f3897a22816a6943a14::637ccde4354e5991106a6e35c9c6c451bda27be4::2c3cc4e921a22c68098e8d1c3089316c4b7ac011::a602e1aa7061c2dfc1e348863f655c749db32fa9::90433ed831e8ec58a5a803ad5f923c7e2fcbd894::1b9615e62cf5c01961039bfd0fe9478e71a7cc59::a869636e54e71fcb18db96ebd255b1bc9582ebfb::70de5af18cfc8c5c9a9f63e0316ca29fbf881440::2489a0aca7efde1f2c983cf7a0cab81c01f6cda6::d51bd3664652d7614a42b1747cab4577a65b703c::49ce901f119db06a237a9bad36a1d45d82949b98::b00be43cdfa323bb52ca1b7a0271bcdd7bc2e272::79257d28e8c8dc3474a620e538041883e73134fe::d45e554457b934814a2306d96db7eee58887511b::785d7f2349642f8130b185bbc86c3c3f4ce7ecc2::c7299ea37b13192808f265524b127f7139c56277::6bbc2e09da03f7b49794b3381c2baeb62ac62f24::c4ec44e4d72d7a5a4c6670a4feb59de4df8516d7::b1504b444bc72db3414b0ca095d76789f68ebcd3::6d3f5cb40906b46e9bc1ebac6b6f959a8f4f3b92::a3e524054fcb129a71c4bf35cffba67e983fe1af::5e64cc6cf0d077499b10dd40b6bd9918ebf352e2::8d7e8a6720aecd242a3d12c1a6a09b190513f1ca::a4129e7b9e598389f0cbf5b3fbdb29de062b89bf::a2b8f39d636dfc3b4411aa4bc8dd42cb07d128b8::62464e28fd41825b65819e59a86beb3788525de5::71670376bc59469cb0811878102a0a36af6d40d1::e4b94fa60f72a4e55c966f1566b5a828e7ccc5ca::4ecfeb56a78e4c9c673c2fb9e30463e41fa2b131::
https://api.github.com/repos/NixOS/nixpkgs,28458,patch-11::master,0,merged,,"`ruby` attribute requires features from 1.11 ``` $ nix-build -A ruby error: cannot coerce a set to a string, at pkgs/development/interpreters/ruby/default.nix:57:17 ``` Closes https://github.com/NixOS/nixpkgs/pull/28083 Also should be backported to 17.03.::",cc28cf11f0c09e10e55f880b876988698a98cc8b::
https://api.github.com/repos/NixOS/nixpkgs,28199,update-webkitgtk::master,0,merged,1.severity: security::8.has: package (update)::,"see: https://webkitgtk.org/2017/07/24/webkitgtk2.16.6-released.html Security fixes: CVE-2017-7039, CVE-2017-7018, CVE-2017-7030, CVE-2017-7037, CVE-2017-7034, CVE-2017-7055, CVE-2017-7056, CVE-2017-7064, CVE-2017-7061, CVE-2017-7048, CVE-2017-7046. ###### Motivation for this change Security update, please backport ###### Things done ## Build currently running, configure phase works ... - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",8dc0b5b8c7be4457698764ac8d6420508e9d448b::
https://api.github.com/repos/NixOS/nixpkgs,27872,update_freerdp::master,0,merged,1.severity: security::,"Fixes multiple security issues: * TALOS-2017-0336 CVE-2017-2834 * TALOS-2017-0337 CVE-2017-2834 * TALOS-2017-0338 CVE-2017-2836 * TALOS-2017-0339 CVE-2017-2837 * TALOS-2017-0340 CVE-2017-2838 * TALOS-2017-0341 CVE-2017-2839 See http://www.freerdp.com/2017/07/24/freerdp-security for announcement. This will also have to be backported to `release-17.03` I think. ###### Motivation for this change ###### Things done Please check what applies. Note that these are not hard requirements but merely serve as information for reviewers. - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::how about changing to `2.0.0-rc0`?::",7d92728592996e9c3fff82ff9905c7af66873c40::
https://api.github.com/repos/NixOS/nixpkgs,27636,update-pypy::master,0,merged,,"this commit includes a patch, backported from master, to skip a failing test ###### Motivation for this change maintenance ###### Things done Please check what applies. Note that these are not hard requirements but mereley serve as information for reviewers. - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::The packages set is an attribute of the interpreter, `python`. Please use that instead.::Maybe its good to use `python.withPackages` here so that its clear that `pycparser` is for that instance of Python.::",fec79a9b15b146d19ceb1ee724efd416eac8862a::189bba047e0415e95916222933b7ecab87d988bc::
https://api.github.com/repos/NixOS/nixpkgs,27435,oauth2_proxy::master,0,merged,0.kind: bug::8.has: module (update)::,"###### Motivation for this change Syntax errors prevented important parameters from being passed to `oauth2_proxy`, which could have permitted unauthorised access to services behind the proxy. It would be nice if this was backported to 17.03. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4e4bcc6c7e4f73f0440d9389e4864c7348381506::
https://api.github.com/repos/NixOS/nixpkgs,27399,update-chromium::master,0,merged,8.has: package (update)::,"use several system libraries instead of bundled see http://www.linuxfromscratch.org/blfs/view/cvs/xsoft/chromium.html ###### Motivation for this change Security update and build fix please backport to stable ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::`libpng` and `libjpeg` is not yet integrated?::They are both causing build errors. If somebody were to fix and integrate them, that would be awesome.::",cc583b75fb4241cb7b6e005942fc928f64f60a5b::
https://api.github.com/repos/NixOS/nixpkgs,27390,chrome-17.03::release-17.03,0,merged,,"###### Motivation for this change https://github.com/NixOS/nixpkgs/issues/27241 chrome / chromium versions >= 59 are currently not functional on the release-17.03 branch. On release-17.03 this only impacts beta and dev variants. This is an attempt to backport, and adapt if necessary, a minimum set of changes from unstable to address the issue. I need to note that I'm quite new to Nix ecosystem and it's first time I'm working on chrome / chromium expressions, or anything related to those packages in general. Rough overview of changes / commits as they currently stand: Changes backported from unstable: - 9872fb2 cherry-picked from unstable, introduces initial support for gtk3 in chrome / chromium. - aa0654b cherry-picked from unstable, https://github.com/NixOS/nixpkgs/pull/26512 - 58d7712 Removes a patch that's no longer needed for 58.x.x.x, and breaks chromium build for 59.x.x.x. This has already been implemented in unstable as part of https://github.com/NixOS/nixpkgs/commit/74fd4de95679bddaae7c1c6c58432c5bc207fc41#diff-f286bd0559a1a8a82983af7fe0830d69L137 Changes to adapt those to release-17.03: - 1e95dcd - beta and dev variants would fail to build when using system versions of libxml2 / libxslt. This has been addressed in the commit referenced above (https://github.com/NixOS/nixpkgs/commit/74fd4de95679bddaae7c1c6c58432c5bc207fc41#diff-f286bd0559a1a8a82983af7fe0830d69L137) Unfortunately this required a manual bump of beta in `upstream-info.nix` as beta wouldn't build at all, either using system or bundled versions of the libraries. - 7c661d1 - addresses issue of chrome / chromium not being able to save its settings. This one I'm unsure of as it seems unlikely this wouldn't have been caught in https://github.com/NixOS/nixpkgs/pull/26512 referenced above. And yet settings would be lost for me upon a restart of the programme without this change. I don't run a desktop environment such as GNOME which could be relevant, or perhaps it's related to some other changes that are present in unstable but not in release-17.03 - 517e23a - I suspect this isn't an issue on unstable, when resolving the `defaultIconTheme` attribute it may refer to either `gnome2.defaultIconTheme` or `gnome3.defaultIconTheme` depending on whether browser version is >= 59. Since on unstable all of them satisfy this condition it will always be `gnome3`, on release-17.03 where the stable version are 58.x.x.x.x it resolves to `gnome2.defaultIconTheme` attribute which doesn't exist. `nixos/tests/chromium.nix` test passes for all chromium variants, brief user testing shows all browsers to be functional, and issues from https://github.com/NixOS/nixpkgs/pull/26512 appear to be addressed. ###### Things done - [x] Tested using sandboxing  ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file)  on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",9872fb2768db1045723b45f2ae8915be3657c3dd::aa0654b2930412684652aebd3ef446c8c75e19bc::58d77124139f732a35b105216db0453135c7c57b::1e95dcd673e0c9a45ac0c849a14fe25b3d18752c::7c661d15dd51cc3d2e401f5d9f81df67e652be33::517e23ad39cf2533811a9879b949723ded7f0d6f::
https://api.github.com/repos/NixOS/nixpkgs,26969,update_libgcrypt::master,0,merged,1.severity: mass-rebuild::1.severity: security::,"See http://lists.gnu.org/archive/html/info-gnu/2017-06/msg00016.html for release information This should be backported to `release-17.03`. ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] Linux - [ ] Tested via one or more NixOS test(s) if existing and applicable for the change (look inside [nixos/tests](https://github.com/NixOS/nixpkgs/blob/master/nixos/tests)) - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",9a9294a9707f1a9268331fa79583ead19ce5e130::
https://api.github.com/repos/NixOS/nixpkgs,26713,llvm-config::staging,0,closed,,"llvm-config is a tool to output compile and linker flags, when compiling against llvm. The tool however outputs static library names despite libllvm is build as shared library on nixos. This was fixed for llvm 3.4, 3.5 and 3.7. For llvm 3.8 and 3.9 it printed the library extension twice (.so.so). This was fixed in 4.0 and the patch is backported to 3.8 and 3.9 in this pull request. ``` $ for i in 34 35 37 38 39; do echo ""\nllvm-$i""; nix-shell -p llvmPackages_$i.llvm --run 'llvm-config --libnames'; done llvm-34 libLLVMInstrumentation.so libLLVMIRReader.so libLLVMAsmParser.so ... llvm-35 libLLVMLTO.so libLLVMObjCARCOpts.so libLLVMLinker.so libLLVMipo.so ... llvm-37 libLLVMLTO.so libLLVMObjCARCOpts.so libLLVMLinker.so libLLVMBitWriter.so ... llvm-38 libLLVM-3.8.1.so llvm-39 libLLVM-3.9.so ``` cc @vcunat @dezgeg ###### Motivation for this change ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [x] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",84cd65af74432b2fef4dd36e07562641250eb8a7::
https://api.github.com/repos/NixOS/nixpkgs,25998,fix/25139-ghc-warnings::master,0,merged,6.topic: haskell::,"###### Motivation for this change Fixes NixOS/nixpkgs#25139 by backporting patch applied in ghc trunk: https://phabricator.haskell.org/D2823 ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [x] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",2ae46bc163512b3eecb60d70866d4ff19dac82bc::d45aff53276d263ff1df73c001873f0ed64bffd3::
https://api.github.com/repos/NixOS/nixpkgs,25673,pycharm-2017.1.2-master::master,0,merged,,"###### Motivation for this change PyCharm was updated with a new release 2017.1.2. The commits here are pretty much minimal - just version and sha256 updates. There's one thing, though - URL for pycharm-professional 2017.1 currently [responds with 403 error](https://download-cf.jetbrains.com/python/pycharm-professional-2017.1.tar.gz) for some reason (no issues for pycharm-community, that one works), which currently breaks `release-17.03` if someone has `idea.pycharm-professional` in their `configuration.nix`. So, I'd ask to please backport the changes to 17.03. This could be slightly inconvenient, as the directory was renamed since then (from `idea` to `jetbrains`), so unless that change is also merged there probably will be a merge conflict. To save time, you may want to check my branch [`pycharm-2017.1.2-release-17.03`](https://github.com/drdaeman/nixpkgs/tree/pycharm-2017.1.2-release-17.03), which does similar changes from current `release-17.03` branch. Please tell if you'd want me to make a PR for this. Thanks! ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",3f61b9bc241a00d545ef6fb1d47bbec96d7a8ece::ef88de3bd50c733dd3a7dc9dd03ef66135b29d5d::
https://api.github.com/repos/NixOS/nixpkgs,25571,intero-nix-shim::master,0,merged,,"###### Motivation for this change @shlevy, in the initial PR, #24853, I forgot to include this part: https://github.com/michalrus/intero-nix-shim/blob/72677fb3a9f475f7f53715b18dc251ed83026410/default.nix#L13-L17 Partly due to “copying code” (having similar `default.nix` in both repos) and forgetting to retest it, but that’s no excuse, I’m terribly sorry! :crying_cat_face: Do you think you could backport this to 17.03 as well? Without those two links, the version there is useless. ###### Things done - [x] Tested using sandboxing - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",6aefa13156c2a6a306e6474f35d56dc2c35f0619::
https://api.github.com/repos/NixOS/nixpkgs,25555,elasticsearch_kopf_2.1.1::master,0,merged,8.has: package (update)::,"###### Motivation for this change Version 1.5.7 is not working with elastic 2.x ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::does this also needs to be back-ported?::As elasticsearch 1.7.x is EOL (as of 2017-01-16, before the release of 17.03) I do not think a backport is needed.::Ignore my last comment. Got confused for a moment. We should backport this to 17.03 ::",91d25ba1bd9e52ac9240697a0765a0811fbf8bc9::
https://api.github.com/repos/NixOS/nixpkgs,25243,update_channels::master,0,merged,6.topic: python::8.has: module (update)::,"###### Motivation for this change Sorry for the amount of changes in one PR, updating one component triggered many required related updates. Some package have invalid syntax for python3 and caused `nox-review` to failed. I have disabled them for python3, to get nox pass properly. cc @FRidh ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] Linux - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Why are you disallowing python2.7 here? The upstream package claims Python2.7 support. This breaks any python package that depends on 2.7 and autobahn.::You are right, this is missplaced. This should be  in `pytest-asyncio` which is python3 only. But the problem will remain, tests cant pass for `autobahn` for `python2`. I have opened a PR to fix it and build autobahn for `python2` while skiping tests (#25460).::I'm not that familiar with asyncio, but the upstream package uses trollius, which claims to be a backport of asyncio. Wouldn't that work here?::Yes, but tests will run `pytest-asyncio`, which contains code with python2 incompatible syntax (and incompatible language anyway). This is different from runtime dependencies needed to run `autobahn`. It might well work with python2 install but we cannot check it with the provided test suite. I am updating to the recent release of autobahn and fix runtime dependencies.::",91b5290412bf2c3d386bf8b0ce0adcb33c1a008d::687fe19a04375e432b9baa9115a17255d1b3c458::df79a196386b210a8bc1508471f420c28cf05edb::0743b0fb6e07e5893b4db72bfbf0f22e99e66acb::63fd2c7e622423aeb230b34155d48794d174f7cf::b1d16c731f177b4b9d3bde044218fc64f2cee99b::db0627336e30b1035bf2b9ab9cacee8bd95aa9e8::c76792018922ea0b0e4bbb2e9e620493fc6ca9a3::d965c8e6e98be22b01ba2e1716093d989651e57f::528a4520430dceb34a510377e36bd2fca4a7fc35::519d3d04511b2bb705f9412b8fd328bfecb65808::6bf20f95d9255d9027fe4cc5351c2d37b2e34741::3e06c611da05a712f5637713727b4cb6e8f31063::578e1cef9376aa418994b4177243b26117e76d55::068b46d576737cc1f8c57c140171c4055a21eceb::
https://api.github.com/repos/NixOS/nixpkgs,24978,zraexy-grub::master,0,merged,,"###### Motivation for this change https://nixos.org/nixos/options.html#boot.loader.grub.efiinstallasremovable currently errors and fails to display option info when clicked on. Adds missing opening tag for the first paragraph and closing tag for the last one. This should be backported to 17.03 ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c2b56626f1a872d06642777193b72d6473c8b97c::
https://api.github.com/repos/NixOS/nixpkgs,24875,update-fava::master,0,merged,,"###### Motivation for this change New versions. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Attention: This update of `beancount` deprecates the pipe syntax. Beancount prints warnings for this, so this shouldn't be a problem. Though, we might not backport this to nixos 17.03!::",e8014ce2438ab04852db504b2a8f84d7bbf3582a::3d04aafffd1707c21bfc056b6d2f8f3efd66d843::
https://api.github.com/repos/NixOS/nixpkgs,24848,master::master,0,merged,,"###### Motivation for this change Needed to upload some stuff to Google Drive, didn't find gdrive in nixpkgs, created a package, installed it, it worked, thought ""why not add the package?"". ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS (17.09pre102667.2839b10) - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). This package should work in macOS too, but I have not tested it on macOS, therefor I added `platforms.linux` Running this script in the root of the nixpkgs project: ```bash #!/usr/bin/env bash set -e nixpkgs_root=$(pwd) tmp_shell_file=$(mktemp) cat <<EOF > ""$tmp_shell_file"" { system ? builtins.currentSystem }: let pkgs = import <nixpkgs> { inherit system; }; in pkgs.callPackage ""$nixpkgs_root/pkgs/applications/networking/gdrive/default.nix"" { inherit (pkgs); } EOF nix-env -i -f ""$tmp_shell_file"" gdrive version rm ""$tmp_shell_file"" ``` Should result in the following output: ``` installing ‘gdrive-2.1.0’ building path(s) ‘/nix/store/fa7vcac8fgg6dg2bgk3kwm7n9m2gggry-user-environment’ created 1125 symlinks in user environment gdrive: 2.1.0 Golang: go1.7.4 OS/Arch: linux/amd64 ``` I tested running the list command against a newly created google account. After authenticating it worked: ![2017-04-12-184410_1364x729_scrot](https://cloud.githubusercontent.com/assets/766350/24969916/b94fdf8e-1fb2-11e7-90d9-197314d53f43.png) I have also successfully uploaded files.::Do you want to maintain this package?::@Mic92 Yes! I'm not part of `nixpkgs/lib/maintainers.nix`, should I add myself in a separate PR?::Just do it in this one.::IMHO, preferably in a separate commit. So commit 1: add lib/maintainers.entry, commit 2: add package using your new entry in maintainers.nix. Reasoning: sometimes when backporting to the stable branch, it's nice if the maintainers entry is decoupled from other changes.::",3e915ae9950128e3bdb9881c02c223a13097904c::e9380248dd93cf1c7d2f09427c788a2552b2cc12::
https://api.github.com/repos/NixOS/nixpkgs,24679,django_security_fixes::master,0,merged,1.severity: security::,"###### Motivation for this change A batch of security fixes for various django releases. See https://www.djangoproject.com/weblog/2017/apr/04/security-releases/ I will backport those to `17.03` and probably `16.09` once accepted. ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",af603753926dd2c2997be2d58165f4c3c4c3070f::3f401926f955963e110e16101d25d2f3d35448f5::c6bc54e319f0ac88a8d0db2ffbe6621aac2ba778::
https://api.github.com/repos/NixOS/nixpkgs,24515,doc-remove-indentation::master,0,closed,,"###### Motivation for this change The standard in XML doc files in nixpkgs is not to use indentation. The files changed by this commit were found by browsing the NixOS manual and spotting odd indentation in command listings, as well as spurious new lines at the end of such listings. This commit should fix all these problems in the NixOS manual. ###### Remarks - ~~This is going to seem odd but I did not test the resulting generated doc, even though I'm pretty sure that my fix is correct. So before merging this patch, someone should test this or instruct me on how to test.~~ I did test it following instructions found in the manual and I can confirm that the fix is correct. - A lighter fix would have been to remove the indentation only for `<programlisting>`. Since the standard seems to be ""no indentation"", and in order to remind people not to use indentation, I rather chose to remove it entirely from the incriminated files. - If the patch is considered OK, it should be merged quickly (and probably backported to 17.03) because it is likely to create a lot of merge conflicts if we wait too long and other people propose other improvements to the affected files.::",bbaefeefe4b9e6951a262a3a406b529c6edf0d9e::
https://api.github.com/repos/NixOS/nixpkgs,24440,release-16.09::release-16.09,0,merged,1.severity: security::8.has: package (update)::,"###### Motivation for this change Security fixes. Includes backport of fix to make patchPhase work again. cc @joachifm @aszlig @grahamc ###### Things done Build in progress. Patch Phase + Configure Phase works - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",771104fb65b48e41c92c53c6b7e1da2a8ab3b904::e7422c334df927837d49d5f90db024ac1b8e9203::f5e858db08b9daa178b88e24cf984405e64ce10d::
https://api.github.com/repos/NixOS/nixpkgs,24208,update_django_1_10::master,0,merged,6.topic: python::8.has: package (update)::,"It should probably be backported to `16.09` and `17.03`. ###### Motivation for this change This is a bugfix release. ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] Linux - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d284e37a59ef759b1bdca7f92f8b0278d6a70ad0::
https://api.github.com/repos/NixOS/nixpkgs,23992,kde-applications-16.12.3::master,0,merged,6.topic: qt/kde::8.has: package (update)::,"### Motivation for this change Routine package updates. ### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- I will need to backport this to release-17.03.::",06ece41778ff3c06dbb4fad0f87e888ca6c9889d::
https://api.github.com/repos/NixOS/nixpkgs,23913,release-16.09::release-16.09,0,merged,8.has: package (update)::,"###### Motivation for this change Latest Sublime Text 3. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- I wasn't able to find a policy on backporting, though I've seen that Dropbox is being constantly updated in stable branches. Am I supposed to update older stable branches too, and have I done the backport itself correctly? Is there a better approach than [this](http://jasonrudolph.com/blog/2009/02/25/git-tip-how-to-merge-specific-files-from-another-branch/)? I haven't tested yet, just looking for feedback.::Why?::This is a common alias also found in other upstream packages (Mac OS X).::",59282e158af775b5d945adb78875583c0e56c686::
https://api.github.com/repos/NixOS/nixpkgs,22891,gnupg-scdaemon-fix::master,0,merged,,"The use of smartcard functionality for yubikeys (and presumably other usb smartcards) was broken in gnupg 2.1.18.  This has apparently already been fixed in gnupg master, and debian backports the included patches for 2.1.18. See also: https://bugs.gnupg.org/gnupg/issue2933 https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=852702 https://github.com/NixOS/nixpkgs/pull/21991 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Can we maybe fetch these patches from gnupg's version control system instead of adding them to nixpkgs?::@fpletz  While I can find the ""Fix-use-case-of-PC-SC"" commit in the gnupg repo, I can't find the ""Backport two fixes from master"" patch in the gnupg repo---probably because the changes in that patch were spread across other commits in master.  I've opted to fetch these patches from a debian source. Let me know if you'd prefer something else.::",d0da72968cd5d101a1180dd5e9b0bcdcae8e6150::f0b78c74e289b9d7f5e77a5ca167d32ad2dc949c::
https://api.github.com/repos/NixOS/nixpkgs,22539,zfs-backport::release-16.09,0,merged,,"###### Motivation for this change SPL 0.6.5.8 fails to compile with Linux 4.9.  This change is a backport of #22428 to NixOS 16.09. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",36ddbebac4c60fd13287649ad7b42a4fb3d27436::18c0925b48c7a0e0a4916bd583c3e9af03f452cd::
https://api.github.com/repos/NixOS/nixpkgs,22393,u/fix-pam-oath::master,0,closed,,"###### Motivation for this change When setting `security.pam.services.sshd.oathAuth = true` in `configuration.nix`, instead of activating 2nd factor authentication, it seems that the OTP ends up replacing the password authentication, i.e., it ends up turning off 1st factor authentication. This has been better described in #14997. With NixOS 16.09 plus this change, it seems that #14997 is fixed and the OTP now works properly as a 2nd factor. I wasn't able to login anymore by entering an incorrect password followed by a correct OTP. Please note that I am not a security expert and I'm much less of a PAM expert, so I am not 100% sure that this is the correct way to fix this issue. That said, it seems to work for me. It might be a good idea to backport this to 16.09. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5b5d13ccf7c6737a6bedf4c086bb13b1f662163f::
https://api.github.com/repos/NixOS/nixpkgs,22206,firefox-51.0.1-backporting::release-16.09,0,merged,,"(cherry picked from commit 0dbe492ca9c791f5bb939faf33f10aec919dc5b9) `firefox-bin` 51.0 was not backported. This PR will update both `firefox` and `firefox-bin` to 51.0.1. ###### Motivation for this change ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",c9ed14928d2541995b9b460a592b0c6364b88ee7::
https://api.github.com/repos/NixOS/nixpkgs,21942,bump-16.09/monero-0.10.1::release-16.09,0,merged,,"###### Motivation for this change backport #21941 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",9b74a71ac686bf1faae7252cc71cca40162bc060::
https://api.github.com/repos/NixOS/nixpkgs,21941,bump/monero-0.10.1::master,0,merged,,"###### Motivation for this change there was a recent hard-fork in monero and 0.9.4 can no longer sync the new chain properly. will need to backport this to stable. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",62290c283adcff93a5e12cdd6d3dde4e97e04f1a::
https://api.github.com/repos/NixOS/nixpkgs,21778,flashplayer-24.0.0.194_test::master,0,merged,,"###### Motivation for this change The binary is updated but the release notes are not updated yet. We can merge this to the master but maybe we should wait for the release notes before backporting. http://www.adobe.com/software/flash/about/ https://helpx.adobe.com/flash-player/release-note/fp_24_air_24_release_notes.html https://helpx.adobe.com/security/products/flash-player.html ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",ce11097b712c9415952a5bd6fce6184c7b923c20::
https://api.github.com/repos/NixOS/nixpkgs,21675,update_django_1_10::master,0,merged,6.topic: python::8.has: package (update)::,"See https://docs.djangoproject.com/en/1.10/releases/1.10.5/ for release notes. ###### Motivation for this change `django_guardian` fails to build both before and after the update. I’ll look into that ASAP fix it. The 1.10 series is part of `16.09`, I think this update should be backported. cc @FRidh ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] Linux - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",bd0d567d47d3b739906f43b42259967e8273f87e::
https://api.github.com/repos/NixOS/nixpkgs,21585,update-chromium::master,0,merged,,###### Motivation for this change security update please also backport to stable ###### Things done - Built on platform(s) - [x] NixOS - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::,08121638f8b0ef0725a1913e5b0cf33eac3d5bc7::
https://api.github.com/repos/NixOS/nixpkgs,21543,flexget-html5lib-1.0b9::master,0,closed,6.topic: python::9.needs: port to stable::,"html5lib 1.0b9 made a breaking API change that requires beautifulsoup 4.5 or newer, which would require upgrading flexget to support. ###### Motivation for this change Fixes #21542. Turns out 1.0b8 is already packaged, so use that. Should also be backported to 16.09. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",22ba21e5a9ce6fb6730a92c3edea1b82fe9e81df::
https://api.github.com/repos/NixOS/nixpkgs,21175,nss::master,0,merged,,"###### Motivation for this change fixes libnss_myhost, libnss_mymachines, libnss_resolve are located here. Maybe requires a backport? ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f04206686a341c37ff2c9a2e92f110a08e9cfb1c::
https://api.github.com/repos/NixOS/nixpkgs,20996,libdwarf-soname::master,0,merged,,"###### Motivation for this change libdwarf sets its soname to libdwarf.so.1 so anything that links `-ldwarf` is built to actually link against libdwarf.so.1. Install the versioned shared object and symlink libdwarf.so to it so binaries that link against libdwarf can be loaded and run successfully. Fixes #20994. Should be backported to 16.09. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] macOS - [x] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md).::",6e6b5e124f1802b43946a97f3e9ed188e5a9cef5::
https://api.github.com/repos/NixOS/nixpkgs,20910,wp::master,0,merged,,"###### Motivation for this change First ""proper"" release. I'll do a backport for 16.09 as well. ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",9471411a3cde9d15adc55c69b0c75bbcb44bd2fa::
https://api.github.com/repos/NixOS/nixpkgs,20763,update_nagios::master,0,merged,1.severity: security::,"###### Motivation for this change Nagios update contains many security related fixes (see https://www.nagios.org/projects/nagios-core/history/4x/) . 5b6d52b should probably be backported to stable. Nagios version 4.2.0 fixes: - CVE-2008-4796 - CVE-2013-4214 Nagios version 4.2.2 fixes: - CVE-2016-9565 Nagios version 4.2.3 fixes: - CVE-2016-8641 ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] Linux - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Does something about the patch for the CVE involve needing unzip? This is fine of course, but looks a bit like a mistake.::I do not think that unzip it is related to the CVE: ```bash $ nix-build -A nagios … gcc -Wall -I.. -g -O2 -DHAVE_CONFIG_H -DNSCGI  -o summary.cgi summary.c ../common/shared.o getcgi.o cgiutils.o cgiauth.o macros-cgi.o  objects-cgi.o xobjects-cgi.o statusdata-cgi.o xstatusdata-cgi.o comments-cgi.o downtime-cgi.o ../lib/libnagios.a gcc -Wall -I.. -g -O2 -DHAVE_CONFIG_H -DNSCGI  -o tac.cgi tac.c ../common/shared.o getcgi.o cgiutils.o cgiauth.o macros-cgi.o  objects-cgi.o xobjects-cgi.o statusdata-cgi.o xstatusdata-cgi.o comments-cgi.o downtime-cgi.o ../lib/libnagios.a gcc -Wall -I.. -g -O2 -DHAVE_CONFIG_H -DNSCGI  -o statuswrl.cgi statuswrl.c ../common/shared.o getcgi.o cgiutils.o cgiauth.o macros-cgi.o  objects-cgi.o xobjects-cgi.o statusdata-cgi.o xstatusdata-cgi.o comments-cgi.o downtime-cgi.o ../lib/libnagios.a -lm gcc -Wall -I.. -g -O2 -DHAVE_CONFIG_H -DNSCGI  -o statusmap.cgi statusmap.c ../common/shared.o getcgi.o cgiutils.o cgiauth.o macros-cgi.o  objects-cgi.o xobjects-cgi.o statusdata-cgi.o xstatusdata-cgi.o comments-cgi.o downtime-cgi.o ../lib/libnagios.a -lgd  -lpng -ljpeg -lz -lm gcc -Wall -I.. -g -O2 -DHAVE_CONFIG_H -DNSCGI  -o trends.cgi trends.c ../common/shared.o getcgi.o cgiutils.o cgiauth.o macros-cgi.o  objects-cgi.o xobjects-cgi.o statusdata-cgi.o xstatusdata-cgi.o comments-cgi.o downtime-cgi.o ../lib/libnagios.a -lgd  -lpng -ljpeg -lz -lm gcc -Wall -I.. -g -O2 -DHAVE_CONFIG_H -DNSCGI  -o histogram.cgi histogram.c ../common/shared.o getcgi.o cgiutils.o cgiauth.o macros-cgi.o  objects-cgi.o xobjects-cgi.o statusdata-cgi.o xstatusdata-cgi.o comments-cgi.o downtime-cgi.o ../lib/libnagios.a -lgd  -lpng -ljpeg -lz -lm make[1]: Leaving directory '/tmp/nix-build-nagios-4.2.3.drv-0/nagios-4.2.3/cgi' cd ./html && make make[1]: Entering directory '/tmp/nix-build-nagios-4.2.3.drv-0/nagios-4.2.3/html' (cd angularjs && unzip -u angular-1.3.9.zip) /nix/store/mgdm9y2lhmyb74wwa42qhcl633vbwn26-bash-4.3-p46/bin/bash: unzip: command not found make[1]: *** [Makefile:20: all] Error 127 make[1]: Leaving directory '/tmp/nix-build-nagios-4.2.3.drv-0/nagios-4.2.3/html' make: *** [Makefile:75: all] Error 2 builder for ‘/nix/store/zisvfirpbs454rdskf92f31q02g3gv1b-nagios-4.2.3.drv’ failed with exit code 2 error: build of ‘/nix/store/zisvfirpbs454rdskf92f31q02g3gv1b-nagios-4.2.3.drv’ failed ``` This version seems to embed a web UI build on angularjs, and angular is embedded as a zip in the distribution. Not having it would mean that we would have to cherry-pick the security related updates from nagios-4.2.3 into nagios-4.0.8.::",5b6d52b4fb7378740d3c2e7017326a5d0f68711e::c77011c6decc989d11eef7dcbd37625c980f0790::
https://api.github.com/repos/NixOS/nixpkgs,20398,node_update::master,0,merged,,"###### Motivation for this change ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Please backport to 16.09 ::",f7e1da5fd1d7f4256ae9b1005ba4945af96cd7c9::
https://api.github.com/repos/NixOS/nixpkgs,20277,flashplayer-11.2.202.644::master,0,merged,1.severity: security::8.has: package (update)::,"###### Motivation for this change Critical security fix. Needs backporting https://helpx.adobe.com/security/products/flash-player/apsb16-37.html ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] macOS - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",823f28cd1c64f6d8257a6486c085a356445c2db8::
https://api.github.com/repos/NixOS/nixpkgs,20247,fix/download-curl::release-16.09,0,merged,6.topic: haskell::,"###### Motivation for this change `download-curl` is broken by a new version of `tagsoup` that exceeds `download-curl`'s upper bound. This change backports a minimal change from the regular Hackage import on `master`, and fixes issue #20141. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- This fixes a build failure caused by a new version of tagsoup that broke download-curl's dependency bounds Fixes issue #20141. Backports a minimal change from the regular Hackage import on master.::",d0f12576d8fa77ccedb1d1c67e2f9c41250d7005::
https://api.github.com/repos/NixOS/nixpkgs,20197,release-16.09-backport-plasma-5.8::release-16.09,0,merged,0.kind: bug::6.topic: qt/kde::8.has: package (update)::,"###### Motivation for this change Plasma 5.8 is a LTS release from upstream which will continue to receive bug fixes for the lifetime of NixOS 16.09. This is strictly a backport of patches from master. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] macOS - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",9cd06a8a47d129d19c96b1955e2333bf017bdfd2::322b0e65a602c83354a59ed72034e2824b459d7a::9c5c436a55bc4f4270b553238e7401db6daf7709::0ca368845dd5acb2fdc20125f7f8e71f3dc95a67::8dce606c72a2d36f7d7c59180a0750413c79da84::03b0810cc7069bd64fe819af0025436c5ca936a5::996d9de4741d6c285c3c5f4290ab27d2f335c0d0::899eb795878a1a53cebb925ed6c4bac50a824374::b5f4e8ec19bbaf9de9b0043f01e102044d9c8803::71b9dd9d1c87f367dd9e91e3e2af7d21fe2b7307::11a9a67787fdb0abbe3fa4f6ffe5492bc3911660::9f5a22569efd2cdaa034897fc8ef599dfdb5f910::9750f01ac48be9b8f7520e84b3b76c3671cf697b::8096c00c2f64f07b333cbaf10bf1e458d920984b::4a98dea3b32679be34ce80f2ef3c24f45d0e92bd::f6d960e381b963f3f043a5e821d5675ea33a029e::753b0f0828efcf63ca66492482abeece4c40e70b::9b282a9b3aa24a54237e54ca798cbb0181ce2a9d::a94e3bb5879756bf2bf029550716e014230d0a0f::344723265455f8290fb9e7e7fd65668a1e78970e::d4640eb56a944d65de7dc4f42165e03fb0c9d7cb::
https://api.github.com/repos/NixOS/nixpkgs,19912,flashplayer-11.2.202.643::master,0,merged,8.has: package (update)::,"###### Motivation for this change Critical security fix. Needs backporting. https://helpx.adobe.com/security/products/flash-player/apsb16-36.html ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",d19b53f8516ca6a52918f5db216bd59a3b69a1aa::
https://api.github.com/repos/NixOS/nixpkgs,19864,fix/netdata-16.09::release-16.09,0,merged,,"###### Motivation for this change backport #19861 to stable ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",0e1066e8e431a3756825cceb94381a0ba05c1a43::
https://api.github.com/repos/NixOS/nixpkgs,19783,unbound::master,0,merged,8.has: package (update)::,"Fixes a fair number of bugs, see https://www.unbound.net/download.html. Looks good to backport to 16.09 ::",0c0801e9c4857ab50c6b6f6f896e96bf55f146fd::
https://api.github.com/repos/NixOS/nixpkgs,19558,xen::master,0,merged,1.severity: security::,"###### Motivation for this change According to #xen on Freenode, it is completely unnecessary to maintain old versions like 4.5.0. We should backport to 16.09. https://github.com/NixOS/nixpkgs/issues/19481 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",4e89b237bc5fa834d11fd68d12cb007fd1b8660c::
https://api.github.com/repos/NixOS/nixpkgs,19523,containers-dev-tun::release-16.09,0,merged,0.kind: regression::6.topic: nixos::,"###### Motivation for this change This is a backport of https://github.com/NixOS/nixpkgs/pull/18822 to 16.09. Fixes https://github.com/NixOS/nixpkgs/issues/18708. Note that I haven't tested this. /cc author @wlhlm, and @danbst who is interested in this. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3ee25d42c7f705dcdeb01a3dc40c3452b18896b0::
https://api.github.com/repos/NixOS/nixpkgs,19510,nodejs::master,0,merged,1.severity: security::,"###### Motivation for this change https://github.com/NixOS/nixpkgs/issues/19481 https://lwn.net/Vulnerabilities/702896/ ### Note: Do not backport the removal of nodejs-5_x ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",f9df1b5de06792f8bd1a2b78d51705b066b8d0ce::66f2a012228f9339dbe3ab0cba0ba479625af029::91c49433c91e8b67e9cdd5ca4ba964f8feb8d69f::
https://api.github.com/repos/NixOS/nixpkgs,19467,nvidia-x11-master::master,0,merged,6.topic: nixos::,"###### Motivation for this change 367.35 doesn't build on 4.8 kernel. With this upgrade it builds fine on all kernel versions. Should also be backported to 16.09, which also all works correctly. cc @vcunat @Baughn who had feedback on my last nvidia-x11 upgrade I backported :) ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Please, use the generic `http://download.nvidia.com`. From experience, the `us.` URLs make _everyone_ download from the US which isn't good. ::Sorry @vcunat, but the download.nvidia.com wasn't providing this file at this time, and I was only able to reliably find it on the US mirror. ::I just verified their other mirrors and found they now contain this version. I just pushed an update to fix it to both release-16.09 and unstable. ::",b98c0a668e7283f8a46494cd59c00e4e68fc6648::
https://api.github.com/repos/NixOS/nixpkgs,19260,update_tornado::master,0,merged,,"###### Motivation for this change This minor release [include a security fix](http://www.tornadoweb.org/en/stable/releases/v4.4.2.html). It should probably be backported to `release-16.09`. Several packages fail to pass nox-review, but I also fail to build them on master. - `python35Packages.librosa` - `ihaskell` - `python35Packages.buttersink` - `python35Packages.Pweave` - `python35Packages.scikitimage` - `python27Packages.mitmproxy` - `python35Packages.oger` - `python27Packages.thumbor` - `python35Packages.locustio` ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",e380a84ad93ab60f8751fe8a430558372e6a7734::
https://api.github.com/repos/NixOS/nixpkgs,19252,jasper::master,0,merged,,"###### Motivation for this change Upstream jasper did a release, packaging about 10 CVE patches and many others improving the security and code quality. The jasper we have should be secure against all the known CVEs, so I don't think we need a backport. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::Nit: `unzip` is now unused, as far as I can tell. ::Fixed. Thank you :) ::",0dd13814519dcad8dbf2fd48937784a2c45f4a68::
https://api.github.com/repos/NixOS/nixpkgs,19193,update_django_1_10_2::master,0,merged,6.topic: python::,"###### Motivation for this change `python35Packages.file_browser` was broken before this update, and it still fail the `nox-review` check. This bugfix release should probably be backported to `release-16.09`. ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` (previously broken packages still fail) - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- This is a bugfix release. See https://docs.djangoproject.com/en/1.10/releases/1.10.2/ ::",aec9c88a9842af38dab578cb50d042909dfaf7b5::
https://api.github.com/repos/NixOS/nixpkgs,19079,integrate_django_security_fixes::master,0,merged,1.severity: security::8.has: package (update)::,"###### Motivation for this change Security release for django. They fix CVE-2016-7401. See https://www.djangoproject.com/weblog/2016/sep/26/security-releases/ for upstream announcement. Those will have to be backported to `release-16.09` and probably `release-16.03`. ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",06ed1344c2a349023b3709783855bb71857f8f61::7b87331684c1c76fee35b7be02e9c51b7f4baa22::
https://api.github.com/repos/NixOS/nixpkgs,19046,bump/bash-completion::master,0,merged,8.has: package (update)::,"###### Motivation for this change To update the (very) old version of bash completion. I've been running this for a few days backported to my 16.09 installation without noticing any troubles. While I was messing with the package I also change the attribute name from `bashCompletion` to `bash-completion`. ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). Maintainer CC: @peti ::",dbe350f5d002579b124a1420e5d78e6b201533bf::e8817a2d20037b54ac9fe548c9f31d6e7c44bedf::
https://api.github.com/repos/NixOS/nixpkgs,18921,spice::master,0,merged,1.severity: security::,"###### Motivation for this change https://lwn.net/Vulnerabilities/690141/ spice has a vulnerability in everything below 0.12.7. I'm not sure if you can backport that change without the rest. Maybe a maintainer will know :) ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Somewhat related to https://github.com/NixOS/nixpkgs/issues/18856 ::",4e9f2ef8548947ff2cd137000b937cc85b38cdd8::0d20194889c3b9d4bf536cca6bd2d5f8d2e8e4e6::6d1638e6975b96a1b96b325bcdfc0a98c316b3cc::1e7d2209610c8580c0683ec502a4584dcac9a140::0a9d07c66bef4098ce0bd7e1c364e386e6bbb121::
https://api.github.com/repos/NixOS/nixpkgs,18908,fix-jq-CVE-2015-8863-and-CVE-2016-4074::master,0,merged,1.severity: security::,"###### Motivation for this change Part of #18856. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] OS X - [x] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- jq has not had a release since August 2015, so use the latest version from git. CVE-2015-8863 has a fix committed to the current master, while CVE-2016-4074 has not had a fix committed to master, so add a separate patch for that. I manually confirmed that the CVEs are fixed in the resulting binary. ::This is not a valid version. :: Why do you fetch the master? For stability it would be more useful to pick the relevant patches from master until there is a new release. You can use `fetchpatch` to avoid committing those to nixpkgs. ::Where does this patch come from? ::Sorry, I had pushed an old version by mistake. ::The latest jq release was last August, and there have been numerous changes in between. I've never been a fan of ""backporting culture"" and I wouldn't feel comfortable blindly extracting a patch and applying it without studying the source in depth to see more precisely what has changed. ::Updated to use fetchpatch. ::But yet you blindly package a development version without knowing if it is stable and safe to use? I'm also not a big fan of backporting to previous versions but sticking to released versions is good practice. If the project doesn't even do maintenance releases it's not safe to assume that it their master is always stable in my experience. ::In this case it seems the 1.6 release is delayed and they are recommending to use master: - https://github.com/stedolan/jq/issues/1243#issuecomment-249399788 - https://github.com/stedolan/jq/issues/1239#issuecomment-248303846 I also took a closer look at the patches and they are smaller than I thought, so I will investigate if backporting to 1.5 is feasible. ::Hmm, I see. In that case it could make sense to use the master. But we should review the changes in master and do some tests before using that version. Do you know why 1.6 is delayed? Is that due to a bug that could be a dealbreaker? ::",c38d3b64e457537eee3db3cabff0e7950aff5fc7::
https://api.github.com/repos/NixOS/nixpkgs,18889,wwwcurl::master,0,merged,,"###### Motivation for this change [curl update](https://github.com/NixOS/nixpkgs/commit/057bfdb689748373a8514f1150e4787d6a1f0d7d) broke [WWWCurl build](http://hydra.nixos.org/build/41024856/nixlog/1/raw) ### **Please backport to 16.09** ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- upstream bugreport: https://rt.cpan.org/Public/Bug/Display.html?id=117793 patch also taken from there ::",123f81b866794dd70924bde4f2f5295e49e78be6::
https://api.github.com/repos/NixOS/nixpkgs,18860,php5::master,0,merged,,"# Please backport to 16.09. ###### Motivation for this change - http://www.php.net/ChangeLog-5.php#5.6.26 - https://github.com/NixOS/nixpkgs/issues/18856 ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f01e56e576de013a2ce5cc0f67bc7129fe6db4c8::
https://api.github.com/repos/NixOS/nixpkgs,18859,tomcat::master,0,merged,1.severity: security::,"# Please backport to 16.09 ###### Motivation for this change http://tomcat.apache.org/tomcat-7.0-doc/changelog.html ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",387cb2db9ad7768b4e085d28a06bf750097efd1e::
https://api.github.com/repos/NixOS/nixpkgs,18810,wayland::master,0,merged,8.has: package (update)::,"###### Motivation for this change new versions wayland: https://lists.freedesktop.org/archives/wayland-devel/2016-September/031121.html weston: https://lists.freedesktop.org/archives/wayland-devel/2016-September/031123.html There were also bugfix releases on 1.11, should we backport 1.11.1 versions to 16.09? ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- in addition to wayland and weston, tested compilation of wlc and sway ::",d334e9e1f6107e39766640e8bb7b16a07769a628::9f3550e2eee3a35d56f8ea380bd4a705e6c88042::
https://api.github.com/repos/NixOS/nixpkgs,18727,kde-16.08.1::master,0,merged,6.topic: qt/kde::8.has: package (update)::,"###### Motivation for this change Update KDE to 16.08.1 Somewhat personal use case: `konsole` has a [bug](https://bugs.kde.org/show_bug.cgi?id=366368) that has been fixed in the new version. Perhaps also backport to 16.09 if this is good? ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) -- just `konsole` - Built on platform(s) - [x] NixOS - [ ] OS X - [x] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) -- again just `konsole` - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",05a71f0910ea2e7fc31489b8c9d826368b32fa97::0bffb9e9e920548de51257fb27551ebe4c6dacf9::
https://api.github.com/repos/NixOS/nixpkgs,18662,master::master,0,merged,,"Note: This is a security update, so it should be backported to stable?! ::",7d20f1b5b7956b4d026812660afa5b643591c1b8::
https://api.github.com/repos/NixOS/nixpkgs,18590,huginn::master,0,closed,0.kind: enhancement::2.status: merge conflict::8.has: package (new)::,"###### Motivation for this change This is a new package huginn, http://github.com/cantino/huginn , it is an agent platform.  This is my first service module, as well as my first ruby package. I would appreciate people looking it over.  this pr also depends on https://github.com/NixOS/nixpkgs/pull/18361 or it can't be built due to unicode ruby files in the dependencies.  I would also like to backport this into 16.09 after master if someone could show me how. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x ] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::This file could be probably replaced by ``` source ""https://rubygems.org"" gem 'huginn', git: ""https://github.com/cantino/huginn.git"", ref: '005be58d30181b1e0ca5b29cc9a8729ee0d7bcab' ``` ::ok, this will not work, because you apply patches. ::can be replaced by a single mkdir: ``` mkdir -p ${cfg.statePath}/log  ${cfg.statePath}/tmp/{pids,cache,sockets} ``` ::In general, can you fix the indentation? ::rake accepts multiple tasks at once: `${huginn-rake}/bin/huginn-rake db:create db:migrate db:seed` ::wow, many options here. This could be split into a separate file probably ::here you could also use a single mkdir ::this could be break into multiple lines using `\` for readability. ::maybe replace by a helper function: ``` toBool = option : if option then ""true"" else ""false""; ... SKIP_INVITATION_CODE=(toBool cfg.registration.skipInvitation); ``` ::what happens if you pass `DATABASE_PASSWORD=` to rake? If this works you could save the if expression. ::``` printf 'APP_SECRET_TOKEN=%s\n' ""$(tr -dc A-Za-z0-9 < /dev/urandom 2> /dev/null|head -c32)"" > ${cfg.statePath}/tmp/secrets ``` ::maybe this could be also wrapped and reused in a shell function ``` bash gen_secret() { printf ""$1=%s\n"" ""$(tr -dc A-Za-z0-9 < /dev/urandom 2> /dev/null|head -c32)"" > ""$2"" } gen_secret ""APP_SECRET_TOKEN"" ""${cfg.statePath}/tmp/secrets"" ``` ::",5c5c952f7fd9da8df8dedb8e616c29a9706063e5::
https://api.github.com/repos/NixOS/nixpkgs,18581,update_flash::master,0,closed,1.severity: security::,"###### Motivation for this change This will also need to be backported to the `16.03` and `16.09` branches after being accepted into master. ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- This release fixes several CVEs: CVE-2016-4271, CVE-2016-4272, CVE-2016-4274, CVE-2016-4275, CVE-2016-4276, CVE-2016-4277, CVE-2016-4278, CVE-2016-4279, CVE-2016-4280, CVE-2016-4281, CVE-2016-4282, CVE-2016-4283, CVE-2016-4284, CVE-2016-4285, CVE-2016-4287, CVE-2016-6921, CVE-2016-6922, CVE-2016-6923, CVE-2016-6924, CVE-2016-6925, CVE-2016-6926, CVE-2016-6927, CVE-2016-6929, CVE-2016-6930, CVE-2016-6931, CVE-2016-6932 See https://helpx.adobe.com/security/products/flash-player/apsb16-29.html for adobe's details. ::",6806e873e2e81226595cfa73d8580c1cae23ab93::
https://api.github.com/repos/NixOS/nixpkgs,18341,tomcat5::master,0,merged,,"###### Motivation for this change **Please also backport to 16.09** ""Fixes"" #18336 ~~The source for 5.0.27 is not available anymore.~~ We could update to 5.0.30 (2004-11-24) or 5.5.36 (2012-10-09) but I don't think it's worth the effort. Archive url: http://archive.apache.org/dist/tomcat/tomcat-5/ EOL announcement: https://tomcat.apache.org/tomcat-55-eol.html ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",badfb8a12e55b7a0225c476856d6bfba38fdd293::
https://api.github.com/repos/NixOS/nixpkgs,18266,fix/installer::master,0,merged,0.kind: bug::6.topic: nixos::,"###### Motivation for this change **Please also backport** nixos installer failed to mount /mnt/var/run because /mnt/var was missing. See [hydra](http://hydra.nixos.org/build/39668984): ``` machine: must succeed: nixos-install < /dev/null >&2 machine# > > > > > > > > > > > > > > > > > > > > > > ln: failed to create symbolic link '/mnt/var/run': No such file or directory ``` With this patch the installer tests succeeds ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Got lost in a6670c1a0b8cda8235296900cff950f39f60cf4f ::",ed68bfb2ae2d8ffc8dd0aa39b1f2b47892389dac::
https://api.github.com/repos/NixOS/nixpkgs,17817,libselinux-fix::master,0,merged,6.topic: python::,"###### Motivation for this change See issue #17808 ""libselinux Python bindings cannot be imported"". ###### Things done - [x] Tested using sandboxing ([nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS, or option `build-use-chroot` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Upstream has this fix but it's not released yet. Without it, the Python module can't be imported because of a module path problem. ::Maybe export the commit patch and use it directly in patches (`git format-patch -1 a9604c30`)? with a comment letting know this is a backport ? It will be easier for the maintainer. ::or `patches =  [ (fetchpatch { url = ...; sha256 = ""..."";}) ];` https://github.com/SELinuxProject/selinux/commit/a9604c30a5e2f71007d31aa6ba41cf7b95d94822.patch ::",1f50e2412f888d5f811e08c32890994275913807::
https://api.github.com/repos/NixOS/nixpkgs,17816,CVE-2016-6313_on_16.03::release-16.03,0,merged,1.severity: security::,"###### Motivation for this change cc @garbas For the release-16.03 backport, libgcrypt stays in the 1.6 branch (1.6.6 is said to fix the problem) while master has 1.7. ###### Things done - [X] Tested using sandboxing ([nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS, or option `build-use-chroot` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",5ae1b21df57b1f65acd3d8b9ab6ac199b801df95::9cad85016ef19151faf2a35e12a75a17e4a7f94e::f026bbcba285ab59798fff785aa57c469a666342::
https://api.github.com/repos/NixOS/nixpkgs,17485,chromium-grsec::master,0,closed,,"###### Motivation for this change Fix Chromium under grsecurity. See #17460. ###### Things done - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux --- Closes #17460 When using grsecurity, chromium's setUID sandbox feature prevents chromium from starting. According to https://chromium.googlesource.com/chromium/src/+/master/docs/linux_sandboxing.md#User-namespaces-sandbox Chrome now uses namespace sandboxes: ""The namespace sandbox aims to replace the setuid sandbox. It has the advantage of not requiring a setuid binary. It's based on (unprivileged) user namespaces in the Linux kernel. It generally requires a kernel >= 3.10, although it may work with 3.8 if certain patches are backported."" According to https://bugs.chromium.org/p/chromium/issues/detail?id=598454 ""we should no longer need the setuid binary sandbox on most if not all supported versions of desktop Linux. However, Chrome still checks for it on startup and complains if it's not there. We should stop doing that."" According to https://chromium.googlesource.com/chromium/src/+/master/docs/linux_suid_sandbox.md ""The Linux SUID sandbox is almost but not completely removed."" We conclude that is likely safe to --disable-setuid-sandbox until that becomes the default in Chromium FYI: does not trigger a Chromium rebuild cc @joachifm @aszlig ::",6db4e459f8e08e635d87e3799ffd52a63740de3f::
https://api.github.com/repos/NixOS/nixpkgs,17125,oraclejdk-8u101::master,0,merged,1.severity: security::8.has: package (update)::,"###### Motivation for this change Security fixes and other bug fixes. Maybe, backporting needed. http://www.oracle.com/technetwork/java/javase/8u101-relnotes-3021761.html http://www.oracle.com/technetwork/java/javase/8u102-relnotes-3021767.html This also renames jdk8-linux.nix to jdk8cpu-linux.nix to prevent accidental update from CPU (Critical Patch Update) to PSU (Patch Set Update). #15820 ###### Things done - [X] Tested using sandboxing ([nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS, or option `build-use-chroot` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] OS X - [X] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",102bc3d58a6d9c43190ffc658234b7f372fe7c49::
https://api.github.com/repos/NixOS/nixpkgs,16775,master::master,0,merged,,"###### Motivation for this change Hash sum mismatches when installing the Symbola font package ###### Things done - [ ] Tested using sandboxing ([nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS, or option `build-use-chroot` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Upstream releases are made in-place, ie they update the same URL rather than creating a new one. Needs to be backported to 16.03 as well <!-- Reviewable:start --> --- This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/nixos/nixpkgs/16775) <!-- Reviewable:end --> ::",7a8de0fdcf90bcb10a23931135ac49e674eac583::
https://api.github.com/repos/NixOS/nixpkgs,16654,parnell/setcap-wrappers::master,0,merged,0.kind: enhancement::,"###### Motivation for this change Resolves #6768 Setting capabilities on programs is desirable over `setuid` because it improves the granularity of security. Nix wasn't able to support `setcap-wrappers` in the style of `setuid-wrappers` until recently when the Linux 4.4 kernel was added. Linux 4.3 included a capability named Ambient which enables a wrapper program to propagate its capabilities to an execv'ed program. This PR adds support for setcap-wrappers (with notable improvements to the wrapper program over `setuid-wrapper.c`) and adds a conditional task that sets `ping` and `ping6` to be setcap wrapped if the kernel is at-least 4.3, if not then we default to the setuid behavior. ###### Things done - [X] Tested using sandboxing ([nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS, or option `build-use-chroot` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [X] Linux - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`), NOTE: only tested ping and ping6 - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- I tested both a sub 4.3 kernel (it defaulted to the setuid'ed `ping` and `ping6`) and with a 4.4 kernel (it defaulted to setcap'ed `ping` and `ping6`). ::It doesn't strike me as a particularly good idea to hardcode the linux header version here (linuxHeaders_4_4). Isn't there an attribute for the ""current"" kernel header package? ::Yes, you're right, that should just be `linuxHeaders` I believe. I had to specify a hard kernel header version because stable doesn't have the 4.4 headers in it (yet) I had to copy & inject the headers. I'll fix this. ::Could we maybe use a nix list here? Is the format to specify the capabilities documented somewhere? May be worth mentioning where to find it in the description. ::To validate the the attribute sets you could to use `types.listOf types.submodule` here. ::@fpletz the format is documented in `cap_from_text(3)` ::I'll add some documentation about where one would find the capabilities format cap_from_text and setcap expect, great point. ::Is there any reason to insist on `WRAPPER_SETUID` being explicitly set? `wrapperType` is not used anywhere anyway. I am not even sure that the problems from using setcap wrapper as a setuid wrapper can actually happen (we won't be setting any capabilities on an already-setuid file, right?)::Why not allow readlink to use the entire buffer and assert that there is space left for the zero byte? I feel that the current code can hit a filesystem-specific path truncation security issue in a weird enough config.::Do you define the function conditionally just to call it unconditionally here?::In order to unify this, yes. I've been fixing the code - it was left in an unfinished state six months ago :(::So, what will setcap wrapper do wrong if it is used as setuid wrapper? Why not have a single binary to copy as needed?::@7c6f434c I think I'm confused by your question: > Why not have a single binary to copy as needed? Are you asking why are we producing a binary-per wrapper instead of having a single? It felt safer to me to statically specify the source program path instead of reading it from a companion `.real` file. It also feels more idiomatic to Nix IMHO. I think I had more reasons when I wrote it too but can't remember them all now. The above justification is the one I remember the clearest though. > So, what will setcap wrapper do wrong if it is used as setuid wrapper? I'm confused, could you rephrase your question?::Please see newer commits - this code you commented on was incomplete. I'd like your feedback on what I've now chosen to do.::It also means increasing chances that something is unfetchable from the binary cache for a relatively natural system configuration. As for the second question — I just ask whether you could just check for ability to change capability set instead of compiling the file differently. Also, not setting any of the setuid/setcap options is a run-time error. If you really want to go this way, please make it a compile-time error at least.::Do you think that may be a problem with these programs? By unfetchable are you talking about a cache miss or something else? So far, my use of the setcap-wrapper work in production hasn't revealed any unexpected cache misses... That's a good point. I think the only way to do it would be to check _if_ there are capabilities set on the file. If so, raise them, otherwise do nothing with the capabilities. It's late here so I'll think on this a bit more tomorrow but that does feel cleaner to me. Thanks for pointing out the run-time error. I've switched that to use the `#error` directive.::I'll address this tomorrow, thank you for the suggestion.::Re: fetchability I mean cache misses. The old way is: you compile a single wrapper. it is probably available from Hydra due to NixOS tests, then you cp/echo things around, GCC and local compilation is not needed. The new way: you compile a new binary per executable, and you want a wrapper binary for something like `smokeping` so Hydra lacks it, you now need local gcc for `nixos-rebuild`.::I don't think we'll backport this to 16.09 so I don't think we should update the release notes here.::not 100% sure but maybe we should update comments saying ""setuid"" to ""setuid/setcap"" ? don't do if you don't think it's a good idea.::why do we need this mkdir now if we didn't need this before for `/var/setuid-wrappers`?::similarly here: do we need this extra mount? If so, maybe add a comment above with an explanation?::this program, source, owner, etc, pattern repeats so often that I'm wondering whether we can hide it in a function with sensible defaults .. any ideas?::the docs we have to use `<literal></literal>`, backticks won't work (I've failed this way too often)::`capability sent`? set maybe?::nit: we usually indent by two when in `''` blocks::This is cool but also a bit funky: inserting non-trivial amounts of bash into the permissions-wrappers in-place doesn't seem like a great thing to do, but I don't have a better one right now, either. bash functions are even more painful :) (not actionable)::skipping is safe because we're only losing capabilites, never gaining, right?::(related, I think we should add an item to `rl-1703.xml`).::This replaces two lines of code with 25 lines of code to apparently accomplish the same thing. That doesn't seem like an improvement...::IMHO, this should be turned into an attrset with reasonable default so you can write: ``` security.permissionsWrappers.setuid.unix_chkpwd.source = ""${pkgs.pam}/sbin/unix_chkpwd.orig""; ``` Also not convinced that renaming `security.setuidPrograms` to `security.permissionsWrappers.setuid` is an improvement...::This means that the setcap wrappers are not updated atomically, which is undesirable. But actually it's not clear to me why a separate directory for setcap wrappers is needed.::This is dead code. I will remove it.::Yes - skipping is safe not because the program loses any capabilities, the program is just not gaining the one that failed to decode.::It is, I did it this way more to follow how the original `setuid-wrappers` was doing it. I don't particularly like it though and I also dislike putting this much ""work"" into an activation script. I do think this is worth re-thinking through but I certainly don't have the time for it personally. Is there a preferred guideline for TODO comments or tasks so we can capture these thoughts?::Thanks, @edolstra made the same comment and suggested an attrset (instead of a list of attrsets) with sane defaults. I'm going to give that a go when I have some free-time.::Good question, we might not? I preserved it since it was in the original and I remember the `/var/setuid-wrappers` directory being mounted in the nixos-install.sh script. I'll go look at my other code to see if it's needed. A lot of things have changed rather rapidly, thanks for pointing this out.::I'm fairly certain it was in this nixos-install.sh script in the 16.03 release but now that I've merged against the 17.03 series it is probably unnecessary, I need to investigate.::I do think that's a good idea, comment-debt is as bad as tech-debt. Thank you for pointing this out.::@teh yeah I do not think this is necessary. Thanks for pointing it out.::Yeah, I'm removing this, thanks.::It's quite nice how this falls out of the new design! (not actionable)::Not even sure that it is better to be able to resize the buffer: given that you really expect to run from `/var/setuid-wrappers/`, multiple-kilobytes path is already a reason to fail.::I'm not convinced that logging this is the best idea as it changes the expected output and there are a number of programs that call other programs and parse their output. Some tools also check for an empty stderr. I.e. in order to stay backwards compatible I think we should not `fprint` anything in the wrapper. If absolutely necessary for debugging we could gate this on an env var?::The hardening stuff is added already in the cc-wrapper, no need to specify by hand, you just might want to `export hardeningEnable=pie` to add `-pie` if that doesn't break stuff.::Please don't use dashes in option names. But TBH, this option really has no reason to exist. There is no use case for changing these paths.::`/run/wrappers` is not a filesystem right?::This is a bit confusing because there is no `setcap-wrapper` anymore. Probably better to say ""the setuid wrapper now also supports setting capabilities"".::The generic style of this file is to mention` /default.nix` explicitly::Given `-1` in the `readlink` call, this seems to be always true. This is probably a typo when rolling back the most controversial changes.::Good catch, not a typo from the rollback, it was there when I addressed your previous comment. Thanks.::Yeah it isn't, this was legacy from when I simply did a find-replace. Thanks for catching this.::@globin yeah, I'll try to get rid of the custom compiler invocation altogether. Thanks.::I was confused RE: compiler invocation, but I was able to simplify it further; @globin is what I have (committed) going to correctly enable `pie`?::One more nitpick: empty lines in descriptions don't turn into paragraph breaks in the manual, you have to use `<para>` explicitly.::@edolstra okay, fixed.::",5deed1cb86a8d0f9cf4523113f92ac8b1b25dca3::bfc3956376128b9560926f6c122a49d809b4be97::b3d63f81919d1da80b28362cbc6368d42d0deb68::00dc2c559ca98c449253ae0090cb227a3d4c59e1::6fe93ae42add1ac9174909a3b69e4c4cb2d82b33::12a23b3d913573d6d7dbd202e00e4c6a1102d6fc::1c0f672f7ae2d7d1db29b7d1a4ed2181e71538b8::4e98aa639f9161fe461ba1c2e4f31519f9d89569::2efb60c8e9c502b0fb4df81b03700b600118722a::79f1a1e07ae758de73cd640faf488a0bf1c479b8::c16647ec29ab46b52cd365220288a8222cfcdad3::79e81aa31bc7a0fa88507c06f21b41fbbd1cb863::81b33eb46645b1bd3ab5029c0ca2012a24902bb0::390ab0b3eff809052d5b9d9b5335413b36898481::98c058a1ee338731d72d33f320da48c95fecd0e0::849dcde2a53398f91ab1da9adedcf65616c4e6ef::c686da8655bbdd4f0677bea788794e7b9f1d7dda::d60581d4d620787311e4268354680025eaeec27a::1f9494b752082ec3ac048e56d1c6364a2e23a675::bae00e8aa8f3faff90e28e19cd5074b8c26d0d0e::025555d7f1a0fc39ea152b03e942002e1bff1721::a20e65724bad6472bbf40080955ecc5d0bb351e6::e8bec4c75f9da5c2e6a12b8f96630dae2d2d57d6::1ad541171e5d9362dce100de08d46fff91cab4d1::785684f6c2367ce979d908e25dd7831992f19f24::a4f905afc251e48ee106fdede8ad15e9cf5b4cdc::21368c4c67580f6ff245636d4af37d3094a1cd09::48a0c5a3a728418286d4790491ed1bd9c4df9e7e::61fe8de40c9efbcd31301233e78278202485d8d8::fd974085bf5b7a18c0c053a1fdd331c523221fb1::f64b06a3e045c14110d9a7fcac9e4c8ee70ae8f0::ce36b58e21e8d15c1de0c300819b06e83a2a1c5a::ad8fde5e5d9bc25a54ac238f485e28b37d6d185a::a26a796d5c7fa305e007c2b5229e0521c8b3fb0f::c30cf645f84232eba03d542519b5eca398a06825::189a0c25796d10ee5ca9e7e61b6a79ff1656f177::01e6b82f3f5584f76ec46354d34a787968a7f262::9de070e620544f9637b20966eec62cbff42988d8::e92b8402b05f34072a20075ed54660e7a7237cc3::3fe7b1a4c97ef0a098c0cd786386e2b547762983::2f113ee90a8c97be2ccb70dc6738fe243dde1b84::7680a40a373a89c683f5b87dfa3cd09c2a168473::82de4c0fad9607b9b193564dedf92ac830202eeb::70ec24093c45a07a5b4f4d230390dfa16e87e1dc::8e159b9d1ed816abca9ca415aba0bc254c4e162c::0707a3eaa2ce33e8f490fff474c168a33dc1b5f5::5077699605fae8840afe1a066a37412e7ea9206f::48564d1ae56b93a27ca6dc5565f389dfde66831a::af3b9a3d46672232d70e4ab6a45f00e10363bfae::a8cb2afa981099889cf47185be33f4a831ff482b::4aa0923009dac4d2307b5fe018b944180bfad6a2::70b8167d4ac3572a2f364bba18432ea15df92971::628e6a83d0f3b7ddc0592c88fef7978a7ee0063e::1cc500ea8e66b2f09735e7dccc756ba00518bd8a::a3e9d77640b686c29692294ca7d557b11dfe2c65::3215bcf4450080c44411171b4d69d0cb2dd1b1bd::cfe4351c33bd23e7007179d6c75299919a873210::9f82c9903d8cba0685795c526fe5e7c51a6bc9c8::c5f1f9a3b5bcf5d2990aba0ab086767d1d384922::6777e6f812913f0213b71392bf2499a3e49b8dee::9abe7528e4c495c868fa518af50c3cdfd1e755ed::4856b42ab69beb882414664551f1ca879d379936::0f728de67eeb8b1ebfb0c77418f95f2806f918b5::f2f3f1479e18b530b57628c7d7725283afb57ac4::264db4e30936cbb4dd9f88123aafb42a5259e74f::d8ecd5eb0d30c3dc302e336755a4a1d6d0cb1ba4::128bdac94fe8173845e162c61ddb83cb4b8ed8de::9e36a58649199a16a15cba3c78966ab0538a6fd7::cca2e1155617304b5bcb3457309983cf8e99b067::a27f35993d380487d7262055aff0bfc939c235ec::ba499e3aa04dccd5e99676731055bf3c3a34b249::467bb3f674fad56ef697bafbcc5f4db71acb036e::fb6d13c01aa22cdaffe45597495f390ef2989eda::f8b8c353ffcfb2a29178c1f7b145baebfab55f81::c01689f8dab3387eb004192ce078659e9a4f334c::e856d6efe812f24034aa8077fb538af0e8f8462d::794b3721bc8bd06169b23ed923ce45905a1baf7b::69794e333a41f3d7d0de44da790c5d356c58e28b::
https://api.github.com/repos/NixOS/nixpkgs,16323,llvm::master,0,merged,,"###### Motivation for this change When LLVM and clang were updated to 3.8, libc++, libc++abi, and lldb were skipped, leaving them with incorrect hashes and broken builds. This gets them building again. I don't have OSX to test on, so the tweaked darwin patch should be reviewed by someone who does. This fix should probably be backported to all branches that contain llvm 3.8, including nixos-16.03. ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [ ] NixOS - [ ] OS X - [x] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",46ae67d776aad7b3743775242f3aed008f464294::
https://api.github.com/repos/NixOS/nixpkgs,16234,cura-fix::master,0,merged,,"###### Motivation for this change Slicing is broken Please backport to 16.03 as well. ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- Upstream bug report: https://github.com/daid/Cura/issues/1461 ::",36e40e5e1f50fe6f2e05e729f03e6236b9728108::
https://api.github.com/repos/NixOS/nixpkgs,16195,update-dropbox-master::master,0,merged,,"###### Motivation for this change maintenance ###### Things done - [ ] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ## Porting to stable - [ ] Before backporting this to stable, consider whether to also backport the recent shift towards bundled libraries cc @ttuegel ::",7df03fbbb3515e74cb5a9c2637be242717ee8f03::
https://api.github.com/repos/NixOS/nixpkgs,16148,openldap::master,0,merged,0.kind: enhancement::6.topic: nixos::,"snip from the slapd manpage: ``` -h URLlist slapd will by default serve ldap:/// (LDAP over TCP on all interfaces on default LDAP port).  That is, it will bind using INADDR_ANY and port 389.  The -h option may be used to specify LDAP (and other  scheme)  URLs  to serve.   For  example,  if slapd is given -h ""ldap://127.0.0.1:9009/ ldaps:/// ldapi:///"", it will listen on 127.0.0.1:9009 for LDAP, 0.0.0.0:636 for LDAP over TLS, and LDAP over IPC (Unix domain sockets).  Host 0.0.0.0 represents INADDR_ANY (any interface).  A space separated list of URLs is expected.  The URLs should be of the LDAP, LDAPS, or LDAPI schemes, and generally without a DN or other optional parameters  (excepting  as  dis‐ cussed below).  Support for the latter two schemes depends on selected configuration options.  Hosts may be specified by name or IPv4 and IPv6 address formats.  Ports, if specified, must be numeric.  The default ldap:// port is 389 and the default ldaps:// port is 636. ``` - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). I'd also like to backport this to 16.03 if no one objects. ::",f79930849a2cfda9af2a1b949544e3ebb19b48e4::
https://api.github.com/repos/NixOS/nixpkgs,15884,nvidia-x11::master,0,merged,,"###### Motivation for this change 361.42 doesn't build on kernel 4.6 ###### Things done - [x] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- I haven't built my system using this or rebooted on master, but did on the backport. Trying the build now (but won't switch to it.) ::",180417f385d24eee07da185e8eb7a3b1d461913c::
https://api.github.com/repos/NixOS/nixpkgs,15697,libxml2::master,0,closed,1.severity: mass-rebuild::1.severity: security::,"###### Motivation for this change ###### Things done - [X] Tested using sandboxing ([nix.useSandbox](http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox) on NixOS, or option `build-use-sandbox` in [`nix.conf`](http://nixos.org/nix/manual/#sec-conf-file) on non-NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- - CVE-2016-4447: libxml2: Heap-based buffer underreads due to xmlParseName https://bugzilla.redhat.com/show_bug.cgi?id=1338686 - CVE-2016-4448 libxml2: Format string vulnerability https://bugzilla.redhat.com/show_bug.cgi?id=1338700 - CVE-2016-4449 libxml2: Inappropriate fetch of entities content https://bugzilla.redhat.com/show_bug.cgi?id=1338701 and many other fixed issues, available at http://www.xmlsoft.org/news.html --- Please backport to 16.03 and 15.09. ::",d5c0bd87966d1b85edfa80373f947798b861aa0e::
https://api.github.com/repos/NixOS/nixpkgs,14883,graceful-facetimehd-module-unload::master,0,merged,0.kind: enhancement::6.topic: nixos::,"I would like it if this was backported to 16.03, since it resolves some issues around successfully sleeping. ###### Things done - [X] Tested using sandboxing (`nix-build --option build-use-chroot true` or [nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [X] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- The pre-sleep service exits if any command fails. Unloading facetimehd without it being loaded blocks subsequent commands from running. Secondly, forcing the unload of kernel module isn't advisable and can cause crashes on its own, so I removed the `-f` flag because it seemed to be the correct thing to do. ::",788122c3c5dcd146f65fbd587972b22f5ff8481e::
https://api.github.com/repos/NixOS/nixpkgs,14765,jrg/brother_printer_fixes_nixos1603::release-16.03,0,merged,,backport of https://github.com/NixOS/nixpkgs/pull/14758. Tests performed explained there. ::,9c2d09201b5231505ed5cea89586b6ba8c4514a1::35fdddd136580b805fe800c897fa49236fc95dfb::2acc814b15ef7fa5376733d12506bbffc4d87992::
https://api.github.com/repos/NixOS/nixpkgs,14616,django_updates::master,0,merged,6.topic: python::9.needs: package (update)::,"Doesn't cause any (new) failures on `nox-review` (`pelican` already fails for me) Just bugfixes, probably not worth a backport. ###### Things done - [x] Tested using sandboxing (`nix-build --option build-use-chroot true` or [nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS) - Built on platform(s) - [ ] NixOS - [ ] OS X - [x] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",59114693351d7b1376f93971f754999b16ae633c::e525a83861117ccc9cb81d2dcee8646a30904f0a::
https://api.github.com/repos/NixOS/nixpkgs,14616,django_updates::master,0,merged,6.topic: python::9.needs: package (update)::,"Doesn't cause any (new) failures on `nox-review` (`pelican` already fails for me) Just bugfixes, probably not worth a backport. ###### Things done - [x] Tested using sandboxing (`nix-build --option build-use-chroot true` or [nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS) - Built on platform(s) - [ ] NixOS - [ ] OS X - [x] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",59114693351d7b1376f93971f754999b16ae633c::e525a83861117ccc9cb81d2dcee8646a30904f0a::
https://api.github.com/repos/NixOS/nixpkgs,14527,mercurial::master,0,merged,1.severity: security::8.has: package (update)::,"Please backport to 16.03 ###### Things done: - [x] Tested using sandboxing (`nix-build --option build-use-chroot true` or [nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS) - Built on platform(s) - [x] NixOS - [x] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [x] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- CVE-2016-3068 ``` Blake Burkhart discovered that Mercurial allows URLs for Git subrepositories that could result in arbitrary code execution on clone. ``` CVE-2016-3069 ``` Blake Burkhart discovered that Mercurial allows arbitrary code execution when converting Git repositories with specially crafted names. ``` CVE-2016-3630 ``` It was discovered that Mercurial does not properly perform bounds- checking in its binary delta decoder, which may be exploitable for remote code execution via clone, push or pull. ``` ::",f9099deb8ed18935b993b90c769af3f55bfcbb00::
https://api.github.com/repos/NixOS/nixpkgs,14347,patch-3::master,0,closed,2.status: work-in-progress::,"PHP7 is becoming the default in Ubuntu 16.04, and many devs are already moving to php7 as their baseline dependency. Is there a good argument to defaulting to 5.6? Please backport to 16.03. ###### Things done: - [x] Tested using sandboxing (`nix-build --option build-use-chroot true` or [nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS) - Built on platform(s) - [x] NixOS - [ ] OS X - [ ] Linux - [x] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [x] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",3fbf7a3189387e353f5a39b5d5465af187fe865c::55d4bbc5d4b7f218d2007bec1003102dcb4784bb::bc8f474df9d9321463e0765a7ca2dac749cbdc7d::868c3e1110a0e831abcf6064cdfa7dd61ac5f9c0::2b0bdaeaa599360b86e8893d1114e083eadcf877::7a979731512628e2ac97861383d3c6015f6b8ec9::7c3401c4fb8dc13faa5f567bf5b4d273dc6f3fd8::
https://api.github.com/repos/NixOS/nixpkgs,14136,slic3r::master,0,merged,,"Failing on 16.03, please backport. ###### Things done: - [X] Tested using sandboxing (`nix-build --option build-use-chroot true` or [nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [X] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). http://hydra.nixos.org/build/33298227/nixlog/1 ::",29cf3ecd78166fa1affd6a8202080ceb0b6dfcd2::
https://api.github.com/repos/NixOS/nixpkgs,14135,zam::master,0,merged,,"Breaking on 16.03 too, please backport ###### Things done: - [X] Tested using sandboxing (`nix-build --option build-use-chroot true` or [nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS) - Built on platform(s) - [X] NixOS - [ ] OS X - [ ] Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). --- ::",587ae0f63fb8d8338bd85a615b70328d32c0594c::
https://api.github.com/repos/NixOS/nixpkgs,13919,samba::master,0,merged,1.severity: security::2.status: work-in-progress::,"Please backport to - [ ] 16.03 - [ ] 15.09 ###### Things done: in progress - [ ] Tested using sandboxing (`nix-build --option build-use-chroot true` or [nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS) - [ ] Built on platform(s): NixOS / OSX / Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",fb0fcdddd503b6601ed51fb5a78563ed170371fb::b76f557887e4c9b7b926687c4a1eea079e5c9735::ddbb28844dcf5189db3ee51ad914c0ecd9256e78::
https://api.github.com/repos/NixOS/nixpkgs,13918,graphite2::master,0,closed,1.severity: security::,"Please backport to: - [ ] 16.03 - [ ] 15.09 ###### Things done: (in progress) - [ ] Tested using sandboxing (`nix-build --option build-use-chroot true` or [nix.useChroot](http://nixos.org/nixos/manual/options.html#opt-nix.useChroot) on NixOS) - [ ] Built on platform(s): NixOS / OSX / Linux - [ ] Tested compilation of all pkgs that depend on this change using `nix-shell -p nox --run ""nox-review wip""` - [ ] Tested execution of all binary files (usually in `./result/bin/`) - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). CVE-2016-1977 CVE-2016-2790 CVE-2016-2791 CVE-2016-2792 CVE-2016-2793 CVE-2016-2794 CVE-2016-2795 CVE-2016-2796 CVE-2016-2797 CVE-2016-2798 CVE-2016-2799 CVE-2016-2800 CVE-2016-2801 CVE-2016-2802 ::",b09437a92202ea894dcbf50a5b0bd88f11977727::bdff4062f47c48d1b88d72c40ce860419a730341::
https://api.github.com/repos/NixOS/nixpkgs,13725,bird-user::master,0,merged,,"I have no idea why this was the case, but it's probably sensible to fix it. AFAICT, bird doesn't have any persistent state, so I think this should be safe to backport ::",0360e410b76adf1176888ec4394c41e98558f58a::
https://api.github.com/repos/NixOS/nixpkgs,13597,kde-5::master,0,merged,6.topic: qt/kde::8.has: package (update)::,"This updates `kde5.plasma` and `kde5_latest.plasma` from Plasma 5.5.4 to Plasma 5.5.5. This is a bugfix release which also fixes a security vulnerability, so I will also open a pull request that backports these changes to `release-16.03`. I also took this opportunity to consolidate the KDE 5 packages under `desktops/kde-5`. I was complaining on the mailing list about the lack of organization in Nixpkgs, so I decided I should get my own house in order. ::",98d8e1a160d3138e9ef3a51f727b04315ab9e285::78602b68069711b5d9d5904d27f237119e171aae::
https://api.github.com/repos/NixOS/nixpkgs,13457,chromium-15.09::release-15.09,0,merged,1.severity: security::8.has: package (update)::,"re: https://github.com/NixOS/nixpkgs/pull/13455 From the debian security mailing list: Several vulnerabilities have been discovered in the chromium web browser. CVE-2016-1622 ``` It was discovered that a maliciously crafted extension could bypass the Same Origin Policy. ``` CVE-2016-1623 ``` Mariusz Mlynski discovered a way to bypass the Same Origin Policy. ``` CVE-2016-1624 ``` lukezli discovered a buffer overflow issue in the Brotli library. ``` CVE-2016-1625 ``` Jann Horn discovered a way to cause the Chrome Instant feature to navigate to unintended destinations. ``` CVE-2016-1626 ``` An out-of-bounds read issue was discovered in the openjpeg library. ``` CVE-2016-1627 ``` It was discovered that the Developer Tools did not validate URLs. ``` CVE-2016-1628 ``` An out-of-bounds read issue was discovered in the pdfium library. ``` CVE-2016-1629 ``` A way to bypass the Same Origin Policy was discovered in Blink/WebKit, along with a way to escape the chromium sandbox. ``` (cherry picked from commit 712d59225e52c7636e315cb2cce35e357114b183) ###### Things done: - [ ] Tested via `nix.useChroot`. - [ ] Built on platform(s): . - [ ] Tested compilation of all pkgs that depend on this change. - [ ] Tested execution of binary products. - [ ] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::The `sha256bin64` is missing here and for beta. @aszlig added two to add those here: 716b79d3a5f3ee438942f59bfd879f46e66204ac & 54b49125664adb1f7cf054bbf8a09aeecc88b574. Maybe backport those as well? ::",9b9a9ee7caf3a39b7f34854d8bd86f2ac3fbcc75::225fe0adcfa2b9ad4ae445067fdea28a20b0ff90::
https://api.github.com/repos/NixOS/nixpkgs,13454,xerces::master,0,merged,1.severity: security::8.has: package (update)::,"Xerces has had many bugfixes between 3.1.1 and 3.1.3, including a recent buffer overflow. This update is binary compatible with 3.1.1, and should be backported to 15.09. http://seclists.org/oss-sec/2016/q1/4392 ###### Things done: - [X] Tested via `nix.useChroot`. - [X] Built on platform(s): linux x86 64. - [X] Tested compilation of all pkgs that depend on this change. - [ ] Tested execution of binary products. - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",f91c979f8aaa329de089d3d4e0dd56a6bb9d922a::
https://api.github.com/repos/NixOS/nixpkgs,13379,upgrade-rustc-master-rebase::master,0,closed,,"Continuation from https://github.com/NixOS/nixpkgs/pull/13371 @wizeman despite still building and testing these changes locally (I'll tick the ""done"" boxes as they finish, rust takes a long time ...) how does this look? How do we go about backporting this to 15.09, which is my ultimate goal? I'd like to do as much of that backporting work as possible for this ticket so I can do it in the future too. ###### Things done: - [x] Tested via `nix.useChroot`. - [X] Built on platform(s): linux x86-64. - [ ] Tested compilation of all pkgs that depend on this change. - [X] Tested execution of binary products. - [X] Fits [CONTRIBUTING.md](https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md). ::",8bcefd7123f06cd2c798a8bff6fb8c64a8d8cd9d::
https://api.github.com/repos/NixOS/nixpkgs,12982,syncthing-12::release-15.09,0,merged,8.has: package (update)::,cc @domenkozar also backports #9968 i'm testing it right now... ::,d218e2252c4627b39ec788df832516c2851c55e8::
https://api.github.com/repos/NixOS/nixpkgs,12200,update-llvm::master,0,closed,1.severity: mass-rebuild::,This obsoletes a backport for rust. ::,03493c1b25dca8118cd06461d28f847ef2f72904::
https://api.github.com/repos/NixOS/nixpkgs,11839,qt-5.4::master,0,merged,0.kind: enhancement::8.has: clean-up::8.has: package (update)::,"- backport Qt infrastructure to Qt 5.4 - update packages dependencies to Qt 5.5, where possible - simplify Qt infrastructure slightly Just for Travis at this point! ::",1402c20bfd59d0584884b74d53e8cb1214c259e1::758901397b3c6ce971d1b8b3e2c5b8d7d7137238::664a64ef132ccd7781d5a16f1d8d551ea077e940::2a8b6959cccea20806793f88b9fc7c7c230c2dc0::fef302e3e4d918e54bea423c6b42ab91c137ca01::c1841675f378b3d5a4100d3af5032547ca8713c0::7450865827821efbd33a35f16bcdfb8aafd34d27::f250a6e64ef1aa7fd4bb5e48cccc7df65293bbae::2dc00624437d186fd5c9e5ebea81382b2aeb0e2c::68ff859bf0affcc76de59adc27b804649e28c2ab::05dbd07cd14c50b5ad60ae0f060dd95767f87b1e::26cf5db23ff64832a1e7fddebf9d525c71e16604::b8b14eda6963aaca56e9e40cd9f58629d0adf520::36ea03660e2ec6ef8a4b321e97d278bda211cc93::d7dff0057c0a8f86b1ba7f76a246a6ef825e3a27::9a91200e9e6bc6592a6b086f635593cc409e0853::ad9ece4f921af0e0bb3183887d64c121d9133207::700546fd12c767e61f8adcc458a3abbc7f6c97d8::0b303f6edd1e1c24fb7659d56796d871f8c727db::d40531639899805efd9ecbcd04ce11062bb59a39::ccdbc228369480fe5f96b162ac46fcef3be55127::a0bae9b57118546ba4c3a53bdea8ab42a99b8a13::b829137151239298a1fa5c72145a584ec7dc9d5d::d086276c1eca07f8cd9dc15604977f51f10e2d6e::1f28d76190a801ebe6639d57f648dc35425cb99d::8bbbb31f3fe1c76a2243ea13024dcd5034834d6e::3e6a70d9744db535208d522e003eed03cde2de31::5af2e7b76e45cd924743e73012f14d7a703d0984::07a79f2a9b3fa565d8fd58f71213da620352e0cf::e292103d463e2818416e3b238d7a74f7bb369ae6::36dea909b774b037c68d5ebc369c4378f23fe87f::732de877869a1f59d4226452e379eaa1cc998561::121f944d0df29eebabd5fa91a5ecc69c0a549a0e::06f9ac71dc73d1f296c31a1156162f7a6a9d3cae::88514fdf581374d42083b8f8fb0303814fffbe3b::4e71ebd7c98fae2552e820e18ab464a234828c6e::249e5f732afd9afa5fbdc6e3ec99cfc5e4eb5014::de5898a49585fd2a4f57c0263377400b180d2641::fc13f37f2c3f665a5b71860c589611fd03d5895b::541b2f20de9912b85f3b5b4a182607cf3e646d2a::97f7eb1e640bbb3c8d861badc462f8b48c79dd5d::17e17ea64965b96f76f09b564c546eff8c66c8d0::e78202671990320515ffca82c89d2aa079baea9b::660736def8734a2d2e66a03ad4f777148bc0820b::9d79319eaebc856cf3a7ae11423b987a7e0b2d00::126188be5c5b8a0252adbd204b5f85cfd8c43fd4::1cd5505a9fadac3a1d4b92b1fd78e58f0fa7935a::538ce57feb63f93b692ea43f0f52643f6fe99ed6::1d331481fc1872c4ea6713eb3f59e6441e863c8b::143d6123dc2b7eba0d1e1b8c1e440d7acea2f357::54bcdcc0a7052c68e2123a11f19222fa24c4f482::5810f0e7edc304a19332eacf2aaec232a00569ed::d534d5f0977fcaedaf8e80c53c6f3a4a3931346d::85c19f8fb4bffec3c3ecfa464dd068d801a60ebb::27c522cc3b0010ee0a1e44a52fbeaf345c76dce8::298c4befda449f0b158a85efe16219fbe716c02d::
https://api.github.com/repos/NixOS/nixpkgs,10966,backport-steam-chrootenv::release-15.09,0,closed,6.topic: steam::9.needs: reporter feedback::,"The goal for me was actually just to backport ef5c05234569d984d24244a2d885a2744be59e26 (""fhs-env: symlink /usr/lib to libs for the main architecture""), but due to dependencies on several steam commits in master, I ended up with this PR. I have build tested with nox-review, but not run-tested. I have no idea if these steam changes are stable enough for the release-15.09 branch. Hopefully some steam users can give some feedback. ::",e8fea1e82ffd827d84f8ea9d04a204261a00a4e8::f07b8b20a52be73366f9e2b1637956b9855ff81c::41d5afe9c0140f3ea92ba00f5cdd381a06ecab92::fbdc276bdc864c5d30b9919b767e339c0283bf80::303ccd17907becf5501d44fd34eb10bf099b3b5a::6be144d8b2858e6c9f6e364d2385d464cf417609::644db9be8d55ba3411f6785059db4b0e0b5ffdb7::81bdd6fe16acd52d3e8f752ec26a57ee44465850::b092d80c648d555cbbd2906d2d402f75ab2627dd::efeca6fbc0b088593da5d2809e9a3cdb03cc9375::e4c50d55b8b38c8806e7deea512a08edd3c3046a::8192aa3e7a3e9b6ddfe3669f8bc5190b6285bf67::01186fb53474aff237806084ab3a4535043c57f7::ef5c05234569d984d24244a2d885a2744be59e26::
https://api.github.com/repos/NixOS/nixpkgs,10740,symbola-fix-15.09::release-15.09,0,closed,,"I think this deserves a backport, since it fixes a build failure? ::",525c24117b373dd8bea7f06570de8a417e0f9ef6::
https://api.github.com/repos/NixOS/nixpkgs,9983,quake3-test-fix::release-15.09,0,closed,,This fixes the quake3 test. It was suggested in #9471 that llvm 3.7 might also fix this. Would backporting 3.7 from master be a better approach? Is this fix good enough for 15.09? ::,66430af451bb6db7bae29ca541ccf08b469ecfad::
https://api.github.com/repos/NixOS/nixpkgs,9873,multiprocessing::master,0,merged,,"multiprocessing is a backport for Python 2.4 and 2.5. Both versions are not supported on Nix. This removes the multiprocessing package. cc @layus Furthermore, dependency of inginious on multiprocessing is removed. Issue upstream: https://github.com/UCL-INGI/INGInious/issues/73 ::",ca769a679a21c3bef366eab6447995887e47d80e::3633a3b6f192683e69fac617d54a9d80a9ca2f00::
https://api.github.com/repos/NixOS/nixpkgs,8492,rubygems-2.4.8::master,0,closed,,"There are certificate issues with 2.4.1 which cause gem install failures: ``` Gem::RemoteFetcher::FetchError: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (https://rubygems.org/gems/rake-0.9.2.gem) ``` This might be worth backporting to other branches, since it's unlikely that the https version of rubygems works with any rubygems version before 2.4.4. ::",f0a06221c45588b482460bdba8402316b2107f79::
https://api.github.com/repos/NixOS/nixpkgs,8365,libuv::master,0,closed,,Consists mostly of bugfixes. Builds locally. Should be API-compatible with 1.5. Any chance of getting this backported into the next stable snapshot? cc @cstrahan ::,c29720b3218012bed813d706dcf6322e15739fa9::
https://api.github.com/repos/NixOS/nixpkgs,7172,fix-agda::master,0,closed,6.topic: haskell::,"This migrates Agda to haskell-ng. The patch consists of several parts: 1) jailbreak-cabal now happens postPatch. This may be a controversial thing (perhaps requiring its own PR) -- though in my opinion it's more logical. It allows us to apply patches which modify stock .cabal file before it's regenerated by jailbreak-cabal. 2) Adds backported patch https://github.com/agda/agda/commit/f41911c09ee8f8c81bde21710cc7ce205cda02f8 to Agda -- this fixes its compilation on GHC 7.8 3) Migrates agda builder and libraries to haskell-ng, per @Fuuzetsu 's guide on ML. Also cleaned up and updated few libraries. @peti @Fuuzetsu ::",8b9b41c44b37bb937e40baa8ddfd4ad608c1b72d::c6d9e0a829d5545c6cdc438b446c7b6cd0e4b7fb::
https://api.github.com/repos/NixOS/nixpkgs,7028,enum34::master,0,merged,,also fixed missing build input for python 2.6 and restricted it to versions less than 3.4 since this package is meant as a backport from 3.4 ::,1f34a1d4ada652b04057b7457c802c963f04c109::
https://api.github.com/repos/NixOS/nixpkgs,4637,python-readd-test-module::master,0,closed,,- test/test_support.py module is used by many libraries which backport python 3.0 functionality to 2.6/2.7 - enable subprocess32 tests (now passing for python 2.6/2.7) ::,f9f9136d5885b88c1d22b2069500aa9835aab796::
https://api.github.com/repos/NixOS/nixpkgs,2491,emacs-macport::master,0,closed,,"This is a Carbon Emacs backport, which has several advantages over the stock Cocoa Emacs, mostly in terms of font rendering and subprocess communication speed. ::",7f1d26e9ab2d8ce826a0b238fbe320ff7fdec103::
https://api.github.com/repos/NixOS/nixpkgs,2080,python-thumbor::master,0,merged,,"derpconf, backports_ssl_match_hostname_3_4_0_2, thumborPexif, upgrade tornado to 3.2 (that contains security fixes) ::",46ef4f691000c2040b09336a29281299dfce0fdc::f733eb899a448115a3feadf67018b9d17d55b1c7::
